(()=>{var e={9475:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addCookie=function(e,t,n){var i="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i="; expires="+o.toUTCString()}document.cookie=e+"="+t+i+"; path=/"},t.deleteCookie=function(e){var t=new Date;document.cookie=e+"=;expires="+t.toUTCString()+";path=/"},t.getCookie=function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return t?t[2]:""}},7216:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shopIntroduceCustomerService=t.shopIntroduceShoppingGuide=t.shopIntroducePageInfo=t.officialBrandStory=t.backInStockAlertList=t.traceSalePageList=t.vipMemberIndexPageInfo=t.unknownPageInfo=t.loginIndexPageInfo=t.appDownloadPage=t.payFinishPageInfo=t.payLandingPageInfo=t.payIndexPageInfo=t.shoppingCart=t.eCouponHowToUse=t.collectionDetail=t.collectionViewAll=t.tagCategory=t.loyaltyPointCenter=t.loyaltyPointECouponDetail=t.loyaltyPointECouponList=t.fsEvent=t.newestSalePage=t.storeSidebarCustomLink=t.infoModuleVideoDetail=t.infoModuleVideoList=t.infoModuleAlbumDetail=t.infoModuleAlbumList=t.infoModuleArticleDetail=t.infoModuleArticleList=t.infoModuleList=t.promotionEngine=t.custom=t.hidden=t.vipMemberProfile=t.search=t.hotSaleRanking=t.couponDetail=t.couponList=t.shopStoreDetail=t.shopStoreList=t.promotionDetail=t.promotionList=t.eCouponHistory=t.ecouponDetail=t.ecouponList=t.activityPageInfo=t.salePageInfo=t.shopCategoryPageInfo=t.indexPageInfo=void 0,t.extraPurchaseList=t.addOnsSalePage=t.shoppingCartBatchInsert=t.ecouponIdForLoyaltyPoint=t.ecouponCustomList=t.stampRecordHistory=t.pointHistory=t.walletHistoryTopped=t.walletHistoryCard=t.walletHistoryAll=t.consumptionHistoryOffline=t.consumptionHistoryOnline=t.outerSalesOrder=t.crmShopMemberCardDescPage=t.brandPageWrapper=t.brandIndexWrapper=t.inlineWrapper=t.invitingHistory=t.invitingFriends=t.notFoundPage=t.activityPreparation=t.activityClosed=t.officialClosed=t.serviceInfo=t.preparation=t.payFinishExpressCheckout=t.expressCheckout=t.expressSalePage=t.salePageCommentList=t.gameModuleEvent=t.changeGoodsRequest=t.returnGoodsRequest=t.cancelGoodsRequest=t.promotionGift=t.locationPickupSelectLocation=t.browsingHistory=t.preview=t.questionInsertPageInfo=t.emailNotificationPageInfo=t.agreePrivacyPageInfo=t.myAccountChangePassword=t.invoiceListPageInfo=t.questionCustomerServiceCenter=t.ecouponMyEcoupon=t.tradesOrderDetail=t.tradesOrderList=t.myAccountLocationBooksPageInfo=t.myAccountVipMemberBenefits=t.myAccountPrivacy=t.helpServicePageInfo=void 0;var i=n(3102);t.indexPageInfo={pageType:i.PAGE_TYPE.INDEX,pageTitle:"首頁",viewType:"Home",routerPathFunc:function(){return"/"}},t.shopCategoryPageInfo={pageType:i.PAGE_TYPE.CATEGORY,pageTitle:"小分類頁",viewType:"SalePageCategory",routerPathFunc:function(e){var t=e.id;return"/v2/official/SalePageCategory/"+(void 0===t?"":t)}},t.salePageInfo={pageType:i.PAGE_TYPE.SALEPAGE,pageTitle:"商品頁",viewType:"SalePage",routerPathFunc:function(e){var t=e.id;return"/SalePage/Index/"+(void 0===t?"":t)}},t.activityPageInfo={pageType:i.PAGE_TYPE.ACTIVITY,pageTitle:"活動頁公版",viewType:"Activity",routerPathFunc:function(e){var t=e.id;return"/v2/activity/"+(void 0===t?"":t)}},t.ecouponList={pageType:i.PAGE_TYPE.ECOUPON_LIST,pageTitle:"優惠券專區 全部列表",viewType:"ECouponList",routerPathFunc:function(){return"/v2/ECoupon/List"}},t.ecouponDetail={pageType:i.PAGE_TYPE.ECOUPON,pageTitle:"優惠券詳細頁",viewType:"ECouponDetail",routerPathFunc:function(e){var t=e.id;return"/v2/ECoupon/Detail/"+(void 0===t?"":t)}},t.eCouponHistory={pageType:i.PAGE_TYPE.ECOUPON_HISTORY,pageTitle:"優惠券紀錄",viewType:"ECouponECouponHistory",routerPathFunc:function(){return"/V2/ECoupon/ECouponHistory"}},t.promotionList={pageType:i.PAGE_TYPE.PROMOTION_LIST,pageTitle:"折扣活動列表頁",viewType:"PromotionList",routerPathFunc:function(){return"/v2/Promotion/List"}},t.promotionDetail={pageType:i.PAGE_TYPE.PROMOTION,pageTitle:"折扣活動內容頁-現折活動",viewType:"PromotionDetail",routerPathFunc:function(e){var t=e.id;return"/Promotion/Detail/"+(void 0===t?"":t)}},t.shopStoreList={pageType:i.PAGE_TYPE.SHOP_STORE_LIST,pageTitle:"門市資訊",viewType:"StoreList",routerPathFunc:function(e){return"/v2/Shop/StoreList/"+(e.shopId||"")}},t.shopStoreDetail={pageType:i.PAGE_TYPE.SHOP_STORE_DETAIL,pageTitle:"門市詳細",viewType:"StoreDetail",routerPathFunc:function(e){var t=e.shopId,n=e.id;return"/Shop/StoreDetail/"+(t||"")+"/"+(void 0===n?"":n)}},t.couponList={pageType:i.PAGE_TYPE.COUPON_LIST,pageTitle:"門市優惠券列表",viewType:"ECouponListCoupon",routerPathFunc:function(){return"/v2/ECoupon/List/Coupon"}},t.couponDetail={pageType:i.PAGE_TYPE.COUPON,pageTitle:"門市優惠券",viewType:"CouponDetail",routerPathFunc:function(e){var t=e.id;return"/Coupon/Detail/"+(void 0===t?"":t)}},t.hotSaleRanking={pageType:i.PAGE_TYPE.HOT_SALE_RANKING,pageTitle:"熱銷排行榜",viewType:"HotSaleRanking",routerPathFunc:function(e){return"/Shop/HotSaleRanking/"+(e.shopId||"")+"?period=Weekly"}},t.search={pageType:i.PAGE_TYPE.SEARCH,pageTitle:"搜尋結果",viewType:"Search",routerPathFunc:function(e){var t=e.shopId,n=e.id;return"/v2/Search?q="+encodeURI(String(n))+"&shopId="+(t||"")}},t.vipMemberProfile={pageType:i.PAGE_TYPE.VIP_MEMBER_PROFILE,pageTitle:"會員基本資料",viewType:"VipMemberProfile",routerPathFunc:function(){return"/v2/VipMember/Profile"}},t.hidden={pageType:i.PAGE_TYPE.HIDDEN,pageTitle:"隱形活動頁",viewType:"HiddenPage",routerPathFunc:function(e){var t=e.id;return"/hidden/"+(void 0===t?"":t)}},t.custom={pageType:i.PAGE_TYPE.CUSTOM,pageTitle:"自訂頁",viewType:"CustomPage",routerPathFunc:function(e){var t=e.id;return"/page/"+(void 0===t?"":t)}},t.promotionEngine={pageType:i.PAGE_TYPE.PROMOTION_ENGINE,pageTitle:"促購引擎折扣活動內容頁",viewType:"PromotionEngineDetail",routerPathFunc:function(e){var t=e.id;return"/v2/PromotionEngine/Detail/"+(void 0===t?"":t)}},t.infoModuleList={pageType:i.PAGE_TYPE.SHOP_INFO_MODULE_LIST,pageTitle:"資訊模組列表頁",viewType:"InfoModule",routerPathFunc:function(){return"/v2/shop/InfoModuleList#/"}},t.infoModuleArticleList={pageType:i.PAGE_TYPE.SHOP_INFO_MODULE_ARTICLE_LIST,pageTitle:"文章列表頁",viewType:"Article",routerPathFunc:function(){return"/v2/shop/InfoModuleList#!/ArticleList"}},t.infoModuleArticleDetail={pageType:i.PAGE_TYPE.SHOP_INFO_MODULE_ARTICLE_DETAIL,pageTitle:"圖文模組頁",viewType:"ArticleDetail",routerPathFunc:function(e){var t=e.id;return"/Article/Detail/"+(void 0===t?"":t)}},t.infoModuleAlbumList={pageType:i.PAGE_TYPE.SHOP_INFO_MODULE_ALBUM_LIST,pageTitle:"相簿列表頁",viewType:"Album",routerPathFunc:function(){return"/v2/shop/InfoModuleList#!/AlbumList"}},t.infoModuleAlbumDetail={pageType:i.PAGE_TYPE.SHOP_INFO_MODULE_ALBUM_DETAIL,pageTitle:"相簿模組頁",viewType:"AlbumDetail",routerPathFunc:function(e){var t=e.id;return"/Album/Detail/"+(void 0===t?"":t)}},t.infoModuleVideoList={pageType:i.PAGE_TYPE.SHOP_INFO_MODULE_VIDEO_LIST,pageTitle:"影片列表頁",viewType:"Video",routerPathFunc:function(){return"/v2/shop/InfoModuleList#!/VideoList"}},t.infoModuleVideoDetail={pageType:i.PAGE_TYPE.SHOP_INFO_MODULE_VIDEO_DETAIL,pageTitle:"影音模組頁",viewType:"VideoDetail",routerPathFunc:function(e){var t=e.id;return"/Video/Detail/"+(void 0===t?"":t)}},t.storeSidebarCustomLink={pageType:i.PAGE_TYPE.STORE_SIDEBAR_CUSTOM_LINK,pageTitle:"側欄門市自訂連結",viewType:"VIPMemberCustomLinkRelay",routerPathFunc:function(e){var t=e.id;return"/v2/VIPMember/CustomLinkRelay/"+(void 0===t?"":t)}},t.newestSalePage={pageType:i.PAGE_TYPE.NEWEST_SALEPAGE,pageTitle:"最新商品頁",viewType:"NewestSalePage",routerPathFunc:function(){return"/v2/Official/NewestSalePage"}},t.fsEvent={pageType:i.PAGE_TYPE.FS_EVENT,pageTitle:"Fever social 活動頁",viewType:"NewestSalePage",routerPathFunc:function(e){var t=e.shopId,n=e.id;return"/v2/FSevent/"+(t||"")+"/"+(void 0===n?"":n)}},t.loyaltyPointECouponList={pageType:i.PAGE_TYPE.LOYALTY_POINT_ECOUPON_LIST,pageTitle:"會員點數兌換專區",viewType:"LoyaltyPointToECouponList",routerPathFunc:function(){return"/v2/LoyaltyPoint/ECouponList"}},t.loyaltyPointECouponDetail={pageType:i.PAGE_TYPE.LOYALTY_POINT_ECOUPON_DETAIL,pageTitle:"紅利點數折價券詳細頁",viewType:"LoyaltyPointToECouponDetail",routerPathFunc:function(){return"/v2/LoyaltyPoint/ECouponDetail"}},t.loyaltyPointCenter={pageType:i.PAGE_TYPE.LOYALTY_POINT_CENTER,pageTitle:"會員點數中心",viewType:"LoyaltyPointCenter",routerPathFunc:function(){return"/V2/LoyaltyPoint/Index"}},t.tagCategory={pageType:i.PAGE_TYPE.TAG_CATEGORY,pageTitle:"標籤分類頁",viewType:"TagCategory",routerPathFunc:function(e){var t=e.id;return"/tagCategory/"+(void 0===t?"":t)}},t.collectionViewAll={pageType:i.PAGE_TYPE.COLLECTION_VIEW_ALL,pageTitle:"穿搭一覽頁",viewType:"CollectionList",routerPathFunc:function(){return"/catalog/collectionList"}},t.collectionDetail={pageType:i.PAGE_TYPE.COLLECTION_DETAIL,pageTitle:"穿搭詳細頁",viewType:"CollectionDetail",routerPathFunc:function(e){var t=e.id;return"/catalog/collectionDetail/"+(void 0===t?"":t)}},t.eCouponHowToUse={pageType:i.PAGE_TYPE.ECOUPON_HOW_TO_USE,pageTitle:"折價券使用說明",viewType:"ECouponHowToUse",routerPathFunc:function(){return"ECoupon/HowToUse"}},t.shoppingCart={pageType:i.PAGE_TYPE.SHOPPING_CART,pageTitle:"購物車",viewType:"ShoppingCart",routerPathFunc:function(e){return"/v2/ShoppingCart/Index?shopId="+(e.shopId||"")+"#/Info/Index"}},t.payIndexPageInfo={pageType:i.PAGE_TYPE.PAY_INDEX,pageTitle:"結帳付款頁",viewType:"Pay",routerPathFunc:function(e){var t=e.shopId,n=e.id;return"/v2/Pay?k="+(void 0===n?"":n)+"shopId="+(t||"")+"#/Info/PayAdvanced"}},t.payLandingPageInfo={pageType:i.PAGE_TYPE.PAY_LANDING,pageTitle:"結帳付款頁等待頁",viewType:"PayLanding",routerPathFunc:function(){return"/v2/Pay/Landing"}},t.payFinishPageInfo={pageType:i.PAGE_TYPE.PAY_FINISH,pageTitle:"結帳完成頁",viewType:"PayFinish",routerPathFunc:function(e){var t=e.shopId,n=e.id;return"/v2/Pay/Finish?k="+(void 0===n?"":n)+"&shopId="+(t||"")}},t.appDownloadPage={pageType:i.PAGE_TYPE.APP_DOWNLOAD,pageTitle:"導下載頁",viewType:"AppDownload",routerPathFunc:function(){return"/app/download"}},t.loginIndexPageInfo={pageType:i.PAGE_TYPE.LOGIN,pageTitle:"登入",viewType:"Login",routerPathFunc:function(){return"/V2/Login/Index"}},t.unknownPageInfo={pageType:null,pageTitle:"不明的頁面",viewType:"unknown",routerPathFunc:function(){return""}},t.vipMemberIndexPageInfo={pageType:i.PAGE_TYPE.VIP_MEMBER,viewType:"VipMember",pageTitle:"會員專區",routerPathFunc:function(){return"/V2/VipMember/Index"}},t.traceSalePageList={viewType:"WishList",pageType:i.PAGE_TYPE.TRACE_SALE_PAGE_LIST,pageTitle:"我的收藏",routerPathFunc:function(){return"/TraceSalePageList/TraceSalePageList"}},t.backInStockAlertList={viewType:"BackInStockAlertList",pageType:i.PAGE_TYPE.BACK_IN_STOCK_ALERT_LIST,pageTitle:"貨到通知",routerPathFunc:function(){return"/v2/BackInStockAlertList"}},t.officialBrandStory={viewType:"BrandStory",pageType:i.PAGE_TYPE.OFFICIAL_BRAND_STORY,pageTitle:"品牌故事",routerPathFunc:function(){return"/v2/Official/BrandStory"}},t.shopIntroducePageInfo={viewType:"Introduce",pageType:i.PAGE_TYPE.SHOP_INTRODUCE,pageTitle:"商店簡介",routerPathFunc:function(e){return"/shop/introduce/"+(e.shopId||"")+"?t=1"}},t.shopIntroduceShoppingGuide={viewType:"Introduce",pageType:i.PAGE_TYPE.SHOP_INTRODUCE_SHOPPING_GUIDE,pageTitle:"購物說明",routerPathFunc:function(e){return"/shop/introduce/"+(e.shopId||"")+"?t=2"}},t.shopIntroduceCustomerService={viewType:"Introduce",pageType:i.PAGE_TYPE.SHOP_INTRODUCE_CUSTOMER_SERVICE,pageTitle:"商店客服",routerPathFunc:function(e){return"/shop/introduce/"+(e.shopId||"")+"?t=3"}},t.helpServicePageInfo={pageType:null,viewType:"",pageTitle:"購物說明",routerPathFunc:function(e){return"/shop/introduce/"+(e.shopId||"")+"?t=2"}},t.myAccountPrivacy={pageType:i.PAGE_TYPE.MY_ACCOUNT_PRIVACY,pageTitle:"隱私權條款頁",viewType:"Privacy",routerPathFunc:function(){return"/MyAccount/Privacy"}},t.myAccountVipMemberBenefits={pageType:i.PAGE_TYPE.MY_ACCOUNT_VIP_MEMBER_BENEFITS,viewType:"VipMemberBenefits",pageTitle:"會員權益說明",routerPathFunc:function(){return"/V2/MyAccount/VipMemberBenefits"}},t.myAccountLocationBooksPageInfo={pageType:null,viewType:"",pageTitle:"常用收件人",routerPathFunc:function(){return"/MyAccount/LocationBooks"}},t.tradesOrderList={pageType:i.PAGE_TYPE.TRADES_ORDER_LIST,viewType:"TradesOrderList",pageTitle:"訂單列表",routerPathFunc:function(){return"/V2/TradesOrder/TradesOrderList"}},t.tradesOrderDetail={pageType:i.PAGE_TYPE.TRADES_ORDER_LIST,viewType:"TradesOrderDetail",pageTitle:"訂單明細",routerPathFunc:function(){return"/V2/TradesOrder/TradesOrderDetail"}},t.ecouponMyEcoupon={pageType:i.PAGE_TYPE.ECOUPON_MY_ECOUPON,pageTitle:"我的優惠券",viewType:"ECouponMyECoupon",routerPathFunc:function(){return"/V2/ECoupon/MyECoupon"}},t.questionCustomerServiceCenter={pageType:i.PAGE_TYPE.QUESTION_CUSTOMER_SERVICE_CENTER,viewType:"CustomerServiceCenter",pageTitle:"常見問題",routerPathFunc:function(){return"/Question/CustomerServiceCenter"}},t.invoiceListPageInfo={pageType:null,viewType:"",pageTitle:"常用統一編號",routerPathFunc:function(){return"/MyAccount/InvoiceList"}},t.myAccountChangePassword={pageType:i.PAGE_TYPE.MY_ACCOUNT_CHANGE_PASSWORD,viewType:"ChangePassword",pageTitle:"修改密碼",routerPathFunc:function(){return"/V2/MyAccount/ChangePassword"}},t.agreePrivacyPageInfo={pageType:null,viewType:"",pageTitle:"會員權益聲明",routerPathFunc:function(){return"/V2/VipMember/agreePrivacy"}},t.emailNotificationPageInfo={pageType:null,viewType:"",pageTitle:"通知相關設定",routerPathFunc:function(){return"/V2/VipMember/EmailNotification"}},t.questionInsertPageInfo={pageType:i.PAGE_TYPE.QUESTION_INSERT,viewType:"QuestionInsert",pageTitle:"客服留言/問答紀錄",routerPathFunc:function(e){return"/Question/QuestionInsert/0?sId="+(e.shopId||"")}},t.preview={pageType:i.PAGE_TYPE.PRIVIEW,viewType:"Preview",pageTitle:"預覽頁",routerPathFunc:function(e){var t=e.id;return"/preview/"+(void 0===t?"":t)}},t.browsingHistory={pageType:i.PAGE_TYPE.BROWSING_HISTORY,viewType:"BrowsingHistory",pageTitle:"瀏覽紀錄",routerPathFunc:function(){return"/v2/browsingHistory"}},t.locationPickupSelectLocation={pageType:i.PAGE_TYPE.LOCATION_PICK_UP_SELECT_LOCATION,viewType:"LocationPickup",pageTitle:"選擇門市",routerPathFunc:function(){return"/V2/LocationPickup/SelectLocation"}},t.promotionGift={pageType:i.PAGE_TYPE.PROMOTION_GIFT,viewType:"PromotionGift",pageTitle:"贈品詳細",routerPathFunc:function(){return"/V2/Promotion/Gift"}},t.cancelGoodsRequest={pageType:i.PAGE_TYPE.CANCEL_GOODS_REQUEST,viewType:"CancelGoodsRequest",pageTitle:"訂單取消",routerPathFunc:function(){return"/V2/CancelGoodsRequest/list"}},t.returnGoodsRequest={pageType:i.PAGE_TYPE.RETURN_GOODS_REQUEST,viewType:"ReturnGoodsRequest",pageTitle:"訂單退貨",routerPathFunc:function(){return"/V2/ReturnGoodsRequest/list"}},t.changeGoodsRequest={pageType:i.PAGE_TYPE.CHANGE_GOODS_REQUEST,viewType:"ChangeGoodsRequest",pageTitle:"訂單換貨",routerPathFunc:function(){return"/V2/ChangeGoodsRequest/list"}},t.gameModuleEvent={pageType:i.PAGE_TYPE.GAME_MODULE_EVENT,pageTitle:"遊戲產生器活動頁",viewType:"GameModuleEvent",routerPathFunc:function(e){var t=e.shopId,n=e.id;return"/V2/GameModule/"+(t||"")+"/gpc001/"+(void 0===n?"":n)}},t.salePageCommentList={pageType:i.PAGE_TYPE.SALEPAGE_COMMENT_LIST,pageTitle:"評價列表頁",viewType:"SalePageComment",routerPathFunc:function(e){var t=e.id;return"/v2/SalePageComment/List?salePageId="+(void 0===t?"":t)}},t.expressSalePage={pageType:i.PAGE_TYPE.EXPRESS_SALEPAGE,pageTitle:"商品頁_express",viewType:"ExpressSalePage",routerPathFunc:function(e){var t=e.id;return"/cms/liff/tall/expressSalePage/"+(void 0===t?"":t)}},t.expressCheckout={pageType:i.PAGE_TYPE.EXPRESS_CHECKOUT,pageTitle:"快速結帳",viewType:"ExpressCheckout",routerPathFunc:function(e){var t=e.id;return"/v2/checkouts/"+(void 0===t?"":t)+"?pageType=express"}},t.payFinishExpressCheckout={pageType:i.PAGE_TYPE.EXPRESS_CHECKOUT_PAY_FINISH,pageTitle:"結帳完成頁",viewType:"ExpressCheckout",routerPathFunc:function(e){var t=e.shopId,n=e.id;return"/v2/Pay/Finish?k="+(void 0===n?"":n)+"&shopId="+(t||"")+"&pageType=express"}},t.preparation={pageType:i.PAGE_TYPE.PREPARATION,pageTitle:"網站準備中",viewType:"Preparation",routerPathFunc:function(e){return"/V2/Static/Official/OfficialPreparation.htm?shopId="+e.shopId+"&reason=InProcess"}},t.serviceInfo={pageType:i.PAGE_TYPE.SERVICEINFO,pageTitle:"例行系統維護中",viewType:"ServiceInfo",routerPathFunc:function(){return"/service_info.htm"}},t.officialClosed={pageType:i.PAGE_TYPE.OFFICIAL_CLOSED,pageTitle:"網站關閉",viewType:"OfficialClosed",routerPathFunc:function(){return"/V2/Static/Official/Officialclosed.htm"}},t.activityClosed={pageType:i.PAGE_TYPE.ACTIVITY_CLOSED,pageTitle:"活動已結束",viewType:"Activityclosed",routerPathFunc:function(){return"/v2/Static/Activity/Activityclosed.html"}},t.activityPreparation={pageType:i.PAGE_TYPE.ACTIVITY_PREPARATION,pageTitle:"活動尚未開始",viewType:"ActivityPreparation",routerPathFunc:function(){return"/v2/Static/Activity/ActivityPreparation.html"}},t.notFoundPage={pageType:i.PAGE_TYPE.NOT_FOUND_PAGE,pageTitle:"找不到該頁面",viewType:"NotFoundPage",routerPathFunc:function(){return"/404V2.html"}},t.invitingFriends={pageType:i.PAGE_TYPE.INVITING_FRIENDS,pageTitle:"邀請好友",viewType:"SharedInvitation",routerPathFunc:function(){return"/V2/MyAccount/InvitingFriends"}},t.invitingHistory={pageType:i.PAGE_TYPE.INVITING_HISTORY,pageTitle:"邀請紀錄",viewType:"InvitingHistory",routerPathFunc:function(){return"/V2/MyAccount/InvitingHistory"}},t.inlineWrapper={pageType:i.PAGE_TYPE.INLINE_WRAPPER,pageTitle:"inline ifarme 頁",viewType:"IfarmeWrappery",routerPathFunc:function(e){return"/catalog/inlineWrapper/"+e.serviceType+"/"+e.id}},t.brandIndexWrapper={pageType:i.PAGE_TYPE.BRAND_INDEX,pageTitle:"品牌總覽頁",viewType:"ProductBrandOverview",routerPathFunc:function(){return"/V2/Brand"}},t.brandPageWrapper={pageType:i.PAGE_TYPE.BRAND_PAGE,pageTitle:"商品品牌頁",viewType:"BrandPage",routerPathFunc:function(e){var t=e.id;return"/V2/Brand/"+(void 0===t?"":t)}},t.crmShopMemberCardDescPage={pageType:i.PAGE_TYPE.MEMBER_CARD_DESC,pageTitle:"會員專區_會員制度說明頁",viewType:"CRMShopMemberCard",routerPathFunc:function(){return"/V2/CRMShopMemberCard/Description.html"}},t.outerSalesOrder={pageType:i.PAGE_TYPE.OUTER_SLAES_ORDER,pageTitle:"交易紀錄頁",viewType:"OuterSalesOrder",routerPathFunc:function(){return"/V2/MembershipCard/OuterSalesOrder#/"}},t.consumptionHistoryOnline={pageType:i.PAGE_TYPE.CONSUMPTION_HISTORY_ONLINE,pageTitle:"交易紀錄頁_消費紀錄_線上",viewType:"ConsumptionHistoryOnline",routerPathFunc:function(){return"/V2/MembershipCard/OuterSalesOrder#/consumption-history/online"}},t.consumptionHistoryOffline={pageType:i.PAGE_TYPE.CONSUMPTION_HISTORY_ONLINE,pageTitle:"交易紀錄頁_消費紀錄_門市",viewType:"ConsumptionHistoryOffline",routerPathFunc:function(){return"/V2/MembershipCard/OuterSalesOrder#/consumption-history/offline"}},t.walletHistoryAll={pageType:i.PAGE_TYPE.WALLET_HISTORY_ALL,pageTitle:"交易紀錄頁_POYABuy紀錄_全部",viewType:"WalletHistoryAll",routerPathFunc:function(){return"/V2/MembershipCard/OuterSalesOrder#/wallet-history/all"}},t.walletHistoryCard={pageType:i.PAGE_TYPE.WALLET_HISTORY_CARD,pageTitle:"交易紀錄頁_POYABuy紀錄_信用卡",viewType:"WalletHistoryCard",routerPathFunc:function(){return"/V2/MembershipCard/OuterSalesOrder#/wallet-history/card"}},t.walletHistoryTopped={pageType:i.PAGE_TYPE.WALLET_HISTORY_CARD,pageTitle:"交易紀錄頁_POYABuy紀錄_儲值金",viewType:"WalletHistoryTopped",routerPathFunc:function(){return"/V2/MembershipCard/OuterSalesOrder#/wallet-history/topped"}},t.pointHistory={pageType:i.PAGE_TYPE.POINT_HISTORY,pageTitle:"交易紀錄頁_點數紀錄",viewType:"PointHistory",routerPathFunc:function(){return"/V2/MembershipCard/OuterSalesOrder#/point-history"}},t.stampRecordHistory={pageType:i.PAGE_TYPE.STAMP_RECORD_HISTORY,pageTitle:"交易紀錄頁_印花紀錄",viewType:"StampRecordHistory",routerPathFunc:function(){return"/V2/MembershipCard/OuterSalesOrder#/stampRecord-history"}},t.ecouponCustomList={pageType:i.PAGE_TYPE.ECOUPON_CUSTOM_LIST,pageTitle:"優惠券專區 自訂券列表",viewType:"ecouponCustomList",routerPathFunc:function(e){var t=e.id;return"/v2/ECoupon/List?TypeDef=ECouponCustom&ECouponCustomId="+(void 0===t?"":t)}},t.ecouponIdForLoyaltyPoint={pageType:i.PAGE_TYPE.ECOUPON_ID_FOR_LOYALTY_POINT,pageTitle:"優惠券詳細頁(紅利點數兌換)",viewType:"ecouponIdForLoyaltyPoint",routerPathFunc:function(e){var t=e.id;return"/v2/LoyaltyPoint/ECouponDetail?eCouponId="+(void 0===t?"":t)}},t.shoppingCartBatchInsert={pageType:i.PAGE_TYPE.SHOPPING_CART_BATCH_INSERT,pageTitle:"購物車批次新增轉導頁",viewType:"ShoppingCartBatchInsert",routerPathFunc:function(){return"/v2/ShoppingCart/BatchInsert"}},t.addOnsSalePage={pageType:i.PAGE_TYPE.ADD_ONS_SALEPAGE,pageTitle:"商品頁",viewType:"AddOnsSalePage",routerPathFunc:function(e){var t=e.id;return"/AddOnsSalePage/Index/"+(void 0===t?"":t)}},t.extraPurchaseList={pageType:i.PAGE_TYPE.EXTRA_PURCHASE_LIST,pageTitle:"加價購專區",viewType:"AddOnsSalePageArea",routerPathFunc:function(e){var t=e.id;return"/V2/AddOnsSalePage/ExtraPurchaseList/"+(void 0===t?"":t)}}},3102:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PAGE_NAME=t.URL_TYPE=t.PAGE_TYPE=void 0,t.PAGE_TYPE={INDEX:"p01",CATEGORY:"p02",SALEPAGE:"p03",ACTIVITY:"p04",ECOUPON_LIST:"p05",ECOUPON:"p06",PROMOTION_LIST:"p07",PROMOTION:"p08",SHOP_STORE_LIST:"p09",SHOP_STORE_DETAIL:"p10",COUPON_LIST:"p11",COUPON:"p12",HOT_SALE_RANKING:"p13",SEARCH:"p14",VIP_MEMBER_PROFILE:"p15",HIDDEN:"p16",CUSTOM:"p17",PROMOTION_ENGINE:"p18",SHOP_INFO_MODULE_LIST:"p19",SHOP_INFO_MODULE_ARTICLE_LIST:"p20",SHOP_INFO_MODULE_ARTICLE_DETAIL:"p21",SHOP_INFO_MODULE_ALBUM_LIST:"p22",SHOP_INFO_MODULE_ALBUM_DETAIL:"p23",SHOP_INFO_MODULE_VIDEO_LIST:"p24",SHOP_INFO_MODULE_VIDEO_DETAIL:"p25",STORE_SIDEBAR_CUSTOM_LINK:"p26",NEWEST_SALEPAGE:"p27",FS_EVENT:"p28",LOYALTY_POINT_ECOUPON_LIST:"p29",TAG_CATEGORY:"p30",COLLECTION_VIEW_ALL:"p31",COLLECTION_DETAIL:"p32",ECOUPON_HOW_TO_USE:"p33",SHOPPING_CART:"p34",PAY_INDEX:"p35",PAY_LANDING:"p36",PAY_FINISH:"p37",APP_DOWNLOAD:"p38",LOGIN:"p39",TRADES_ORDER_LIST:"p40",PRIVIEW:"p41",BROWSING_HISTORY:"p42",SHOP_INTRODUCE:"p43",VIP_MEMBER:"p44",LOCATION_PICK_UP_SELECT_LOCATION:"p45",OFFICIAL_BRAND_STORY:"p46",SHOP_INTRODUCE_CUSTOMER_SERVICE:"p47",SHOP_INTRODUCE_SHOPPING_GUIDE:"p48",QUESTION_INSERT:"p49",QUESTION_CUSTOMER_SERVICE_CENTER:"p50",MY_ACCOUNT_PRIVACY:"p51",MY_ACCOUNT_VIP_MEMBER_BENEFITS:"p52",MY_ACCOUNT_CHANGE_PASSWORD:"p53",PROMOTION_GIFT:"p54",LOYALTY_POINT_CENTER:"p55",ECOUPON_HISTORY:"p56",ECOUPON_MY_ECOUPON:"p57",TRACE_SALE_PAGE_LIST:"p58",CANCEL_GOODS_REQUEST:"p59",RETURN_GOODS_REQUEST:"p60",CHANGE_GOODS_REQUEST:"p61",GAME_MODULE_EVENT:"p62",BACK_IN_STOCK_ALERT_LIST:"p63",SALEPAGE_COMMENT_LIST:"p64",EXPRESS_SALEPAGE:"p65",LOYALTY_POINT_ECOUPON_DETAIL:"p66",EXPRESS_CHECKOUT:"p67",EXPRESS_CHECKOUT_PAY_FINISH:"p68",PREVIEW:"p69",PREPARATION:"p70",SERVICEINFO:"p71",OFFICIAL_CLOSED:"p72",ACTIVITY_CLOSED:"p73",ACTIVITY_PREPARATION:"p74",NOT_FOUND_PAGE:"p75",INVITING_FRIENDS:"p76",INVITING_HISTORY:"p77",INLINE_WRAPPER:"P78",BRAND_INDEX:"P79",BRAND_PAGE:"P80",MEMBER_CARD_DESC:"p81",OUTER_SLAES_ORDER:"p82",CONSUMPTION_HISTORY_ONLINE:"p83",CONSUMPTION_HISTORY_OFFLINE:"p84",WALLET_HISTORY_ALL:"p85",WALLET_HISTORY_CARD:"p86",WALLET_HISTORY_TOPPED:"p87",POINT_HISTORY:"p88",STAMP_RECORD_HISTORY:"p89",ECOUPON_CUSTOM_LIST:"p90",ECOUPON_ID_FOR_LOYALTY_POINT:"p91",SHOPPING_CART_BATCH_INSERT:"p92",ADD_ONS_SALEPAGE:"p93",EXTRA_PURCHASE_LIST:"p94",UNKNOWN:"unknown"},t.URL_TYPE={CUSTOM:"custom",INTERNAL:"internal",NONE:"none"},t.PAGE_NAME={INDEX:"index",HIDDEN:"hidden",PREVIEW:"preview",CUSTOM:"custom",CATEGORY:"category",TAG_CATEGORY:"tagCategory",COLLECTION_LIST:"collectionList",COLLECTION_DETAIL:"collectionDetail",BROWSING_HISTORY:"browsingHistory",DOWNLOAD:"download",HOT_SALE_RANKING:"hotSaleRanking",EXPRESS_SALEPAGE:"expressSalePage",SEARCH:"search",NEWEST_SALE_PAGE:"newestSalePage",LINE_EXPRESS_RELAY:"lineExpressRelay",INLINE_WRAPPER:"inlineWrapper",LINE:"line"}},3131:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(3102),t),o(n(4878),t)},4878:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getPageUrl=t.getPageInfoByPageType=t.getPageInfoByPathRegex=t.PageInfoMap=void 0;var r=n(3102),c=a(n(7216));t.PageInfoMap=new Map([[r.PAGE_TYPE.INDEX,c.indexPageInfo],[r.PAGE_TYPE.CATEGORY,c.shopCategoryPageInfo],[r.PAGE_TYPE.SALEPAGE,c.salePageInfo],[r.PAGE_TYPE.ACTIVITY,c.activityPageInfo],[r.PAGE_TYPE.ECOUPON_LIST,c.ecouponList],[r.PAGE_TYPE.ECOUPON,c.ecouponDetail],[r.PAGE_TYPE.PROMOTION_LIST,c.promotionList],[r.PAGE_TYPE.PROMOTION,c.promotionDetail],[r.PAGE_TYPE.SHOP_STORE_LIST,c.shopStoreList],[r.PAGE_TYPE.SHOP_STORE_DETAIL,c.shopStoreDetail],[r.PAGE_TYPE.COUPON_LIST,c.couponList],[r.PAGE_TYPE.COUPON,c.couponDetail],[r.PAGE_TYPE.HOT_SALE_RANKING,c.hotSaleRanking],[r.PAGE_TYPE.SEARCH,c.search],[r.PAGE_TYPE.VIP_MEMBER_PROFILE,c.vipMemberProfile],[r.PAGE_TYPE.HIDDEN,c.hidden],[r.PAGE_TYPE.CUSTOM,c.custom],[r.PAGE_TYPE.PROMOTION_ENGINE,c.promotionEngine],[r.PAGE_TYPE.SHOP_INFO_MODULE_LIST,c.infoModuleList],[r.PAGE_TYPE.SHOP_INFO_MODULE_ARTICLE_LIST,c.infoModuleArticleList],[r.PAGE_TYPE.SHOP_INFO_MODULE_ARTICLE_DETAIL,c.infoModuleArticleDetail],[r.PAGE_TYPE.SHOP_INFO_MODULE_ALBUM_LIST,c.infoModuleAlbumList],[r.PAGE_TYPE.SHOP_INFO_MODULE_ALBUM_DETAIL,c.infoModuleAlbumDetail],[r.PAGE_TYPE.SHOP_INFO_MODULE_VIDEO_LIST,c.infoModuleVideoList],[r.PAGE_TYPE.SHOP_INFO_MODULE_VIDEO_DETAIL,c.infoModuleVideoDetail],[r.PAGE_TYPE.STORE_SIDEBAR_CUSTOM_LINK,c.storeSidebarCustomLink],[r.PAGE_TYPE.NEWEST_SALEPAGE,c.newestSalePage],[r.PAGE_TYPE.FS_EVENT,c.fsEvent],[r.PAGE_TYPE.LOYALTY_POINT_ECOUPON_LIST,c.loyaltyPointECouponList],[r.PAGE_TYPE.TAG_CATEGORY,c.tagCategory],[r.PAGE_TYPE.COLLECTION_VIEW_ALL,c.collectionViewAll],[r.PAGE_TYPE.COLLECTION_DETAIL,c.collectionDetail],[r.PAGE_TYPE.ECOUPON_HOW_TO_USE,c.eCouponHowToUse],[r.PAGE_TYPE.SHOPPING_CART,c.shoppingCart],[r.PAGE_TYPE.SHOPPING_CART_BATCH_INSERT,c.shoppingCartBatchInsert],[r.PAGE_TYPE.PAY_INDEX,c.payIndexPageInfo],[r.PAGE_TYPE.PAY_LANDING,c.payLandingPageInfo],[r.PAGE_TYPE.PAY_FINISH,c.payFinishPageInfo],[r.PAGE_TYPE.APP_DOWNLOAD,c.appDownloadPage],[r.PAGE_TYPE.UNKNOWN,c.unknownPageInfo],[r.PAGE_TYPE.LOGIN,c.loginIndexPageInfo],[r.PAGE_TYPE.TRADES_ORDER_LIST,c.tradesOrderList],[r.PAGE_TYPE.PRIVIEW,c.preview],[r.PAGE_TYPE.BROWSING_HISTORY,c.browsingHistory],[r.PAGE_TYPE.SHOP_INTRODUCE,c.shopIntroducePageInfo],[r.PAGE_TYPE.SHOP_INTRODUCE_SHOPPING_GUIDE,c.shopIntroduceShoppingGuide],[r.PAGE_TYPE.SHOP_INTRODUCE_CUSTOMER_SERVICE,c.shopIntroduceCustomerService],[r.PAGE_TYPE.VIP_MEMBER,c.vipMemberIndexPageInfo],[r.PAGE_TYPE.LOCATION_PICK_UP_SELECT_LOCATION,c.locationPickupSelectLocation],[r.PAGE_TYPE.OFFICIAL_BRAND_STORY,c.officialBrandStory],[r.PAGE_TYPE.QUESTION_INSERT,c.questionInsertPageInfo],[r.PAGE_TYPE.QUESTION_CUSTOMER_SERVICE_CENTER,c.questionCustomerServiceCenter],[r.PAGE_TYPE.MY_ACCOUNT_PRIVACY,c.myAccountPrivacy],[r.PAGE_TYPE.MY_ACCOUNT_VIP_MEMBER_BENEFITS,c.myAccountVipMemberBenefits],[r.PAGE_TYPE.MY_ACCOUNT_CHANGE_PASSWORD,c.myAccountChangePassword],[r.PAGE_TYPE.PROMOTION_GIFT,c.promotionGift],[r.PAGE_TYPE.LOYALTY_POINT_CENTER,c.loyaltyPointCenter],[r.PAGE_TYPE.ECOUPON_HISTORY,c.eCouponHistory],[r.PAGE_TYPE.ECOUPON_MY_ECOUPON,c.ecouponMyEcoupon],[r.PAGE_TYPE.TRACE_SALE_PAGE_LIST,c.traceSalePageList],[r.PAGE_TYPE.CANCEL_GOODS_REQUEST,c.cancelGoodsRequest],[r.PAGE_TYPE.RETURN_GOODS_REQUEST,c.returnGoodsRequest],[r.PAGE_TYPE.CHANGE_GOODS_REQUEST,c.changeGoodsRequest],[r.PAGE_TYPE.GAME_MODULE_EVENT,c.gameModuleEvent],[r.PAGE_TYPE.BACK_IN_STOCK_ALERT_LIST,c.backInStockAlertList],[r.PAGE_TYPE.SALEPAGE_COMMENT_LIST,c.salePageCommentList],[r.PAGE_TYPE.EXPRESS_SALEPAGE,c.expressSalePage],[r.PAGE_TYPE.LOYALTY_POINT_ECOUPON_DETAIL,c.loyaltyPointECouponDetail],[r.PAGE_TYPE.EXPRESS_CHECKOUT,c.expressCheckout],[r.PAGE_TYPE.EXPRESS_CHECKOUT_PAY_FINISH,c.payFinishExpressCheckout],[r.PAGE_TYPE.PREVIEW,c.preview],[r.PAGE_TYPE.PREPARATION,c.preparation],[r.PAGE_TYPE.SERVICEINFO,c.serviceInfo],[r.PAGE_TYPE.OFFICIAL_CLOSED,c.officialClosed],[r.PAGE_TYPE.ACTIVITY_CLOSED,c.activityClosed],[r.PAGE_TYPE.ACTIVITY_PREPARATION,c.activityPreparation],[r.PAGE_TYPE.INVITING_FRIENDS,c.invitingFriends],[r.PAGE_TYPE.INVITING_HISTORY,c.invitingHistory],[r.PAGE_TYPE.INLINE_WRAPPER,c.inlineWrapper],[r.PAGE_TYPE.BRAND_INDEX,c.brandIndexWrapper],[r.PAGE_TYPE.BRAND_PAGE,c.brandPageWrapper],[r.PAGE_TYPE.NOT_FOUND_PAGE,c.notFoundPage],[r.PAGE_TYPE.MEMBER_CARD_DESC,c.crmShopMemberCardDescPage],[r.PAGE_TYPE.OUTER_SLAES_ORDER,c.outerSalesOrder],[r.PAGE_TYPE.CONSUMPTION_HISTORY_ONLINE,c.consumptionHistoryOnline],[r.PAGE_TYPE.CONSUMPTION_HISTORY_OFFLINE,c.consumptionHistoryOffline],[r.PAGE_TYPE.WALLET_HISTORY_ALL,c.walletHistoryAll],[r.PAGE_TYPE.WALLET_HISTORY_CARD,c.walletHistoryCard],[r.PAGE_TYPE.WALLET_HISTORY_TOPPED,c.walletHistoryTopped],[r.PAGE_TYPE.POINT_HISTORY,c.pointHistory],[r.PAGE_TYPE.STAMP_RECORD_HISTORY,c.stampRecordHistory],[r.PAGE_TYPE.ECOUPON_CUSTOM_LIST,c.ecouponCustomList],[r.PAGE_TYPE.ECOUPON_ID_FOR_LOYALTY_POINT,c.ecouponIdForLoyaltyPoint],[r.PAGE_TYPE.ADD_ONS_SALEPAGE,c.addOnsSalePage],[r.PAGE_TYPE.EXTRA_PURCHASE_LIST,c.extraPurchaseList]]),t.getPageInfoByPathRegex=function(e,n,i){if(!e)return c.unknownPageInfo;var o,a=n||"undefined"!=typeof window?window.location.search:"",s=i||"undefined"!=typeof window?window.location.hash:"";switch(!0){case/(\/v2\/official\/$)|(\/v2\/official$)|^$|(^\/$)|(\/v2\/official\/Index$)|(\/v2\/official\/Index\/)/gi.test(e):o=c.indexPageInfo;break;case/\/v2\/official\/salepagecategory\/*/gi.test(e):o=c.shopCategoryPageInfo;break;case/\/salepage\/index\/*/gi.test(e):o=c.salePageInfo;break;case/\/v2\/activity\/*/gi.test(e):o=c.activityPageInfo;break;case/\/preview\/*/gi.test(e):o=c.preview;break;case/\/ecoupon\/list\/*/gi.test(e):o=/TypeDef=ECouponCustom/gi.test(a)?c.ecouponCustomList:c.ecouponList;break;case/\/v2\/ecoupon\/detail\/*/gi.test(e):o=c.ecouponDetail;break;case/\/v2\/promotion\/list\/*/gi.test(e):o=c.promotionList;break;case/\/promotion\/detail\/*/gi.test(e):o=c.promotionDetail;break;case/\/v2\/promotion\/gift\/*/gi.test(e):o=c.promotionGift;break;case/\/v2\/shop\/storeList\/*/gi.test(e):o=c.shopStoreList;break;case/\/shop\/storeDetail\/*/gi.test(e):o=c.shopStoreDetail;break;case/\/ecoupon\/list\/coupon\/*/gi.test(e):o=c.couponList;break;case/\/coupon\/detail\/*/gi.test(e):o=c.couponDetail;break;case/\/shop\/hotSaleRanking\/*/gi.test(e):o=c.hotSaleRanking;break;case/\/search\/*/gi.test(e):o=c.search;break;case/\/v2\/vipMember\/profile\/*/gi.test(e):o=c.vipMemberProfile;break;case/\/hidden\/*/gi.test(e):o=c.hidden;break;case/\/page\/*/gi.test(e):o=c.custom;break;case/\/v2\/promotionengine\/detail\/*/gi.test(e):o=c.promotionEngine;break;case/\/v2\/shop\/InfoModuleList\/*/gi.test(e):o="#/AlbumList"===s?c.infoModuleAlbumList:"#/ArticleList"===s?c.infoModuleArticleList:"#/VideoList"===s?c.infoModuleVideoList:c.infoModuleList;break;case/\/Article\/Detail\/*/gi.test(e):o=c.infoModuleArticleDetail;break;case/\/Album\/Detail\/*/gi.test(e):o=c.infoModuleAlbumDetail;break;case/\/Video\/Detail\/*/gi.test(e):o=c.infoModuleVideoDetail;break;case/\/v2\/official\/newestSalePage\/*/gi.test(e):o=c.newestSalePage;break;case/\/fsevent\/*/gi.test(e):o=c.fsEvent;break;case/\/v2\/LoyaltyPoint\/ECouponList\/*/gi.test(e):o=c.loyaltyPointECouponList;break;case/\/v2\/LoyaltyPoint\/index\/*/gi.test(e):o=c.loyaltyPointCenter;break;case/\/v2\/LoyaltyPoint\/ECouponDetail\/*/gi.test(e):o=/eCouponId=/gi.test(a)?c.ecouponIdForLoyaltyPoint:c.loyaltyPointECouponDetail;break;case/\/tag\/category\/*/gi.test(e):o=c.tagCategory;break;case/\/collectionList\/*/gi.test(e):o=t.PageInfoMap.get(r.PAGE_TYPE.COLLECTION_VIEW_ALL);break;case/\/collectionDetail\/*/gi.test(e):o=t.PageInfoMap.get(r.PAGE_TYPE.COLLECTION_DETAIL);break;case/\/ecoupon\/howToUse\/*/gi.test(e):o=c.eCouponHowToUse;break;case/\/v2\/ShoppingCart\/BatchInsert*/gi.test(e):o=c.shoppingCartBatchInsert;break;case/\/v2\/ShoppingCart*/gi.test(e):o=c.shoppingCart;break;case/\/v2\/pay\/index\/*|\/v2\/pay$/gi.test(e):o=c.payIndexPageInfo;break;case/\/v2\/pay\/landing\/*/gi.test(e):o=c.payLandingPageInfo;break;case/\/v2\/pay\/finish\/*/gi.test(e):var d=(null==a?void 0:a.length)?a.slice(1).split("&").reduce((function(e,t){var n,i=t.split("="),o=i[0],a=i[1];return Object.assign(e,((n={})[o]=a,n))}),{}):null;o=(null==d?void 0:d.pageType)&&"express"===d.pageType?c.payFinishExpressCheckout:c.payFinishPageInfo;break;case/\/app\/download\/*/gi.test(e):o=c.appDownloadPage;break;case/\/v2\/LocationPickup\/SelectLocation\/*/gi.test(e):o=c.locationPickupSelectLocation;break;case/\/TraceSalePageList\/TraceSalePageList\/*/gi.test(e):o=c.traceSalePageList;break;case/\/Official\/BrandStory\/*/gi.test(e):o=c.officialBrandStory;break;case/\/shop\/introduce\/*/gi.test(e):/t=1/gi.test(a)?o=c.shopIntroducePageInfo:/t=2/gi.test(a)?o=c.shopIntroduceShoppingGuide:/t=3/gi.test(a)&&(o=c.shopIntroduceCustomerService);break;case/\/Help\/ServiceInfo\/*/gi.test(e):o=c.helpServicePageInfo;break;case/\/MyAccount\/Privacy\/*/gi.test(e):o=c.myAccountPrivacy;break;case/\/MyAccount\/VipMemberBenefits\/*/gi.test(e):o=c.myAccountVipMemberBenefits;break;case/\/MyAccount\/LocationBooks\/*/gi.test(e):o=c.myAccountLocationBooksPageInfo;break;case/\/V2\/TradesOrder\/TradesOrderList*/gi.test(e):o=c.tradesOrderList;break;case/\/V2\/TradesOrder\/TradesOrderDetail*/gi.test(e):o=c.tradesOrderDetail;break;case/\/ECoupon\/MyECoupon\/*/gi.test(e):o=c.ecouponMyEcoupon;break;case/\/ECoupon\/ECouponHistory\/*/gi.test(e):o=c.eCouponHistory;break;case/\/Question\/CustomerServiceCenter\/*/gi.test(e):o=c.questionCustomerServiceCenter;break;case/\/MyAccount\/InvoiceList\/*/gi.test(e):o=c.invoiceListPageInfo;break;case/\/V2\/MyAccount\/ChangePassword\/*/gi.test(e):o=c.myAccountChangePassword;break;case/\/V2\/VipMember\/AgreePrivacy\/*/gi.test(e):o=c.agreePrivacyPageInfo;break;case/\/V2\/VipMember\/EmailNotification\/*/gi.test(e):o=c.emailNotificationPageInfo;break;case/\/V2\/VipMember\/*/gi.test(e):o=c.vipMemberIndexPageInfo;break;case/\/Login\/Index\/*/gi.test(e):o=c.loginIndexPageInfo;break;case/\/Question\/QuestionInsert\/*/gi.test(e):o=c.questionInsertPageInfo;break;case/\/v2\/browsingHistory\/*/gi.test(e):o=c.browsingHistory;break;case/\/v2\/CancelGoodsRequest\/list*/gi.test(e):o=c.cancelGoodsRequest;break;case/\/v2\/ReturnGoodsRequest\/list*/gi.test(e):o=c.returnGoodsRequest;break;case/\/v2\/ChangeGoodsRequest\/list*/gi.test(e):o=c.changeGoodsRequest;break;case/\/V2\/GameModule\/*/gi.test(e):o=c.gameModuleEvent;break;case/\/v2\/BackInStockAlertList\/*/gi.test(e):o=c.backInStockAlertList;break;case/\/v2\/SalePageComment\/list*/gi.test(e):o=c.salePageCommentList;break;case/(\/cms\/liff\/tall\/expressSalePage\/*)|(\/catalog\/expressSalePage\/*)/gi.test(e):o=c.expressSalePage;break;case/\/v2\/checkouts\/*/gi.test(e):o=c.expressCheckout;break;case/\/v2\/Static\/Official\/OfficialPreparation/gi.test(e):o=c.preparation;break;case/\/service_info/gi.test(e):o=c.serviceInfo;break;case/\/V2\/Static\/Official\/Officialclose/gi.test(e):o=c.officialClosed;break;case/\/v2\/Static\/Activity\/Activityclosed/gi.test(e):o=c.activityClosed;break;case/\/v2\/Static\/Activity\/ActivityPreparation/gi.test(e):o=c.activityPreparation;break;case/\/404V2/gi.test(e):o=c.notFoundPage;break;case/\/V2\/MyAccount\/InvitingFriends/gi.test(e):o=c.invitingFriends;break;case/\/V2\/MyAccount\/InvitingHistory/gi.test(e):o=c.invitingHistory;break;case/\/catalog\/inlineWrapper/gi.test(e):o=c.inlineWrapper;break;case/\/V2\/Brand$/gi.test(e):o=c.brandIndexWrapper;break;case/\/V2\/Brand\/\S/gi.test(e):o=c.brandPageWrapper;break;case/\/V2\/CRMShopMemberCard\/Description/gi.test(e):o=c.crmShopMemberCardDescPage;break;case/\/v2\/MembershipCard\/OuterSalesOrder\/*/gi.test(e):o=s.includes("#/consumption-history/online")?c.consumptionHistoryOnline:s.includes("#/consumption-history/offline")?c.consumptionHistoryOffline:"#/wallet-history/all"===s?c.walletHistoryAll:"#/wallet-history/card"===s?c.walletHistoryCard:"#/wallet-history/topped"===s?c.walletHistoryTopped:"#/point-history"===s?c.pointHistory:"#/stampRecord-history"===s?c.stampRecordHistory:c.outerSalesOrder;break;case/\/AddOnsSalePage\/Index\/*/gi.test(e):o=c.addOnsSalePage;break;case/\/AddOnsSalePage\/ExtraPurchaseList\/*/gi.test(e):o=c.extraPurchaseList}return o||c.unknownPageInfo},t.getPageInfoByPageType=function(e){return t.PageInfoMap.get(e)||c.unknownPageInfo},t.getPageUrl=function(e,n,i){void 0===i&&(i={id:""});var o="//"+e,a=(t.PageInfoMap.get(n)||{}).routerPathFunc,r=a?a(i):"";return n.includes("P78_")?o+"/catalog/inlineWrapper/"+("RESERVATION"===n.split("_")[1]?"TableReservation":"TakeoutOrDelivery"):""+o+r}},4529:(e,t,n)=>{"use strict";n.r(t),n.d(t,{componentsToDebugString:()=>de,default:()=>Ee,getFullscreenElement:()=>R,getScreenFrame:()=>X,hashComponents:()=>ue,isAndroid:()=>k,isChromium:()=>w,isDesktopSafari:()=>G,isEdgeHTML:()=>N,isGecko:()=>M,isTrident:()=>S,isWebKit:()=>D,load:()=>pe,loadSources:()=>L,murmurX64Hash128:()=>_e,prepareForSources:()=>le,sources:()=>re,transformSource:()=>C});var i=function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function o(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{s(i.next(e))}catch(e){a(e)}}function c(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((i=i.apply(e,t||[])).next())}))}function a(e,t){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(e){c=[6,e],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}}function r(e,t,n){if(n||2===arguments.length)for(var i,o=0,a=t.length;o<a;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}Object.create,Object.create;var c="3.4.1";function s(e,t){return new Promise((function(n){return setTimeout(n,e,t)}))}function d(e){return!!e&&"function"==typeof e.then}function u(e,t){try{var n=e();d(n)?n.then((function(e){return t(!0,e)}),(function(e){return t(!1,e)})):t(!0,n)}catch(e){t(!1,e)}}function l(e,t,n){return void 0===n&&(n=16),o(this,void 0,void 0,(function(){var i,o,r;return a(this,(function(a){switch(a.label){case 0:i=Date.now(),o=0,a.label=1;case 1:return o<e.length?(t(e[o],o),(r=Date.now())>=i+n?(i=r,[4,s(0)]):[3,3]):[3,4];case 2:a.sent(),a.label=3;case 3:return++o,[3,1];case 4:return[2]}}))}))}function g(e){e.then(void 0,(function(){}))}function p(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function E(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function _(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function f(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function v(e,t){return[e[0]^t[0],e[1]^t[1]]}function T(e){return e=v(e,[0,e[0]>>>1]),e=v(e=E(e,[4283543511,3981806797]),[0,e[0]>>>1]),v(e=E(e,[3301882366,444984403]),[0,e[0]>>>1])}function I(e,t){t=t||0;var n,i=(e=e||"").length%16,o=e.length-i,a=[0,t],r=[0,t],c=[0,0],s=[0,0],d=[2277735313,289559509],u=[1291169091,658871167];for(n=0;n<o;n+=16)c=[255&e.charCodeAt(n+4)|(255&e.charCodeAt(n+5))<<8|(255&e.charCodeAt(n+6))<<16|(255&e.charCodeAt(n+7))<<24,255&e.charCodeAt(n)|(255&e.charCodeAt(n+1))<<8|(255&e.charCodeAt(n+2))<<16|(255&e.charCodeAt(n+3))<<24],s=[255&e.charCodeAt(n+12)|(255&e.charCodeAt(n+13))<<8|(255&e.charCodeAt(n+14))<<16|(255&e.charCodeAt(n+15))<<24,255&e.charCodeAt(n+8)|(255&e.charCodeAt(n+9))<<8|(255&e.charCodeAt(n+10))<<16|(255&e.charCodeAt(n+11))<<24],c=_(c=E(c,d),31),a=p(a=_(a=v(a,c=E(c,u)),27),r),a=p(E(a,[0,5]),[0,1390208809]),s=_(s=E(s,u),33),r=p(r=_(r=v(r,s=E(s,d)),31),a),r=p(E(r,[0,5]),[0,944331445]);switch(c=[0,0],s=[0,0],i){case 15:s=v(s,f([0,e.charCodeAt(n+14)],48));case 14:s=v(s,f([0,e.charCodeAt(n+13)],40));case 13:s=v(s,f([0,e.charCodeAt(n+12)],32));case 12:s=v(s,f([0,e.charCodeAt(n+11)],24));case 11:s=v(s,f([0,e.charCodeAt(n+10)],16));case 10:s=v(s,f([0,e.charCodeAt(n+9)],8));case 9:s=E(s=v(s,[0,e.charCodeAt(n+8)]),u),r=v(r,s=E(s=_(s,33),d));case 8:c=v(c,f([0,e.charCodeAt(n+7)],56));case 7:c=v(c,f([0,e.charCodeAt(n+6)],48));case 6:c=v(c,f([0,e.charCodeAt(n+5)],40));case 5:c=v(c,f([0,e.charCodeAt(n+4)],32));case 4:c=v(c,f([0,e.charCodeAt(n+3)],24));case 3:c=v(c,f([0,e.charCodeAt(n+2)],16));case 2:c=v(c,f([0,e.charCodeAt(n+1)],8));case 1:c=E(c=v(c,[0,e.charCodeAt(n)]),d),a=v(a,c=E(c=_(c,31),u))}return a=p(a=v(a,[0,e.length]),r=v(r,[0,e.length])),r=p(r,a),a=p(a=T(a),r=T(r)),r=p(r,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(r[0]>>>0).toString(16)).slice(-8)+("00000000"+(r[1]>>>0).toString(16)).slice(-8)}function h(e){return parseInt(e)}function y(e){return parseFloat(e)}function m(e,t){return"number"==typeof e&&isNaN(e)?t:e}function P(e){return e.reduce((function(e,t){return e+(t?1:0)}),0)}function O(e,t){if(void 0===t&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var n=1/t;return Math.round(e*n)/n}function A(e){return e&&"object"==typeof e&&"message"in e?e:{message:e}}function b(e){return"function"!=typeof e}function L(e,t,n){var i=Object.keys(e).filter((function(e){return!function(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n]===t)return!0;return!1}(n,e)})),r=Array(i.length);return l(i,(function(n,i){r[i]=function(e,t){var n=new Promise((function(n){var i=Date.now();u(e.bind(null,t),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=Date.now()-i;if(!e[0])return n((function(){return{error:A(e[1]),duration:o}}));var a=e[1];if(b(a))return n((function(){return{value:a,duration:o}}));n((function(){return new Promise((function(e){var t=Date.now();u(a,(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=o+Date.now()-t;if(!n[0])return e({error:A(n[1]),duration:a});e({value:n[1],duration:a})}))}))}))}))}));return g(n),function(){return n.then((function(e){return e()}))}}(e[n],t)})),function(){return o(this,void 0,void 0,(function(){var e,t,n,o,c,d;return a(this,(function(u){switch(u.label){case 0:for(e={},t=0,n=i;t<n.length;t++)o=n[t],e[o]=void 0;c=Array(i.length),d=function(){var t;return a(this,(function(n){switch(n.label){case 0:return t=!0,[4,l(i,(function(n,i){if(!c[i])if(r[i]){var o=r[i]().then((function(t){return e[n]=t}));g(o),c[i]=o}else t=!1}))];case 1:return n.sent(),t?[2,"break"]:[4,s(1)];case 2:return n.sent(),[2]}}))},u.label=1;case 1:return[5,d()];case 2:if("break"===u.sent())return[3,4];u.label=3;case 3:return[3,1];case 4:return[4,Promise.all(c)];case 5:return u.sent(),[2,e]}}))}))}}function C(e,t){var n=function(e){return b(e)?t(e):function(){var n=e();return d(n)?n.then(t):t(n)}};return function(t){var i=e(t);return d(i)?i.then(n):n(i)}}function S(){var e=window,t=navigator;return P(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function N(){var e=window,t=navigator;return P(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!S()}function w(){var e=window,t=navigator;return P(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,0===t.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function D(){var e=window,t=navigator;return P(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,0===t.vendor.indexOf("Apple"),"getStorageUpdates"in t,"WebKitMediaKeys"in e])>=4}function G(){var e=window;return P(["safari"in e,!("DeviceMotionEvent"in e),!("ongestureend"in e),!("standalone"in navigator)])>=3}function M(){var e,t,n=window;return P(["buildID"in navigator,"MozAppearance"in(null!==(t=null===(e=document.documentElement)||void 0===e?void 0:e.style)&&void 0!==t?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}function R(){var e=document;return e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||null}function k(){var e=w(),t=M();if(!e&&!t)return!1;var n=window;return P(["onorientationchange"in n,"orientation"in n,e&&!("SharedWorker"in n),t&&/android/i.test(navigator.appVersion)])>=2}function Y(e){var t=new Error(e);return t.name=e,t}function U(e,t,n){var i,r,c;return void 0===n&&(n=50),o(this,void 0,void 0,(function(){var o,d;return a(this,(function(a){switch(a.label){case 0:o=document,a.label=1;case 1:return o.body?[3,3]:[4,s(n)];case 2:return a.sent(),[3,1];case 3:d=o.createElement("iframe"),a.label=4;case 4:return a.trys.push([4,,10,11]),[4,new Promise((function(e,n){var i=!1,a=function(){i=!0,e()};d.onload=a,d.onerror=function(e){i=!0,n(e)};var r=d.style;r.setProperty("display","block","important"),r.position="absolute",r.top="0",r.left="0",r.visibility="hidden",t&&"srcdoc"in d?d.srcdoc=t:d.src="about:blank",o.body.appendChild(d);var c=function(){var e,t;i||("complete"===(null===(t=null===(e=d.contentWindow)||void 0===e?void 0:e.document)||void 0===t?void 0:t.readyState)?a():setTimeout(c,10))};c()}))];case 5:a.sent(),a.label=6;case 6:return(null===(r=null===(i=d.contentWindow)||void 0===i?void 0:i.document)||void 0===r?void 0:r.body)?[3,8]:[4,s(n)];case 7:return a.sent(),[3,6];case 8:return[4,e(d,d.contentWindow)];case 9:return[2,a.sent()];case 10:return null===(c=d.parentNode)||void 0===c||c.removeChild(d),[7];case 11:return[2]}}))}))}function F(e){for(var t=function(e){for(var t,n,i="Unexpected syntax '".concat(e,"'"),o=/^\s*([a-z-]*)(.*)$/i.exec(e),a=o[1]||void 0,r={},c=/([.:#][\w-]+|\[.+?\])/gi,s=function(e,t){r[e]=r[e]||[],r[e].push(t)};;){var d=c.exec(o[2]);if(!d)break;var u=d[0];switch(u[0]){case".":s("class",u.slice(1));break;case"#":s("id",u.slice(1));break;case"[":var l=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(u);if(!l)throw new Error(i);s(l[1],null!==(n=null!==(t=l[4])&&void 0!==t?t:l[5])&&void 0!==n?n:"");break;default:throw new Error(i)}}return[a,r]}(e),n=t[0],i=t[1],o=document.createElement(null!=n?n:"div"),a=0,r=Object.keys(i);a<r.length;a++){var c=r[a],s=i[c].join(" ");"style"===c?V(o.style,s):o.setAttribute(c,s)}return o}function V(e,t){for(var n=0,i=t.split(";");n<i.length;n++){var o=i[n],a=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(o);if(a){var r=a[1],c=a[2],s=a[4];e.setProperty(r,c,s||"")}}}var K=["monospace","sans-serif","serif"],x=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function H(e){return e.toDataURL()}var B,j,W=2500;function X(){var e=this;return function(){if(void 0===j){var e=function(){var t=q();Z(t)?j=setTimeout(e,W):(B=t,j=void 0)};e()}}(),function(){return o(e,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return Z(e=q())?B?[2,r([],B,!0)]:R()?[4,(n=document,(n.exitFullscreen||n.msExitFullscreen||n.mozCancelFullScreen||n.webkitExitFullscreen).call(n))]:[3,2]:[3,2];case 1:t.sent(),e=q(),t.label=2;case 2:return Z(e)||(B=e),[2,e]}var n}))}))}}function q(){var e=screen;return[m(y(e.availTop),null),m(y(e.width)-y(e.availWidth)-m(y(e.availLeft),0),null),m(y(e.height)-y(e.availHeight)-m(y(e.availTop),0),null),m(y(e.availLeft),null)]}function Z(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function z(e){var t;return o(this,void 0,void 0,(function(){var n,i,o,r,c,d,u;return a(this,(function(a){switch(a.label){case 0:for(n=document,i=n.createElement("div"),o=new Array(e.length),r={},Q(i),u=0;u<e.length;++u)c=F(e[u]),Q(d=n.createElement("div")),d.appendChild(c),i.appendChild(d),o[u]=c;a.label=1;case 1:return n.body?[3,3]:[4,s(50)];case 2:return a.sent(),[3,1];case 3:n.body.appendChild(i);try{for(u=0;u<e.length;++u)o[u].offsetParent||(r[e[u]]=!0)}finally{null===(t=i.parentNode)||void 0===t||t.removeChild(i)}return[2,r]}}))}))}function Q(e){e.style.setProperty("display","block","important")}function J(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function $(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}function ee(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function te(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function ne(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var ie=Math,oe=function(){return 0},ae={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]},re={fonts:function(){return U((function(e,t){var n=t.document,i=n.body;i.style.fontSize="48px";var o=n.createElement("div"),a={},r={},c=function(e){var t=n.createElement("span"),i=t.style;return i.position="absolute",i.top="0",i.left="0",i.fontFamily=e,t.textContent="mmMwWLliI0O&1",o.appendChild(t),t},s=K.map(c),d=function(){for(var e={},t=function(t){e[t]=K.map((function(e){return function(e,t){return c("'".concat(e,"',").concat(t))}(t,e)}))},n=0,i=x;n<i.length;n++)t(i[n]);return e}();i.appendChild(o);for(var u=0;u<K.length;u++)a[K[u]]=s[u].offsetWidth,r[K[u]]=s[u].offsetHeight;return x.filter((function(e){return t=d[e],K.some((function(e,n){return t[n].offsetWidth!==a[e]||t[n].offsetHeight!==r[e]}));var t}))}))},domBlockers:function(e){var t=(void 0===e?{}:e).debug;return o(this,void 0,void 0,(function(){var e,n,i,o,r;return a(this,(function(a){switch(a.label){case 0:return D()||k()?(c=atob,e={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",c("YVt0aXRsZT0iN25hZ2EgcG9rZXIiIGld"),'[title="ALIENBOLA" i]'],abpvn:["#quangcaomb",c("Lmlvc0Fkc2lvc0Fkcy1sYXlvdXQ="),".quangcao",c("W2hyZWZePSJodHRwczovL3I4OC52bi8iXQ=="),c("W2hyZWZePSJodHRwczovL3piZXQudm4vIl0=")],adBlockFinland:[".mainostila",c("LnNwb25zb3JpdA=="),".ylamainos",c("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),c("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",c("I2FkMl9pbmxpbmU=")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",c("LmhlYWRlci1ibG9ja2VkLWFk"),c("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:['amp-embed[type="zen"]',".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil"],adGuardBase:[".BetterJsPopOverlay",c("I2FkXzMwMFgyNTA="),c("I2Jhbm5lcmZsb2F0MjI="),c("I2FkLWJhbm5lcg=="),c("I2NhbXBhaWduLWJhbm5lcg==")],adGuardChinese:[c("LlppX2FkX2FfSA=="),c("YVtocmVmKj0iL29kMDA1LmNvbSJd"),c("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),".qq_nr_lad","#widget-quan"],adGuardFrench:[c("I2Jsb2NrLXZpZXdzLWFkcy1zaWRlYmFyLWJsb2NrLWJsb2Nr"),"#pavePub",c("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv"],adGuardGerman:[c("LmJhbm5lcml0ZW13ZXJidW5nX2hlYWRfMQ=="),c("LmJveHN0YXJ0d2VyYnVuZw=="),c("LndlcmJ1bmcz"),c("YVtocmVmXj0iaHR0cDovL3d3dy5laXMuZGUvaW5kZXgucGh0bWw/cmVmaWQ9Il0="),c("YVtocmVmXj0iaHR0cHM6Ly93d3cudGlwaWNvLmNvbS8/YWZmaWxpYXRlSWQ9Il0=")],adGuardJapanese:["#kauli_yad_1",c("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),c("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),c("LmFkZ29vZ2xl"),c("LmFkX3JlZ3VsYXIz")],adGuardMobile:[c("YW1wLWF1dG8tYWRz"),c("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",c("I2FkX2ludmlld19hcmVh")],adGuardRussian:[c("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),c("LnJlY2xhbWE="),'div[id^="smi2adblock"]',c("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),c("I2FkX3NxdWFyZQ==")],adGuardSocial:[c("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),c("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",c("W2hyZWZePSJodHRwOi8vYWRzLmdsaXNwYS5jb20vIl0=")],adGuardTrackingProtection:["#qoo-counter",c("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),c("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),c("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",c("I3Jla2xhbWk="),c("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),c("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),c("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[c("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers",c("I25ld0Fk")],easyList:[c("I0FEX0NPTlRST0xfMjg="),c("LnNlY29uZC1wb3N0LWFkcy13cmFwcGVy"),".universalboxADVBOX03",c("LmFkdmVydGlzZW1lbnQtNzI4eDkw"),c("LnNxdWFyZV9hZHM=")],easyListChina:[c("YVtocmVmKj0iLndlbnNpeHVldGFuZy5jb20vIl0="),c("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),c("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box"],easyListCookie:["#AdaCompliance.app-notice",".text-center.rgpd",".panel--cookie",".js-cookies-andromeda",".elxtr-consent"],easyListCzechSlovak:["#onlajny-stickers",c("I3Jla2xhbW5pLWJveA=="),c("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",c("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[c("I2FkdmVydGVudGll"),c("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",c("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:[c("I0FkX1dpbjJkYXk="),c("I3dlcmJ1bmdzYm94MzAw"),c("YVtocmVmXj0iaHR0cDovL3d3dy5yb3RsaWNodGthcnRlaS5jb20vP3NjPSJd"),c("I3dlcmJ1bmdfd2lkZXNreXNjcmFwZXJfc2NyZWVu"),c("YVtocmVmXj0iaHR0cDovL2xhbmRpbmcucGFya3BsYXR6a2FydGVpLmNvbS8/YWc9Il0=")],easyListItaly:[c("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",c("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),c("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),c("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[c("LnJla2xhbW9zX3RhcnBhcw=="),c("LnJla2xhbW9zX251b3JvZG9z"),c("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),c("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),c("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[c("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#feedback-tab","#taboola-below-article",".feedburnerFeedBlock",".widget-feedburner-counter",'[title="Subscribe to our blog"]'],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:[".td-tags-and-social-wrapper-box",".twitterContainer",".youtube-social",'a[title^="Like us on Facebook"]','img[alt^="Share on Digg"]'],frellwitSwedish:[c("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),c("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",c("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[c("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),c("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),c("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",c("LmFkX19tYWlu"),c("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container",".cookie-msg-info-container","#cookies-policy-sticky"],icelandicAbp:[c("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[c("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),c("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[c("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),c("I2xpdmVyZUFkV3JhcHBlcg=="),c("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),c("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[c("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",c("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),c("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),c("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[c("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),c("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),c("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",c("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),c("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),c("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),c("ZGl2I3NrYXBpZWNfYWQ=")],ro:[c("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),'a[href^="/magazin/"]',c("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),c("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),c("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd")],ruAd:[c("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),c("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),c("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",c("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),c("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",c("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]},n=Object.keys(e),[4,z((r=[]).concat.apply(r,n.map((function(t){return e[t]}))))]):[2,void 0];case 1:return i=a.sent(),t&&function(e,t){for(var n="DOM blockers debug:\n```",i=0,o=Object.keys(e);i<o.length;i++){var a=o[i];n+="\n".concat(a,":");for(var r=0,c=e[a];r<c.length;r++){var s=c[r];n+="\n  ".concat(t[s]?"🚫":"➡️"," ").concat(s)}}console.log("".concat(n,"\n```"))}(e,i),(o=n.filter((function(t){var n=e[t];return P(n.map((function(e){return i[e]})))>.6*n.length}))).sort(),[2,o]}var c}))}))},fontPreferences:function(){return void 0===e&&(e=4e3),U((function(t,n){var i=n.document,o=i.body,a=o.style;a.width="".concat(e,"px"),a.webkitTextSizeAdjust=a.textSizeAdjust="none",w()?o.style.zoom="".concat(1/n.devicePixelRatio):D()&&(o.style.zoom="reset");var c=i.createElement("div");return c.textContent=r([],Array(e/20<<0),!0).map((function(){return"word"})).join(" "),o.appendChild(c),function(e,t){for(var n={},i={},o=0,a=Object.keys(ae);o<a.length;o++){var r=a[o],c=ae[r],s=c[0],d=void 0===s?{}:s,u=c[1],l=void 0===u?"mmMwWLliI0fiflO&1":u,g=e.createElement("span");g.textContent=l,g.style.whiteSpace="nowrap";for(var p=0,E=Object.keys(d);p<E.length;p++){var _=E[p],f=d[_];void 0!==f&&(g.style[_]=f)}n[r]=g,t.appendChild(e.createElement("br")),t.appendChild(g)}for(var v=0,T=Object.keys(ae);v<T.length;v++)i[r=T[v]]=n[r].getBoundingClientRect().width;return i}(i,o)}),'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">');var e},audio:function(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(D()&&!G()&&!function(){var e=window;return P(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}())return-1;var n=new t(1,5e3,44100),i=n.createOscillator();i.type="triangle",i.frequency.value=1e4;var o=n.createDynamicsCompressor();o.threshold.value=-50,o.knee.value=40,o.ratio.value=12,o.attack.value=0,o.release.value=.25,i.connect(o),o.connect(n.destination),i.start(0);var a=function(e){var t=function(){};return[new Promise((function(n,i){var o=!1,a=0,r=0;e.oncomplete=function(e){return n(e.renderedBuffer)};var c=function(){setTimeout((function(){return i(Y("timeout"))}),Math.min(500,r+5e3-Date.now()))},s=function(){try{var t=e.startRendering();switch(d(t)&&g(t),e.state){case"running":r=Date.now(),o&&c();break;case"suspended":document.hidden||a++,o&&a>=3?i(Y("suspended")):setTimeout(s,500)}}catch(e){i(e)}};s(),t=function(){o||(o=!0,r>0&&c())}})),t]}(n),r=a[0],c=a[1],s=r.then((function(e){return function(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}(e.getChannelData(0).subarray(4500))}),(function(e){if("timeout"===e.name||"suspended"===e.name)return-3;throw e}));return g(s),function(){return c(),s}},screenFrame:function(){var e=this,t=X();return function(){return o(e,void 0,void 0,(function(){var e,n;return a(this,(function(i){switch(i.label){case 0:return[4,t()];case 1:return e=i.sent(),[2,[(n=function(e){return null===e?null:O(e,10)})(e[0]),n(e[1]),n(e[2]),n(e[3])]]}}))}))}},osCpu:function(){return navigator.oscpu},languages:function(){var e,t=navigator,n=[],i=t.language||t.userLanguage||t.browserLanguage||t.systemLanguage;if(void 0!==i&&n.push([i]),Array.isArray(t.languages))w()&&P([!("MediaSettingsRange"in(e=window)),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3||n.push(t.languages);else if("string"==typeof t.languages){var o=t.languages;o&&n.push(o.split(","))}return n},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return m(y(navigator.deviceMemory),void 0)},screenResolution:function(){var e=screen,t=function(e){return m(h(e),null)},n=[t(e.width),t(e.height)];return n.sort().reverse(),n},hardwareConcurrency:function(){return m(h(navigator.hardwareConcurrency),void 0)},timezone:function(){var e,t=null===(e=window.Intl)||void 0===e?void 0:e.DateTimeFormat;if(t){var n=(new t).resolvedOptions().timeZone;if(n)return n}var i,o=(i=(new Date).getFullYear(),-Math.max(y(new Date(i,0,1).getTimezoneOffset()),y(new Date(i,6,1).getTimezoneOffset())));return"UTC".concat(o>=0?"+":"").concat(Math.abs(o))},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){if(!S()&&!N())try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var e=navigator.platform;return"MacIntel"===e&&D()&&!G()?function(){if("iPad"===navigator.platform)return!0;var e=screen,t=e.width/e.height;return P(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}()?"iPad":"iPhone":e},plugins:function(){var e=navigator.plugins;if(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];if(i){for(var o=[],a=0;a<i.length;++a){var r=i[a];o.push({type:r.type,suffixes:r.suffixes})}t.push({name:i.name,description:i.description,mimeTypes:o})}}return t}},canvas:function(){var e,t,n=!1,i=function(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}(),o=i[0],a=i[1];if(function(e,t){return!(!t||!e.toDataURL)}(o,a)){n=function(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}(a),function(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var n="Cwm fjordbank gly ".concat(String.fromCharCode(55357,56835));t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45)}(o,a);var r=H(o);r!==H(o)?e=t="unstable":(t=r,function(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,i=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<i.length;n++){var o=i[n],a=o[0],r=o[1],c=o[2];t.fillStyle=a,t.beginPath(),t.arc(r,c,40,0,2*Math.PI,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,2*Math.PI,!0),t.arc(60,60,20,0,2*Math.PI,!0),t.fill("evenodd")}(o,a),e=H(o))}else e=t="";return{winding:n,geometry:e,text:t}},touchSupport:function(){var e,t=navigator,n=0;void 0!==t.maxTouchPoints?n=h(t.maxTouchPoints):void 0!==t.msMaxTouchPoints&&(n=t.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return{maxTouchPoints:n,touchEvent:e,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var i=n[t],o=window[i];o&&"object"==typeof o&&e.push(i)}return e.sort()},cookiesEnabled:function(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=-1!==e.cookie.indexOf("cookietest=");return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(e){return!1}},colorGamut:function(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: ".concat(n,")")).matches)return n}},invertedColors:function(){return!!J("inverted")||!J("none")&&void 0},forcedColors:function(){return!!$("active")||!$("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=100;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}},contrast:function(){return ee("no-preference")?0:ee("high")||ee("more")?1:ee("low")||ee("less")?-1:ee("forced")?10:void 0},reducedMotion:function(){return!!te("reduce")||!te("no-preference")&&void 0},hdr:function(){return!!ne("high")||!ne("standard")&&void 0},math:function(){var e,t=ie.acos||oe,n=ie.acosh||oe,i=ie.asin||oe,o=ie.asinh||oe,a=ie.atanh||oe,r=ie.atan||oe,c=ie.sin||oe,s=ie.sinh||oe,d=ie.cos||oe,u=ie.cosh||oe,l=ie.tan||oe,g=ie.tanh||oe,p=ie.exp||oe,E=ie.expm1||oe,_=ie.log1p||oe;return{acos:t(.12312423423423424),acosh:n(1e308),acoshPf:(e=1e154,ie.log(e+ie.sqrt(e*e-1))),asin:i(.12312423423423424),asinh:o(1),asinhPf:ie.log(1+ie.sqrt(2)),atanh:a(.5),atanhPf:ie.log(3)/2,atan:r(.5),sin:c(-1e300),sinh:s(1),sinhPf:ie.exp(1)-1/ie.exp(1)/2,cos:d(10.000000000123),cosh:u(1),coshPf:(ie.exp(1)+1/ie.exp(1))/2,tan:l(-1e300),tanh:g(1),tanhPf:(ie.exp(2)-1)/(ie.exp(2)+1),exp:p(1),expm1:E(1),expm1Pf:ie.exp(1)-1,log1p:_(10),log1pPf:ie.log(11),powPI:ie.pow(ie.PI,-100)}},videoCard:function(){var e,t=document.createElement("canvas"),n=null!==(e=t.getContext("webgl"))&&void 0!==e?e:t.getContext("experimental-webgl");if(n&&"getExtension"in n){var i=n.getExtension("WEBGL_debug_renderer_info");if(i)return{vendor:(n.getParameter(i.UNMASKED_VENDOR_WEBGL)||"").toString(),renderer:(n.getParameter(i.UNMASKED_RENDERER_WEBGL)||"").toString()}}},pdfViewerEnabled:function(){return navigator.pdfViewerEnabled},architecture:function(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}},ce="$ if upgrade to Pro: https://fpjs.dev/pro";function se(e){var t=function(e){if(k())return.4;if(D())return G()?.5:.3;var t=e.platform.value||"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}(e),n=function(e){return O(.99+.01*e,1e-4)}(t);return{score:t,comment:ce.replace(/\$/g,"".concat(n))}}function de(e){return JSON.stringify(e,(function(e,t){return t instanceof Error?i({name:(n=t).name,message:n.message,stack:null===(o=n.stack)||void 0===o?void 0:o.split("\n")},n):t;var n,o}),2)}function ue(e){return I(function(e){for(var t="",n=0,i=Object.keys(e).sort();n<i.length;n++){var o=i[n],a=e[o],r=a.error?"error":JSON.stringify(a.value);t+="".concat(t?"|":"").concat(o.replace(/([:|\\])/g,"\\$1"),":").concat(r)}return t}(e))}function le(e){return void 0===e&&(e=50),function(e,t){void 0===t&&(t=1/0);var n=window.requestIdleCallback;return n?new Promise((function(e){return n.call(window,(function(){return e()}),{timeout:t})})):s(Math.min(e,t))}(e,2*e)}function ge(e,t){var n=Date.now();return{get:function(i){return o(this,void 0,void 0,(function(){var o,r,s;return a(this,(function(a){switch(a.label){case 0:return o=Date.now(),[4,e()];case 1:return r=a.sent(),s=function(e){var t;return{get visitorId(){return void 0===t&&(t=ue(this.components)),t},set visitorId(e){t=e},confidence:se(e),components:e,version:c}}(r),(t||(null==i?void 0:i.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(s.version,"\nuserAgent: ").concat(navigator.userAgent,"\ntimeBetweenLoadAndGet: ").concat(o-n,"\nvisitorId: ").concat(s.visitorId,"\ncomponents: ").concat(de(r),"\n```")),[2,s]}}))}))}}}function pe(e){var t=void 0===e?{}:e,n=t.delayFallback,i=t.debug,r=t.monitoring,s=void 0===r||r;return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return s&&function(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(c,"/npm-monitoring"),!0),e.send()}catch(e){console.error(e)}}(),[4,le(n)];case 1:return e.sent(),[2,ge(L(re,{debug:i},[]),i)]}}))}))}var Ee={load:pe,hashComponents:ue,componentsToDebugString:de},_e=I},1905:function(){!function(e){!function(t){var n="undefined"!=typeof globalThis&&globalThis||void 0!==e&&e||void 0!==n&&n,i={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(i.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function r(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function s(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function u(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function l(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=l(t);return t.readAsArrayBuffer(e),n}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i.arrayBuffer&&i.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(g)}),this.text=function(){var e,t,n,i=u(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,n=l(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=r(e),t=c(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},d.prototype.delete=function(e){delete this.map[r(e)]},d.prototype.get=function(e){return e=r(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(r(e))},d.prototype.set=function(e,t){this.map[r(e)]=c(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),s(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),s(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),s(e)},i.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function f(e,t){if(!(this instanceof f))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,o=(t=t||{}).body;if(e instanceof f){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(i=(n=t.method||this.method||"GET").toUpperCase(),_.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var a=/([?&])_=[^&]*/;a.test(this.url)?this.url=this.url.replace(a,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(o))}})),t}function T(e,t){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},E.call(f.prototype),E.call(T.prototype),T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},T.error=function(){var e=new T(null,{status:0,statusText:""});return e.type="error",e};var I=[301,302,303,307,308];T.redirect=function(e,t){if(-1===I.indexOf(t))throw new RangeError("Invalid status code");return new T(null,{status:t,headers:{location:e}})},t.DOMException=n.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function h(e,o){return new Promise((function(a,r){var s=new f(e,o);if(s.signal&&s.signal.aborted)return r(new t.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function l(){u.abort()}u.onload=function(){var e,t,n={status:u.status,statusText:u.statusText,headers:(e=u.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),i=n.shift().trim();if(i){var o=n.join(":").trim();t.append(i,o)}})),t)};n.url="responseURL"in u?u.responseURL:n.headers.get("X-Request-URL");var i="response"in u?u.response:u.responseText;setTimeout((function(){a(new T(i,n))}),0)},u.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},u.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},u.onabort=function(){setTimeout((function(){r(new t.DOMException("Aborted","AbortError"))}),0)},u.open(s.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(s.url),!0),"include"===s.credentials?u.withCredentials=!0:"omit"===s.credentials&&(u.withCredentials=!1),"responseType"in u&&(i.blob?u.responseType="blob":i.arrayBuffer&&s.headers.get("Content-Type")&&-1!==s.headers.get("Content-Type").indexOf("application/octet-stream")&&(u.responseType="arraybuffer")),!o||"object"!=typeof o.headers||o.headers instanceof d?s.headers.forEach((function(e,t){u.setRequestHeader(t,e)})):Object.getOwnPropertyNames(o.headers).forEach((function(e){u.setRequestHeader(e,c(o.headers[e]))})),s.signal&&(s.signal.addEventListener("abort",l),u.onreadystatechange=function(){4===u.readyState&&s.signal.removeEventListener("abort",l)}),u.send(void 0===s._bodyInit?null:s._bodyInit)}))}h.polyfill=!0,n.fetch||(n.fetch=h,n.Headers=d,n.Request=f,n.Response=T),t.Headers=d,t.Request=f,t.Response=T,t.fetch=h}({})}("undefined"!=typeof self?self:this)},5373:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCdnPath=t.loadScriptWhitelist=void 0;var i=n(4256);t.loadScriptWhitelist={dev:{tw:{shopId:new Set(["*"])},hk:{shopId:new Set([])},my:{shopId:new Set([])}},qa:{tw:{shopId:new Set(["*"])},hk:{shopId:new Set([])},my:{shopId:new Set([])}},stage:{tw:{shopId:new Set(["*"])},hk:{shopId:new Set([])},my:{shopId:new Set([])}},prod:{tw:{shopId:new Set(["*"])},hk:{shopId:new Set([])},my:{shopId:new Set([])}}},t.getCdnPath=function(e,t){var n="";switch(t){case"dev":n="http://localhost:4566/tracking-service";break;case"qa":"tw"===e?n="https://static.qa.91dev.tw/tracking-service":"hk"===e?n="https://static.qa1.hk.91dev.tw/tracking-service":"my"===e&&(n="https://static.qa1.my.91dev.tw/tracking-service");break;case"stage":case"prod":"tw"===e?n="https://static.91app.com/tracking-service":"hk"===e?n="https://static.91app.hk/tracking-service":"my"===e&&(n="https://static.91app.com.my/tracking-service")}try{n=new URL("string"==typeof n&&n.endsWith("/")?n.slice(0,n.length-1):n).toString()}catch(e){i.innerLogger.error("invalid CDN URL")}return n}},5124:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.shopExtensionConfig=void 0;var o=i(n(5082)),a=i(n(1629)),r={"91app":{dev:o.default,qa:o.default,stage:a.default,prod:a.default}};t.shopExtensionConfig=r},5082:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2586),o={tw:{64:{isEnableOuid:!0,googleAnalytics:{customOuidDimensionName:"dimension178",customTrackingId:"UA-67305806-1",isUseOriginalClientId:!0,isEnableVipMemberOuterIdDimension:!0}},225:{adobeAnalytics:{spec:"C",sdkCode:"//assets.adobedtm.com/147e71336114/4b819c1a7781/launch-d717246fef29-development.min.js"},isEnableOuid:!0,isEnableCartList:!0,emarsys:{isEnable:!0,merchantId:"1234",contactFieldIdType:i.CONTACT_FIELD_TYPE.OUID},tealiumIQ:{isEnable:!0},isEnableLineCAPISetting:!0},232:{adobeAnalytics:{spec:"A",sdkCode:"//assets.adobedtm.com/180bdcd485df751bd655b9ab7c2badd448ddd5a4/satelliteLib-bf4c0894df1d5742ddde8a94f7d0c2f1deb013db-staging.js"},facebookPixel:{isDisableAllSitePixel:!0}},235:{adobeAnalytics:{spec:"B",sdkCode:"//assets.adobedtm.com/launch-ENb943e206f7ed43f6a3daad23720665f3-staging.min.js"}},11970:{isEnableOuid:!0,isEnableCartList:!0,adobeAnalytics:{spec:"B",sdkCode:"//assets.adobedtm.com/launch-ENb943e206f7ed43f6a3daad23720665f3-staging.min.js"},emarsys:{isEnable:!0,merchantId:"1BE3C3EC1351EA6D",contactFieldIdType:i.CONTACT_FIELD_TYPE.PHONE_HASHED},tealiumIQ:{isEnable:!0},isEnableDmpSetting:!0,isEnableLineCAPISetting:!0},12195:{adobeAnalytics:{spec:"B",sdkCode:"//assets.adobedtm.com/22e9ce162c8c/5d82c478f9d4/launch-894ac329c17e-staging.min.js"},isEnableDmpSetting:!0},12157:{isEnableOuid:!0,isEnableCartList:!0,emarsys:{isEnable:!0,merchantId:"1234",contactFieldIdType:i.CONTACT_FIELD_TYPE.MEMBER_ID}}},hk:{2:{isEnableCartList:!0,emarsys:{isEnable:!0,merchantId:"1234",contactFieldIdType:i.CONTACT_FIELD_TYPE.MEMBER_ID}}}};t.default=o},1629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2586),o={tw:{8:{isEnableOuid:!0,isEnableDmpSetting:!0},1257:{adobeAnalytics:{spec:"A",sdkCode:"//assets.adobedtm.com/180bdcd485df751bd655b9ab7c2badd448ddd5a4/satelliteLib-bf4c0894df1d5742ddde8a94f7d0c2f1deb013db.js"},isEnableDmpSetting:!0},2374:{tealiumIQ:{isEnable:!0}},39255:{adobeAnalytics:{spec:"B",sdkCode:"//assets.adobedtm.com/launch-EN33cdadd10e4d46adbeaf9efd2d02a4bb.min.js"}},39681:{facebookPixel:{isDisableAllSitePixel:!0}},41311:{adobeAnalytics:{spec:"B",sdkCode:"//assets.adobedtm.com/22e9ce162c8c/5d82c478f9d4/launch-894ac329c17e-staging.min.js"}},41287:{adobeAnalytics:{spec:"B",sdkCode:"//assets.adobedtm.com/22e9ce162c8c/5d82c478f9d4/launch-06fc8a1829e6.min.js"}},40916:{isEnableDmpSetting:!0},40644:{isEnableDmpSetting:!0},1465:{isEnableDmpSetting:!0},360:{isEnableDmpSetting:!0},34185:{isEnableDmpSetting:!0},815:{isEnableDmpSetting:!0},38880:{isEnableDmpSetting:!0},41051:{isEnableDmpSetting:!0},2454:{isEnableDmpSetting:!0},41199:{isEnableDmpSetting:!0},1194:{isEnableDmpSetting:!0},4800:{isEnableDmpSetting:!0},40027:{isEnableDmpSetting:!0},3833:{isEnableDmpSetting:!0},7378:{isEnableDmpSetting:!0},2190:{isEnableDmpSetting:!0},41442:{isEnableDmpSetting:!0},40589:{isEnableOuid:!0,googleAnalytics:{customOuidDimensionName:"dimension178",customTrackingId:"UA-17941897-1",isUseOriginalClientId:!0},googleAnalyticsFour:{additionalTagId:"G-3LECNH6CJP"},googleTagManager:{customContainerId:"GTM-5Z6NM3"},tealiumIQ:{isEnable:!0}},40910:{isEnableOuid:!0,isEnableCartList:!0,emarsys:{isEnable:!0,merchantId:"19E8C5F994E6102E",contactFieldIdType:i.CONTACT_FIELD_TYPE.OUID}},41134:{isEnableDmpSetting:!0},40078:{isEnableDmpSetting:!0},1956:{isEnableDmpSetting:!0},41320:{isEnableDmpSetting:!0},1426:{isEnableDmpSetting:!0},49:{isEnableDmpSetting:!0},37868:{isEnableDmpSetting:!0},123:{isEnableDmpSetting:!0},41084:{isEnableDmpSetting:!0},12557:{isEnableDmpSetting:!0},40562:{isEnableDmpSetting:!0},4679:{isEnableDmpSetting:!0},40572:{isEnableDmpSetting:!0},139:{isEnableDmpSetting:!0},2224:{isEnableDmpSetting:!0},39811:{isEnableDmpSetting:!0},16:{isEnableDmpSetting:!0},2318:{isEnableDmpSetting:!0},38911:{isEnableDmpSetting:!0},1317:{isEnableDmpSetting:!0},42:{isEnableDmpSetting:!0},40312:{isEnableDmpSetting:!0},41307:{isEnableDmpSetting:!0},18793:{isEnableDmpSetting:!0},41566:{adobeAnalytics:{spec:"C",sdkCode:"//assets.adobedtm.com/147e71336114/4b819c1a7781/launch-73d986cdff40.min.js"}},41602:{isEnableLineCAPISetting:!0}},hk:{17:{isEnableCartList:!0,emarsys:{isEnable:!0,merchantId:"1AE4C6977EEC80D7",contactFieldIdType:i.CONTACT_FIELD_TYPE.MEMBER_ID}}}};t.default=o},2037:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEW_ITEM_TYPE=t.SEARCH_TYPE=t.PRODUCTS_SORT_METHOD=t.LOGIN_STAUS=t.LOGIN_METHOD=t.REGISTER_STAUS=t.REGISTER_METHOD=t.CHECKOUT_STEP=t.TRACKING_MODULE_TYPE=void 0,t.TRACKING_MODULE_TYPE={SDK_COMMON_EVENT:"SDK Common Event",ADOBE_ANALYTICS:"Adobe Analytics",GOOGLE_ANALYTICS:"Google Analytics",GOOGLE_ANALYTICS_FOUR:"Google Analytics 4",GOOGLE_TAG_MANAGER:"Google Tag Manager",FACEBOOK_PIXEL:"Facebook Pixel",GOOGLE_ADWORDS:"Google Adwords",NINE_ONE:"91APP",LINE_ADS:"Line Ads",EMARSYS:"Emarsys",YAHOO_DOT_TAG:"Yahoo dot tag"},t.CHECKOUT_STEP={CART:1,PAYMENT_AND_SHIPPING:2,CONFIRM_PAYMENT:3},t.REGISTER_METHOD={FACEBOOK:"facebook",SHOP_ACCOUNT:"shop_account",PHONE:"phone",LINE:"line"},t.REGISTER_STAUS={START:"start",FINISH:"finish"},t.LOGIN_METHOD={FACEBOOK:"facebook",SHOP_ACCOUNT:"shop_account",PHONE:"phone",LINE:"line"},t.LOGIN_STAUS={START:"start",FINISH:"finish"},t.PRODUCTS_SORT_METHOD={PRICE_DESC:"price_descending",PRICE_ASC:"price_ascending",LATEST:"latest",POPULARITY_VIEW:"popularity_view",CURATOR:"curator",SALES:"sales",RELATIVITY:"relativity"},t.SEARCH_TYPE={SEARCH:"Search",TOP_SEARCHES:"TopSearches",SEARCH_LOG:"SearchLog",AUTO_COMPLETE:"AutoComplete",SEARCH_MODULE_FILTER:"SearchModuleFilter"},t.VIEW_ITEM_TYPE={SALE_PAGE:"SalePage",HIDDEN_SALE_PAGE:"HiddenSalePage",EXPRESS_SALE_PAGE:"ExpressSalePage",HIDDEN_EXPRESS_SALE_PAGE:"HiddenExpressSalePage"}},6882:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(9925),r=n(1112),c=n(3841),s=n(3459),d=n(0),u=n(6909),l=n(5955),g=n(3618);t.default=function(e,t,n,p){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"addToCart start",{productInfo:e,eventId:t}),(0,u.addToCart)(e,t,p),(0,r.addToCart)(e,p),(0,c.addToCart)(e,t),(0,s.addToCart)(e),(0,l.addToCart)(),(0,a.addToCart)(e,n),(0,d.addToCart)(e),(0,g.addToCart)(e)}catch(n){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"addToCart failed",{productInfo:e,eventId:t},n)}}},3599:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(9925),r=n(1112),c=n(3841),s=n(0),d=n(6909);t.default=function(e,t,n){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"addToFavorite start",{productInfo:e,eventId:t}),(0,d.addToWishlist)(e,t,n),(0,r.addToWishlist)(e,n),(0,c.addToWishlist)(e,t),(0,s.addToWishlist)(e),(0,a.addToWishlist)(e)}catch(n){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"addToFavorite failed",{productInfo:e,eventId:t},n)}}},7039:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4256),o=n(2037),a=n(1112),r=n(6909);t.default=function(e,t,n){try{(0,i.debugLog)(o.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"cancelOrder start",{productList:e,orderId:t,value:n}),(0,r.cancelOrder)(e,t,n),(0,a.cancelOrder)(e,t,n)}catch(a){(0,i.errorLog)(o.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"cancelOrder failed",{productList:e,orderId:t,value:n},a)}}},4472:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(9925),r=n(1112),c=n(3841),s=n(6909),d=n(0);t.default=function(e,t,n,u){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"checkout start",{checkoutInfo:e,productList:t,eventId:n,version:u});var l=e.step;l===i.CHECKOUT_STEP.CART?((0,s.checkoutProgress)(l,u),(0,r.checkoutOnCart)(u),(0,a.pageViewOnCheckoutOnCart)(t),(0,d.viewCart)(t,l,u)):l===i.CHECKOUT_STEP.PAYMENT_AND_SHIPPING?((0,s.checkoutProgress)(l,u),(0,s.pageViewOnPaymentAndShipping)(),(0,s.checkoutOnPaymentAndShipping)(t,u,n),(0,r.checkoutOnPaymentAndShipping)(t,u),(0,a.checkoutOnPaymentAndShipping)(),(0,c.checkoutOnPaymentAndShipping)(e,t,n),(0,d.beginCheckout)(t,l,u)):l===i.CHECKOUT_STEP.CONFIRM_PAYMENT&&((0,s.checkoutProgress)(l,u),(0,a.checkoutOnConfirmPayment)(t),(0,c.checkoutOnConfirmPayment)(e,t,n),(0,s.checkoutOnConfirmPayment)(e,n))}catch(a){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"checkout failed",{checkoutInfo:e,productList:t,eventId:n},a)}}},7737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(9925);t.default=function(e){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"increaseQuantity start",{productInfo:e}),(0,a.increaseQuantity)(e)}catch(t){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"increaseQuantity failed",{productInfo:e},t)}}},7183:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.viewItemListV3=t.viewItemListV2=t.viewItemList=t.cancelOrder=t.refund=t.videoProgress=t.videoComplete=t.videoStart=t.thirdPartyRegisterOrLoginEvent=t.sortProducts=t.selectContent=t.searchFilter=t.searchKeyword=t.removeFromFavorite=t.removeFromCart=t.register=t.purchase=t.productImpression=t.productDetails=t.productClick=t.pageView=t.login=t.lead=t.initialize=t.checkout=t.addToFavorite=t.addToCart=t.reduceQuantity=t.quickView=t.productRecommendationClick=t.loadMoreProductList=t.increaseQuantity=void 0;var o=i(n(6882));t.addToCart=o.default;var a=i(n(3599));t.addToFavorite=a.default;var r=i(n(4472));t.checkout=r.default;var c=i(n(9422));t.initialize=c.default;var s=i(n(7931));t.lead=s.default;var d=i(n(4442));t.login=d.default;var u=i(n(5433));t.pageView=u.default;var l=i(n(4195));t.productClick=l.default;var g=i(n(9215));t.productDetails=g.default;var p=i(n(6052));t.productImpression=p.default;var E=i(n(7501));t.purchase=E.default;var _=i(n(1661));t.register=_.default;var f=i(n(6183));t.removeFromCart=f.default;var v=i(n(6220));t.removeFromFavorite=v.default;var T=i(n(7846));t.searchKeyword=T.default;var I=i(n(2116));t.searchFilter=I.default;var h=i(n(1770));t.selectContent=h.default;var y=i(n(5322));t.sortProducts=y.default;var m=i(n(7500));t.thirdPartyRegisterOrLoginEvent=m.default;var P=i(n(7737));t.increaseQuantity=P.default;var O=i(n(9901));t.loadMoreProductList=O.default;var A=i(n(9086));t.productRecommendationClick=A.default;var b=i(n(6439));t.quickView=b.default;var L=i(n(4774));t.reduceQuantity=L.default;var C=i(n(5799));t.videoStart=C.default;var S=i(n(7960));t.videoComplete=S.default;var N=i(n(7934));t.videoProgress=N.default;var w=i(n(4345));t.refund=w.default;var D=i(n(7039));t.cancelOrder=D.default;var G=i(n(2103));t.viewItemList=G.default;var M=i(n(705));t.viewItemListV2=M.default;var R=i(n(1686));t.viewItemListV3=R.default},9422:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{s(i.next(e))}catch(e){a(e)}}function c(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((i=i.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(e){c=[6,e],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(3131),c=n(2037),s=n(4256),d=n(8279),u=n(2955),l=n(0),g=n(1112),p=n(3841),E=n(3459),_=n(9925),f=n(5955),v=n(6909),T=n(5941),I=n(4293),h=n(3618),y=n(9635),m=n(2586),P=n(8905),O=n(5124),A=n(567);t.default=function(e){return o(void 0,void 0,void 0,(function(){var t,n,o,b,L,C,S,N,w,D,G,M,R,k,Y,U,F,V,K,x,H,B,j,W,X,q,Z,z,Q;return a(this,(function(a){t=(0,P.getMemberId)(),n=(0,P.getClientId)(),(0,P.getDid)(e.env),o=(0,u.generateDeduplicationKey)();try{s.innerLogger.updateClientInfo({shopId:e.shopId,market:e.market,env:e.env,user:"memberId: ".concat(t,"; clientId: ").concat(n),browser:{userAgent:(null===window||void 0===window?void 0:window.navigator.userAgent)||"unknown",cookieEnabled:(null===window||void 0===window?void 0:window.navigator.cookieEnabled)||void 0},lang:(null===window||void 0===window?void 0:window.navigator.language)||"unknown"})}catch(e){s.innerLogger.error("updateClientInfo fail",{message:e.message||"",stack:e.stack||""})}try{(0,s.debugLog)(c.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"initialize start",{initializeConfig:e}),b=e.shopId,L=e.currency,C=e.silo,S=e.env,N=e.market,w=e.gaFourConfig,D=e.fbPixelConfig,G=e.googleAdwordsConfig,M=e.gaConfig,R=e.lineAdConfig,k=e.locale,Y=e.adobeAAConfig,U=e.yahooConfig,(0,A.initialize)(b,N,S).then((function(){s.innerLogger.debug("customAgencyInitialize triggered successfully")})).catch((function(e){s.innerLogger.error("customAgencyInitialize failed, error: ".concat(e))})),(0,d.initFingerPrint)(t,n),(F=e.pageType)||(V=(0,r.getPageInfoByPathRegex)(window.location.pathname),F=(null==V?void 0:V.pageType)||r.PAGE_TYPE.UNKNOWN),K=((0,r.getPageInfoByPageType)(F)||{}).viewType,x=void 0===K?"":K,H=(0,u.getFeatureSetting)(O.shopExtensionConfig,{silo:C,env:S,market:N,shopId:b}),(0,s.debugLog)(c.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"get extensionConfig data",{extensionConfig:H}),B="boolean"==typeof D.isEnableAdvancedFacebookPixel,(0,g.initialize)({config:{googleAnalyticsFourGTagId:null==w?void 0:w.googleAnalyticsFourGTagId},shopId:b,pageType:F,currency:L,viewType:x,silo:C,env:S,market:N}),(0,l.initialize)({shopId:b,currency:L,memberId:t,clientId:n}),(0,p.initialize)({config:D,currency:L,productGranularity:"product_group",isDisableAllSiteFacebookPixel:(null===(W=null==H?void 0:H.facebookPixel)||void 0===W?void 0:W.isDisableAllSitePixel)||!1,isEnableAdvancedFacebookPixel:B?D.isEnableAdvancedFacebookPixel:(0,u.checkPermission)(y.enableAdvancedFacebookPixelConfig,{silo:C,env:S,market:N,shopId:b}),isEnableDmpSetting:(null==H?void 0:H.isEnableDmpSetting)||!1}),(0,E.initialize)({conversionList:null===(X=null==G?void 0:G.GoogleConversionData)||void 0===X?void 0:X.ConversionList,currency:L,remarketingList:null===(q=null==G?void 0:G.GoogleRemarketingData)||void 0===q?void 0:q.RemarketingList,userInfo:{memberId:t},isSendRemarketingFromSSR:null==G?void 0:G.isSendRemarketingFromSSR,isEnableDmpSetting:(null==H?void 0:H.isEnableDmpSetting)||!1}),(0,f.initialize)({tagEventSet:null==R?void 0:R.tagEventSet,isEnableLineAd:!!(null==R?void 0:R.isEnableLineAd),currency:L,deduplicationKey:o,externalId:t||n,isEnableLineCAPISetting:(null==H?void 0:H.isEnableLineCAPISetting)||!1}),(0,v.initialize)({countryName:M.countryName,locale:k,shopId:b,trackingId:M.googleAnalyticsTrackingId,silo:C,market:N,viewType:x,env:S,customOuidDimensionName:null===(Z=null==H?void 0:H.googleAnalytics)||void 0===Z?void 0:Z.customOuidDimensionName,currency:L,clientId:n,deduplicationKey:o,staffBoardConfig:null==e?void 0:e.staffBoardConfig}),(0,_.initialize)({shopId:b,currency:L,config:{isEnable:null==Y?void 0:Y.isEnable,sdkOption:{spec:null===(z=null==H?void 0:H.adobeAnalytics)||void 0===z?void 0:z.spec},sdkScript:null===(Q=null==H?void 0:H.adobeAnalytics)||void 0===Q?void 0:Q.sdkCode}}),j=(null==H?void 0:H.emarsys)||{isEnable:!1,merchantId:"",contactFieldIdType:m.CONTACT_FIELD_TYPE.PHONE_HASHED},(0,T.initialize)(i({shopId:b},j)),(0,h.initialize)(U||{yahooGeminiTrackingInfoList:[]}),(0,I.initialize)({env:S,market:N,shopId:b,silo:C})}catch(t){(0,s.errorLog)(c.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"initialize failed",{initializeConfig:e},t)}return[2]}))}))}},7931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(3841);t.default=function(e,t){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"lead start",{leadInfo:e,eventId:t}),(0,a.lead)(e,t)}catch(n){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"lead failed",{leadInfo:e,eventId:t},n)}}},9901:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(9925);t.default=function(e){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"loadMoreProductList start",{productList:e}),(0,a.loadMoreProductList)(e)}catch(t){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"loadMoreProductList failed",{productList:e},t)}}},4442:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(1112),r=n(9925),c=n(0),s=n(6909);t.default=function(e){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"login start",{loginInfo:e}),(0,s.login)(e),(0,a.login)(e),e.loginStatus===i.LOGIN_STAUS.FINISH&&((0,r.pageViewOnLoginPage)(e),(0,c.login)())}catch(t){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"login failed",{loginInfo:e},t)}}},5433:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3131),o=n(2037),a=n(4256),r=n(2955),c=n(9925),s=n(1112),d=n(3459),u=n(0),l=n(3841),g=n(6909),p=n(5955),E=n(5941),_=n(7984);t.default=function(e,t,n,f){try{(0,a.debugLog)(o.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"pageView start",{pageViewInfo:e,eventId:t});var v=(0,_.getPageType)(),T=e||{},I=T.optionInfo,h=T.pageTitle,y=void 0===h?(0,r.getPageTitle)():h,m=T.viewId,P=T.viewType,O=T.contentSource;switch((0,s.pageView)({pageTitle:y,viewId:m,viewType:P,contentSource:O}),(0,d.trackPageView)(),(0,p.pageView)(),(0,u.pageView)(e,I),(0,l.pageView)(e,t),v){case i.PAGE_TYPE.SALEPAGE:case i.PAGE_TYPE.SHOPPING_CART:(0,g.pageViewOnGeneral)({pageViewInfo:e,eventId:t,originalClientId:f,pageTitle:y,preferredCurrency:n}),(0,E.pageViewOnGeneral)(e,!0);break;case i.PAGE_TYPE.SHOPPING_CART_BATCH_INSERT:(0,g.pageViewOnGeneral)({pageViewInfo:e,eventId:t,originalClientId:f,pageTitle:y,preferredCurrency:n});break;case i.PAGE_TYPE.CATEGORY:var A=I||{},b=A.productList,L=A.categoryInfo;(0,g.pageViewOnGeneral)({pageViewInfo:e,eventId:t,originalClientId:f,pageTitle:y,preferredCurrency:n}),(0,c.pageViewOnCategory)({pageTitle:y,categoryInfo:L,productList:b}),(0,E.pageViewOnCategory)(e,L);break;case i.PAGE_TYPE.SEARCH:var C=I||{},S=(b=C.productList,C.searchResults);(0,g.pageViewOnGeneral)({pageViewInfo:e,eventId:t,originalClientId:f,pageTitle:y,preferredCurrency:n}),(0,c.pageViewOnSearchResult)({pageTitle:y,productList:b,searchResults:S}),(0,E.pageViewOnGeneral)(e,!0);break;case i.PAGE_TYPE.PAY_FINISH:(0,g.pageViewOnGeneral)({pageViewInfo:e,eventId:t,originalClientId:f,pageTitle:y,preferredCurrency:n}),(0,E.pageViewOnGeneral)(e,!0);break;default:var N=e.viewType;"TwStaffBoard"!==e.contentSource||"SBProfileDetail"!==N&&"SBProfileList"!==N&&"SBStylingDetail"!==N&&"SBStylingList"!==N&&"SBVideoDetail"!==N&&"SBVideoList"!==N?(0,g.pageViewOnGeneral)({pageViewInfo:e,eventId:t,originalClientId:f,pageTitle:y,preferredCurrency:n}):(0,g.pageViewOnStaffboard)({pageViewInfo:e,eventId:t,originalClientId:f,pageTitle:y,preferredCurrency:n}),(0,c.pageViewOnGeneral)(v),(0,E.pageViewOnGeneral)(e)}}catch(n){throw(0,a.debugLog)(o.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"pageView failed",{pageViewInfo:e,eventId:t}),n}}},4195:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(0),r=n(6909);t.default=function(e,t){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"productClick start",{productInfo:e,list:t}),(0,r.productClick)(e),(0,a.productClick)(e)}catch(n){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"productClick failed",{productInfo:e,list:t},n)}}},9215:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(1112),r=n(9925),c=n(3841),s=n(3459),d=n(0),u=n(5955),l=n(6909),g=n(5941),p=n(3618);t.default=function(e,t){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"productDetail start",{productPageInfo:e,eventId:t});var n=e.pageTitle,E=e.productInfo,_=e.categoryInfo,f=e.viewItemType,v=void 0===f?i.VIEW_ITEM_TYPE.SALE_PAGE:f,T=e.productMainImage,I=void 0===T?"":T,h=e.productDesc,y=void 0===h?"":h,m=e.productOuterId;if(!E||!_)return void(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"productDetail failed",{productPageInfo:e});(0,a.viewProduct)({productInfo:E,viewItemType:v}),(0,c.viewProductPage)(e,t),(0,s.viewProduct)(E),(0,u.viewProduct)(),(0,l.viewProduct)(E,t,v),(0,r.pageViewOnSalePage)(n,E,_),(0,d.viewProduct)({productInfo:E,productMainImage:I,productDesc:y,categoryInfo:_,productOuterId:m}),(0,g.viewProduct)(E),(0,p.viewProduct)(E)}catch(n){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"productDetail failed",{productPageInfo:e,eventId:t},n)}}},6052:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(3459);t.default=function(e,t,n){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"productImpression start",{productList:e,list:t,isCategoryPage:n}),(0,a.viewProductList)(e)}catch(a){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"productImpression failed",{productList:e,list:t,isCategoryPage:n},a)}}},9086:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(9925);t.default=function(e){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"productRecommendationClick start",{productInfo:e}),(0,a.productRecommendationClick)(e)}catch(t){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"productRecommendationClick failed",{productInfo:e},t)}}},7501:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(1112),r=n(9925),c=n(3841),s=n(3459),d=n(6909),u=n(5941),l=n(3618),g=n(5955),p=n(0);t.default=function(e,t,n,E,_){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"purchase start",{purchaseInfo:e,productList:t,eventId:n,version:_}),(0,a.purchase)(e,t,_),(0,c.purchase)(e,t,n),(0,s.purchase)(e,t,E),(0,d.purchase)(e,t,n,_),(0,d.staffboardStaffSales)(e,t,n,_),(0,r.pageViewOnOrderConfirmation)(e,t),(0,u.purchase)(e,t),(0,l.purchase)(e,t),(0,g.purchase)(e),(0,p.purchase)(e,t)}catch(a){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"purchase failed",{purchaseInfo:e,productList:t,eventId:n},a)}}},6439:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(9925);t.default=function(e){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"quickView start",{productInfo:e}),(0,a.quickView)(e)}catch(t){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"quickView failed",{productInfo:e},t)}}},4774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(9925);t.default=function(e){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"reduceQuantity start",{productInfo:e}),(0,a.reduceQuantity)(e)}catch(t){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"reduceQuantity failed",{productInfo:e},t)}}},4345:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4256),o=n(2037),a=n(1112),r=n(6909);t.default=function(e,t,n){try{(0,i.debugLog)(o.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"refund start",{productList:e,orderId:t,value:n}),(0,r.refund)(e,t,n),(0,a.refund)(e,t,n)}catch(a){(0,i.errorLog)(o.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"refund failed",{productList:e,orderId:t,value:n},a)}}},1661:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(9925),r=n(1112),c=n(3841),s=n(3459),d=n(0),u=n(6909),l=n(5955);t.default=function(e,t){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"register start",{registerInfo:e,eventId:t});var n=e.registerStatus;(0,u.register)(e,t),(0,r.register)(e),n===i.REGISTER_STAUS.FINISH&&((0,c.register)(e,t),(0,l.register)(),(0,s.register)(),(0,a.register)(),(0,d.register)())}catch(n){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"register failed",{registerInfo:e,eventId:t},n)}}},6183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(1112),r=n(0),c=n(9925),s=n(6909);t.default=function(e){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"removeFromCart start",{productInfo:e}),(0,s.removeFromCart)(e),(0,a.removeFromCart)(e),(0,r.removeFromCart)(e),(0,c.removeFromCart)(e)}catch(t){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"removeFromCart failed",{productInfo:e},t)}}},6220:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(1112),r=n(0),c=n(6909);t.default=function(e){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"removeFromFavorite start",{productInfo:e}),(0,c.removeFromWishlist)(e),(0,a.removeFromWishlist)(e),(0,r.removeFromWishlist)(e)}catch(t){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"removeFromFavorite failed",{productInfo:e},t)}}},2116:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(1112),r=n(6909);t.default=function(e,t){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"searchFilter start",{searchFilterInfo:e,eventId:t}),(0,a.searchFilter)(e),(0,r.searchFilter)(e)}catch(n){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"searchFilter failed",{searchFilterInfo:e,eventId:t},n)}}},7846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(1112),r=n(3841),c=n(3459),s=n(6909);t.default=function(e,t){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"searchKeyword start",{searchKeywordInfo:e,eventId:t}),(0,s.searchKeyword)(e,t),(0,a.searchKeyword)(e),(0,r.searchKeyword)(null==e?void 0:e.searchTerm,t),(0,c.viewSearchResult)()}catch(n){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"searchKeyword failed",{searchKeywordInfo:e,eventId:t},n)}}},1770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(1112),r=n(6909),c=n(9925);t.default=function(e){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"selectContent start",{contentInfo:e});var t=e.adobeContentInfo;if(t){var n=t.eventMessage,s=t.exclude,d=t.eventInfo;if((0,c.selectContent)(n,d),"GA4"===s)return}(0,r.selectContent)(e),(0,a.selectContent)(e)}catch(t){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"selectContent failed",{contentInfo:e},t)}}},5322:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(1112),r=n(6909);t.default=function(e){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"sortProducts start",{method:e}),(0,a.sortProducts)(e),(0,r.sortProducts)(e)}catch(t){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"sortProducts failed",{method:e},t)}}},7500:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2352),o=n(1112),a=n(3459),r=n(5955),c=n(0),s=n(3841),d=n(6909),u=n(4256),l=n(2037);t.default=function(e){try{(0,u.debugLog)(l.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"thirdPartyRegisterOrLoginEvent start",{isThirdPartyNewRegistered:e});var t=(0,i.generateUUID)();(0,c.thirdPartyRegisterOrLogin)(e),(0,d.thirdPartyRegisterOrLogin)(e,t),(0,o.thirdPartyRegisterOrLogin)(e),e&&((0,a.register)(),(0,s.thirdPartyRegister)(t),(0,r.thirdPartyRegister)())}catch(t){(0,u.errorLog)(l.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"thirdPartyRegisterOrLoginEvent failed",{isThirdPartyNewRegistered:e},t)}}},7960:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(6909),r=n(1112);t.default=function(e){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"videoComplete start",{videoInfo:e}),(0,a.videoComplete)(e),(0,r.videoComplete)(e)}catch(t){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"videoComplete failed",{videoInfo:e},t)}}},7934:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(6909),r=n(1112);t.default=function(e){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"videoProgress start",{videoProgressInfo:e}),(0,a.videoProgress)(e),(0,r.videoProgress)(e)}catch(t){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"videoProgress failed",{videoProgressInfo:e},t)}}},5799:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(6909),r=n(1112);t.default=function(e){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"videoStart start",{videoInfo:e}),(0,a.videoStart)(e),(0,r.videoStart)(e)}catch(t){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"videoStart failed",{videoInfo:e},t)}}},2103:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(6909);t.default=function(e){try{o.innerLogger.warn("Activated deprecated event viewItemList"),(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"viewItemList start",{viewItemListInfo:e}),(0,a.viewItemList)(e)}catch(t){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"viewItemList failed",{viewItemListInfo:e},t)}}},705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(6909);t.default=function(e){try{o.innerLogger.warn("Activated deprecated event viewItemListV2"),(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"viewItemListV2 start",{viewItemListInfo:e}),(0,a.viewItemListV2)(e)}catch(t){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"viewItemListV2 failed",{viewItemListInfo:e},t)}}},1686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2037),o=n(4256),a=n(6909);t.default=function(e){try{(0,o.debugLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"viewItemListV3 start",{viewItemListInfo:e}),(0,a.viewItemListV3)(e)}catch(t){(0,o.errorLog)(i.TRACKING_MODULE_TYPE.SDK_COMMON_EVENT,"viewItemListV3 failed",{viewItemListInfo:e},t)}}},1154:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendCookieMatchingPixel=void 0;var i=n(4256);t.appendCookieMatchingPixel=function(e,t){if(window&&e)try{var n="".concat("cookie-matching-pixel","-").concat(e),o=document.createElement("img"),a="google_nid=".concat(e,"&google_cm");t&&(a+="&".concat(t)),o.src="".concat("https://cm.g.doubleclick.net/pixel","?").concat(a),o.setAttribute("style","display: none;"),o.setAttribute("id",n);var r=document.querySelector("#".concat(n));r&&r.remove(),document.body.appendChild(o)}catch(t){i.innerLogger.error("appendCookieMatchingPixel fail",{nid:e,detail:t.message})}}},9489:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(54),t)},54:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMemberHashedInfo=t.setMemberHashedInfo=t.checkIsEnableCartList=t.checkIsEnableMemberOuid=void 0;var i=n(5124),o=n(2955);t.checkIsEnableMemberOuid=function(e){var t=e||{},n=t.silo,a=t.env,r=t.shopId,c=t.market,s=(0,o.getFeatureSetting)(i.shopExtensionConfig,{silo:n,env:a,market:c,shopId:r});return(null==s?void 0:s.isEnableOuid)||!1},t.checkIsEnableCartList=function(e){var t=e||{},n=t.silo,a=t.env,r=t.shopId,c=t.market,s=(0,o.getFeatureSetting)(i.shopExtensionConfig,{silo:n,env:a,market:c,shopId:r});return(null==s?void 0:s.isEnableCartList)||!1};var a={};t.setMemberHashedInfo=function(e){a=e},t.getMemberHashedInfo=function(){return a||{emailHashed:window.localStorage.getItem("em"),phoneHashed:window.localStorage.getItem("ph"),phoneHashedForTealiumIQ:window.localStorage.getItem("phForTealiumIQ")}}},3607:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},c=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.CONSTANTS=void 0;var s=r(n(2037));t.CONSTANTS=s;var d=r(n(7183)),u=r(n(2815)),l=r(n(9489));n(1905),"undefined"!=typeof window&&(window.nineyi=window.nineyi||{},window.nineyi.trackingSdk=i(i(i({CONSTANTS:s,_SIDE_EFFECTS_:{}},d),u),l),window.nineyi.trackingSdk.VERSION="3.0.8"),c(n(7183),t),c(n(2815),t),c(n(9489),t),c(n(2e3),t)},5739:(e,t,n)=>{"use strict";var i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.eventMessageOnPgaeView=t.adobePageType=t.ADOBE_ANALYTICS_SPEC_TYPE=void 0;var a=n(3131),r={A:"A",B:"B",C:"C"};t.ADOBE_ANALYTICS_SPEC_TYPE=r,t.adobePageType=((i={})[a.PAGE_TYPE.LOGIN]="login and registration",i[a.PAGE_TYPE.SEARCH]="Search",i[a.PAGE_TYPE.MY_ACCOUNT_PRIVACY]="my account",i[a.PAGE_TYPE.MY_ACCOUNT_VIP_MEMBER_BENEFITS]="my account",i[a.PAGE_TYPE.MY_ACCOUNT_CHANGE_PASSWORD]="my account",i[a.PAGE_TYPE.VIP_MEMBER_PROFILE]="my account",i[a.PAGE_TYPE.VIP_MEMBER]="my account",i[a.PAGE_TYPE.TRACE_SALE_PAGE_LIST]="wishlist",i.default="content",i),t.eventMessageOnPgaeView=((o={})["".concat(r.A)]={home:"page ready - homepage","My Wishlist":"page ready - wish list","Vip Member":"page ready - my account","My Orders":"page ready - my account","My Coupons":"page ready - my account",FAQ:"page ready - my account","Addressee List":"page ready - my account","Invoice List":"page ready - my account","Change Password":"page ready - my account","Membership Terms":"page ready - my account","Search result":"page ready - search result",Category:"page ready - plp",Error:"page ready - error",default:"page ready - content","View product":"page ready - pdp",Cart:"page ready - cart",Checkout:"page ready - cart","Order Confirmation":"page ready - order confirmation"},o["".concat(r.B)]={default:"page ready"},o["".concat(r.C)]={"Order Confirmation":"page ready - order confirmation"},o)},9925:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.selectContent=t.productRecommendationClick=t.quickView=t.reduceQuantity=t.increaseQuantity=t.loadMoreProductList=t.customEvent=t.checkoutOnConfirmPayment=t.checkoutOnPaymentAndShipping=t.pageViewOnCheckoutOnCart=t.addToWishlist=t.removeFromCart=t.addToCart=t.pageViewOnLoginPage=t.register=t.pageViewOnOrderConfirmation=t.pageViewOnError=t.pageViewOnSalePage=t.pageViewOnSearchResult=t.pageViewOnCategory=t.pageViewOnGeneral=t.initialize=t.checkIsEnableAdobeTrack=void 0;var o,a=n(3131),r=n(2037),c=n(4256),s=n(2955),d=n(5739),u=n(7201),l=n(7146),g=function(){return o||{}};t.checkIsEnableAdobeTrack=function(e){void 0===e&&(e=!1);var t=g().config;return(0,s.checkIsClientRender)()&&void 0!==t&&t.isEnable&&t.sdkScript&&(e||void 0!==window._satellite)},t.initialize=function(e){!function(e){o=e}(e)};var p=function(e,t){var n,i;return(null===(n=d.eventMessageOnPgaeView[e])||void 0===n?void 0:n[t])||(null===(i=d.eventMessageOnPgaeView[e])||void 0===i?void 0:i.default)},E=function(e){return d.adobePageType[e]||d.adobePageType.default};t.pageViewOnGeneral=function(e){var n=g().config,i=(0,l.getAdobeAnalyticsSpec)(n),o=(0,t.checkIsEnableAdobeTrack)()||"C"!==i;if(o){var d=null==n?void 0:n.sdkScript;d&&(0,u.loadScript)(d,(function(){var t;(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS,"loadingSdkScript success",{});var i,o=(0,l.getAdobeAnalyticsSpec)(n),d=(0,s.getPageTitle)();i=e===a.PAGE_TYPE.INDEX?{pageName:"Home",pageType:"home",breadcrumb:"Home"}:{pageName:d,pageType:E(e),breadcrumb:d};var u={core:(0,l.getCoreInfo)(),page:i,visitor:(0,l.getUserInfo)()};window.digitalData=u;var g=p(o,d);null===(t=window._satellite)||void 0===t||t.track(g),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," pageViewOnGeneral success",{eventData:u,eventMessage:g})}),(function(e){(0,c.errorLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS,"loadingSdkScript failed",{},e)}))}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," pageViewOnGeneral failed",{isEnable:o,pageType:e})},t.pageViewOnCategory=function(e){var n=g().config,o=(0,l.getAdobeAnalyticsSpec)(n),a=(0,t.checkIsEnableAdobeTrack)()||"C"!==o;if(a){var s=null==n?void 0:n.sdkScript;s&&(0,u.loadScript)(s,(function(){var t;(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS,"loadingSdkScript success",{});var o=e||{},a=o.productList,s=o.categoryInfo,d=o.pageTitle;if(a&&0!==a.length&&s){var u=(0,l.getAdobeAnalyticsSpec)(n),g={core:(0,l.getCoreInfo)(),page:{pageName:d||"",pageType:"plp",breadcrumb:(0,l.getCategoryBreadcrumb)(s)},ecommerce:{category:i(i({},(0,l.getMappedCategoryInfo)(s)),{totalResultCount:a.length}),product:(0,l.getMappedProductList)(u,a)},visitor:(0,l.getUserInfo)()};window.digitalData=g;var E=p(u,"Category");null===(t=window._satellite)||void 0===t||t.track(E),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," pageViewOnCategory success",{eventData:g,eventMessage:E})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," pageViewOnCategory failed , payload is not valided",{categoryInfo:s,productList:a})}),(function(e){(0,c.errorLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS,"loadingSdkScript failed",{},e)}))}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," pageViewOnCategory failed",{isEnable:a})},t.pageViewOnSearchResult=function(e){var n=g().config,i=(0,l.getAdobeAnalyticsSpec)(n),o=(0,t.checkIsEnableAdobeTrack)()||"C"!==i;if(o){var a=null==n?void 0:n.sdkScript;a&&(0,u.loadScript)(a,(function(){var t;(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS,"loadingSdkScript success",{});var i=e.pageTitle,o=e.productList,a=e.searchResults,s=(0,l.getAdobeAnalyticsSpec)(n),d={core:(0,l.getCoreInfo)(),page:{pageName:i||"",pageType:"Search",breadcrumb:"search"},searchResults:a,ecommerce:{product:(0,l.getMappedProductList)(s,o)},visitor:(0,l.getUserInfo)()};window.digitalData=d;var u=p(s,"Search result");null===(t=window._satellite)||void 0===t||t.track(u),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," pageViewOnSearchResult success",{eventData:d,eventMessage:u})}),(function(e){(0,c.errorLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS,"loadingSdkScript failed",{},e)}))}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," pageViewOnCategory failed",{isEnable:o})},t.pageViewOnSalePage=function(e,n,i){var o=g().config,a=(0,l.getAdobeAnalyticsSpec)(o),s=(0,t.checkIsEnableAdobeTrack)()||"C"!==a;if(s){var d=null==o?void 0:o.sdkScript;d&&(0,u.loadScript)(d,(function(){(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS,"loadingSdkScript success",{});var t=(0,l.getAdobeAnalyticsSpec)(o),a={core:(0,l.getCoreInfo)(),page:{pageName:e,pageType:"pdp",breadcrumb:(0,l.getCategoryBreadcrumb)(i)},ecommerce:{category:(0,l.getMappedCategoryInfo)(i),product:(0,l.getMappedProductList)(t,[n])},visitor:(0,l.getUserInfo)()};window.digitalData=a;var s=p(t,"View product");window._satellite.track(s),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," pageViewOnSalePage success",{eventData:a})}),(function(e){(0,c.errorLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS,"loadingSdkScript failed",{},e)}))}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," pageViewOnSalePage failed",{isEnable:s})},t.pageViewOnError=function(e){var n=g().config,i=(0,l.getAdobeAnalyticsSpec)(n),o=(0,t.checkIsEnableAdobeTrack)()||"C"!==i;if(o){var a=null==n?void 0:n.sdkScript;a&&(0,u.loadScript)(a,(function(){var t;(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS,"loadingSdkScript success",{});var i={core:(0,l.getCoreInfo)(),page:{pageType:"error",errorCode:e},visitor:(0,l.getUserInfo)()};window.digitalData=i;var o=(0,l.getAdobeAnalyticsSpec)(n),a=p(o,"Error");null===(t=window._satellite)||void 0===t||t.track(a),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," pageViewOnError success",{eventData:i,eventMessage:a})}),(function(e){(0,c.errorLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS,"loadingSdkScript failed",{},e)}))}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," pageViewOnCategory failed",{isEnable:o})},t.pageViewOnOrderConfirmation=function(e,n){var i=g().config,o=(0,l.getAdobeAnalyticsSpec)(i),a="C"===o,s=(0,t.checkIsEnableAdobeTrack)(a);if(s){var E=null==i?void 0:i.sdkScript;E&&(0,u.loadScript)(E,(function(){var t;(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS,"loadingSdkScript success",{});var i,a=e.orderId,s=e.orderSubTotal,u=e.orderTotal,g=e.shipping,E=e.shippingMethod,_=e.paymentMethod,f=e.eCouponCode,v=e.totalDiscount,T=e.shippingDiscount;o===d.ADOBE_ANALYTICS_SPEC_TYPE.C?(i={purchaseID:a,products:(0,l.getMappedProductList)(o,n)},window.purchaseID=a,window.products=(0,l.getMappedProductList)(o,n)):i={core:(0,l.getCoreInfo)(),page:{pageName:"Checkout: Order Confirmation",pageType:"order confirmation",breadcrumb:"Checkout/Order Confirmation"},ecommerce:{checkoutStepName:"Order Confirmation",orderID:a,orderSubTotal:s,orderTotal:u,tax:void 0,shipping:g,shippingMethod:E,paymentMethod:_,giftCardAmount:void 0,promoCode:f,orderDiscount:v?Math.abs(v):0,shippingDiscount:T||0,product:(0,l.getMappedProductList)(o,n)},visitor:(0,l.getUserInfo)()},window.digitalData=i;var I=p(o,"Order Confirmation");null===(t=window._satellite)||void 0===t||t.track(I),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," pageViewOnOrderConfirmation success",{eventData:i})}),(function(e){(0,c.errorLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS,"loadingSdkScript failed",{},e)}))}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," pageViewOnOrderConfirmation failed",{isEnable:s})},t.register=function(){var e=g().config,n=(0,l.getAdobeAnalyticsSpec)(e),i=(0,t.checkIsEnableAdobeTrack)()||"C"!==n;if(i){var o="newAccountCreated";(0,l.sendDigitalDataEvent)(o),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," register success",{eventName:o})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," register insufficient condition",{isEnable:i})},t.pageViewOnLoginPage=function(e){var n=g().config,i=(0,l.getAdobeAnalyticsSpec)(n),o=(0,t.checkIsEnableAdobeTrack)()||"C"!==i;if(o){var a=null==n?void 0:n.sdkScript;a&&(0,u.loadScript)(a,(function(){(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS,"loadingSdkScript success",{});var t={loginType:e.loginMethod,visitor:(0,l.getUserInfo)()},n="newLogin";(0,l.sendDigitalDataEvent)(n,t),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," login success",{eventName:n}),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," pageViewOnLoginPage success",{eventData:t})}),(function(e){(0,c.errorLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS,"loadingSdkScript failed",{},e)}))}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," pageViewOnLoginPage failed",{isEnable:o})},t.addToCart=function(e,n){var i=g().config,o=(0,l.getAdobeAnalyticsSpec)(i),a=(0,t.checkIsEnableAdobeTrack)()||"C"!==o;if(a&&e){var s=e.id,u=e.name,p=e.categoryName,E=e.price,_=e.quantity,f=e.skuId,v=e.suggestPrice,T={id:s,name:u,category:p,price:E,quantity:_||1,sku:f,originalPrice:v};o===d.ADOBE_ANALYTICS_SPEC_TYPE.B?(T.discountAmount=v-E>0?v-E:0,T.discountCode=""):T.category=p;var I={product:T,totalCartCount:n||_,addToCartType:"add to cart"};(0,l.sendDigitalDataEvent)("addToCart",I),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," addToCart success",I)}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," addToCart insufficient condition",{isEnable:a})},t.removeFromCart=function(e){var n=g().config,i=(0,l.getAdobeAnalyticsSpec)(n),o=(0,t.checkIsEnableAdobeTrack)()||"C"!==i;if(o&&e){var a=e.id,s=e.name,u=e.price,p=e.skuId,E=e.suggestPrice,_={id:a,name:s,price:u,style:(0,l.getItemStyleCode)(s),sku:p,quantity:1,originalPrice:E};i===d.ADOBE_ANALYTICS_SPEC_TYPE.B&&(_.discountAmount=E-u>0?E-u:0,_.discountCode="");var f={product:[_]};(0,l.sendDigitalDataEvent)("removeFromCart",f),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," removeFromCart success",{eventData:f})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," removeFromCart insufficient condition",{isEnable:o})},t.addToWishlist=function(e){var n=g().config,o=(0,l.getAdobeAnalyticsSpec)(n),a=(0,t.checkIsEnableAdobeTrack)()||"C"!==o;if(a){var s=e.id,u=e.name,p=e.price,E=e.skuId,_=e.suggestPrice,f={id:s,style:(0,l.getItemStyleCode)(u),name:u,price:p,sku:E,quantity:1,originalPrice:_},v=o===d.ADOBE_ANALYTICS_SPEC_TYPE.B?{discountAmount:_-p>0?_-p:0,discountCode:""}:{},T=[{product:i(i({},f),v)}];(0,l.sendDigitalDataEvent)("addToWishlist",T),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," addToWishlist success",{eventData:T})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," addToWishlist insufficient condition",{isEnable:a})},t.pageViewOnCheckoutOnCart=function(e){var n=g().config,i=(0,l.getAdobeAnalyticsSpec)(n),o=(0,t.checkIsEnableAdobeTrack)()||"C"!==i;if(o){var a=null==n?void 0:n.sdkScript;a&&(0,u.loadScript)(a,(function(){var t;(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS,"loadingSdkScript success",{});var i=(0,l.getAdobeAnalyticsSpec)(n),o={core:(0,l.getCoreInfo)(),page:{pageName:"Cart",pageType:"cart",breadcrumb:"Cart"},ecommerce:{checkoutStepName:"Cart",product:(0,l.getMappedProductList)(i,e)},visitor:(0,l.getUserInfo)()};window.digitalData=o;var a=p(i,"Cart");null===(t=window._satellite)||void 0===t||t.track(a),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," pageViewOnCheckoutOnCart success",{})}),(function(e){(0,c.errorLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS,"loadingSdkScript failed",{},e)}))}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," pageViewOnCheckoutOnCart failed",{isEnable:o})},t.checkoutOnPaymentAndShipping=function(){var e=g().config,n=(0,l.getAdobeAnalyticsSpec)(e),i=(0,t.checkIsEnableAdobeTrack)()||"C"!==n;if(i){var o={checkoutStepName:"Payment and Shipping"};(0,l.sendDigitalDataEvent)("checkoutStepProgress",o),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," checkoutOnPaymentAndShipping success",{eventData:o})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," checkoutOnPaymentAndShipping insufficient condition",{isEnable:i})},t.checkoutOnConfirmPayment=function(e){var n,i=g().config,o=(0,l.getAdobeAnalyticsSpec)(i),a=(0,t.checkIsEnableAdobeTrack)()||"C"!==o;if(a){var s={core:(0,l.getCoreInfo)(),page:{pageName:"Checkout",pageType:"checkout",breadcrumb:"Checkout"},ecommerce:{checkoutStepName:"Billing",product:(0,l.getMappedProductList)(o,e)},visitor:(0,l.getUserInfo)()};window.digitalData=s;var d=p(o,"Checkout");null===(n=window._satellite)||void 0===n||n.track(d),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," checkoutOnConfirmPayment success",{eventData:s})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," checkoutOnConfirmPayment insufficient condition",{isEnable:a})},t.customEvent=function(e,n){var i=g().config,o=(0,l.getAdobeAnalyticsSpec)(i),a=(0,t.checkIsEnableAdobeTrack)()||"C"!==o;a?(0,l.sendDigitalDataEvent)(e,n):(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," customEvent:".concat(e," insufficient condition"),{isEnable:a})},t.loadMoreProductList=function(e){var n=g().config,i=(0,l.getAdobeAnalyticsSpec)(n),o=(0,t.checkIsEnableAdobeTrack)()||"C"!==i;if(o){var a={product:e.map((function(e){return{id:e.id,name:e.name,badge:"",ratingAvg:"",ratingCount:"",price:e.price,sku:i===d.ADOBE_ANALYTICS_SPEC_TYPE.B?e.skuId:"",discountAmount:e.suggestPrice-e.price>0&&i===d.ADOBE_ANALYTICS_SPEC_TYPE.B?e.suggestPrice-e.price:"",discountCode:""}}))};(0,l.sendDigitalDataEvent)("loadMoreProducts",a),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," loadMoreProductList success",{eventData:a})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," loadMoreProductList insufficient condition",{isEnable:o})},t.increaseQuantity=function(e){var n=g().config,i=(0,l.getAdobeAnalyticsSpec)(n),o=(0,t.checkIsEnableAdobeTrack)()||"C"!==i;if(o){var a=e.id,s=e.price,d=e.name,u=e.skuId,p=e.suggestPrice,E=[{product:[{id:a,style:(0,l.getItemStyleCode)(d),name:d,price:s,sku:u,quantity:1,originalPrice:p}]}];(0,l.sendDigitalDataEvent)("cartAddQuantity",E),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," increaseQuantity success",{eventData:E})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," increaseQuantity insufficient condition",{isEnable:o})},t.reduceQuantity=function(e){var n=g().config,i=(0,l.getAdobeAnalyticsSpec)(n),o=(0,t.checkIsEnableAdobeTrack)()||"C"!==i;o?(0,t.removeFromCart)(e):(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," reduceQuantity insufficient condition",{isEnable:o})},t.quickView=function(e){var n=g().config,i=(0,l.getAdobeAnalyticsSpec)(n),o=(0,t.checkIsEnableAdobeTrack)()||"C"!==i;if(o){var a={product:[{id:e.id,name:e.name,badge:void 0,price:e.price,discountAmount:0}]};(0,l.sendDigitalDataEvent)("quickView",a),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," quickView success",{eventData:a})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," quickView insufficient condition",{isEnable:o})},t.productRecommendationClick=function(e){var n=g().config,i=(0,l.getAdobeAnalyticsSpec)(n),o=(0,t.checkIsEnableAdobeTrack)()||"C"!==i;if(o){var a=e.id,s=e.skuId,d={product:[{id:a,sku:"".concat(s||"")}]};(0,l.sendDigitalDataEvent)("productRecommendationClick",d),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," productRecommendationClick success",{eventData:d})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," productRecommendationClick insufficient condition",{isEnable:o})},t.selectContent=function(e,n){var i=g().config,o=(0,l.getAdobeAnalyticsSpec)(i),a=(0,t.checkIsEnableAdobeTrack)()||"C"!==o;a?((0,l.sendDigitalDataEvent)(e,n),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," selectContent success",{eventInfo:n,eventMsg:e})):(0,c.debugLog)(r.TRACKING_MODULE_TYPE.ADOBE_ANALYTICS," selectContent:".concat(e," insufficient condition"),{isEnable:a})}},7146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCategoryBreadcrumb=t.getMappedProductList=t.getMappedCategoryInfo=t.getUserInfo=t.getAdobeAnalyticsSpec=t.getCoreInfo=t.getItemStyleCode=t.sendDigitalDataEvent=void 0;var i=n(9475),o=n(5739);t.sendDigitalDataEvent=function(e,t){window.digitalData=window.digitalData||{},t&&(window.digitalData.eventData=t),window.digitalData.event=e},t.getItemStyleCode=function(e){if(e.includes("|")&&e.slice(e.lastIndexOf("|")+1,e.length).length>0)return e.slice(e.lastIndexOf("|")+1,e.length)},t.getCoreInfo=function(){return{language:"zh",currencyCode:"TWD"}},t.getAdobeAnalyticsSpec=function(e){var t;return(null===(t=null==e?void 0:e.sdkOption)||void 0===t?void 0:t.spec)||o.ADOBE_ANALYTICS_SPEC_TYPE.A},t.getUserInfo=function(){var e=(0,i.getCookie)("MID");return{customerID:e||void 0,isRewardsMember:void 0,isLoggedIn:!!e}},t.getMappedCategoryInfo=function(e){return{primaryCategory:e.categoryNameLevel1||"",subCategory1:e.categoryNameLevel2||"",subCategory2:e.categoryNameLevel3||"",subCategory3:e.categoryNameLevel4||""}},t.getMappedProductList=function(e,t){switch(e){case o.ADOBE_ANALYTICS_SPEC_TYPE.A:case o.ADOBE_ANALYTICS_SPEC_TYPE.B:return t.map((function(t){var n;switch(e){case o.ADOBE_ANALYTICS_SPEC_TYPE.A:n={id:"".concat(t.id),name:t.name,badge:"",ratingAvg:"",ratingCount:"",price:t.price};break;case o.ADOBE_ANALYTICS_SPEC_TYPE.B:n={id:"".concat(t.id),name:t.name,badge:"",ratingAvg:"",ratingCount:"",price:t.price,sku:"",discountAmount:t.suggestPrice-t.price>0?t.suggestPrice-t.price:0,discountCode:"",quantity:t.quantity,originalPrice:t.suggestPrice}}return n}));case o.ADOBE_ANALYTICS_SPEC_TYPE.C:return t.map((function(e){return";".concat(e.skuOuterId,";").concat(e.quantity,";").concat(e.price)})).join(",")}return""},t.getCategoryBreadcrumb=function(e){return["首頁",e.categoryNameLevel1,e.categoryNameLevel2,e.categoryNameLevel3,e.categoryNameLevel4].filter((function(e){return e&&e.length>0})).join("|")}},2586:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CONTACT_FIELD_TYPE=void 0,(n=t.CONTACT_FIELD_TYPE||(t.CONTACT_FIELD_TYPE={})).MEMBER_ID="mid",n.OUID="ouid",n.PHONE_HASHED="phoneHashed"},5941:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.purchase=t.viewProduct=t.pageViewOnCategory=t.pageViewOnGeneral=t.initialize=t.checkIsEnable=void 0;var i,o=n(4256),a=n(2037),r=n(7201),c=n(8103),s=function(){return i};t.checkIsEnable=function(){var e=s()||{},t=e.isEnable,n=e.merchantId;return!(!t||!n)},t.initialize=function(e){!function(e){i=e}(e),(0,o.debugLog)(a.TRACKING_MODULE_TYPE.EMARSYS,"get initialize data",{setting:e});var n=(0,t.checkIsEnable)();if(n){var c=(s()||{}).merchantId;window.ScarabQueue=window.ScarabQueue||[];var d="https://recommender.scarabresearch.com/js/".concat(c,"/scarab-v2.js");(0,r.loadScript)(d,(function(){(0,o.debugLog)(a.TRACKING_MODULE_TYPE.EMARSYS,"initialize success",{isEnable:n,merchantId:c})}),(function(e){(0,o.errorLog)(a.TRACKING_MODULE_TYPE.EMARSYS,"initialize failed",{isEnable:n,merchantId:c},e)}))}else(0,o.debugLog)(a.TRACKING_MODULE_TYPE.EMARSYS,"initialize insufficient condition",{isEnable:n,setting:e})},t.pageViewOnGeneral=function(e,n){var i=(0,t.checkIsEnable)();if(i&&e){var r=s()||{},d=r.contactFieldIdType,u=r.shopId,l=e||{},g=l.vipMemberOuterId,p=l.isLogin,E=l.phoneHashed,_=l.memberHashed,f=l.currentCartList;(0,c.setCustomerId)({shopId:u,vipMemberOuterId:g,isLogin:p,phoneHashed:(null==_?void 0:_.phoneHashed)||E||"",contactFieldIdType:d}),(0,c.setCartItems)(f),n||(window.ScarabQueue=window.ScarabQueue||[],window.ScarabQueue.push(["go"])),(0,o.debugLog)(a.TRACKING_MODULE_TYPE.EMARSYS,"pageViewOnGeneral success",{pageViewInfo:e,isStopExecuteGo:n})}else(0,o.debugLog)(a.TRACKING_MODULE_TYPE.EMARSYS,"pageViewOnGeneral insufficient condition",{isEnable:i,pageViewInfo:e})},t.pageViewOnCategory=function(e,n){var i=(0,t.checkIsEnable)();if(i&&e&&n){var r=s()||{},d=r.contactFieldIdType,u=r.shopId,l=e||{},g=l.vipMemberOuterId,p=l.isLogin,E=l.phoneHashed,_=l.memberHashed,f=l.currentCartList;(0,c.setCustomerId)({shopId:u,vipMemberOuterId:g,isLogin:p,phoneHashed:(null==_?void 0:_.phoneHashed)||E||"",contactFieldIdType:d}),(0,c.setCartItems)(f);var v=(0,c.getCategoryBreadcrumb)(n);window.ScarabQueue=window.ScarabQueue||[],window.ScarabQueue.push(["category",v]),window.ScarabQueue.push(["go"]),(0,o.debugLog)(a.TRACKING_MODULE_TYPE.EMARSYS,"pageViewOnCategory success",{pageViewInfo:e,contactFieldIdType:d,categoryBreadcrumb:v})}else(0,o.debugLog)(a.TRACKING_MODULE_TYPE.EMARSYS,"pageViewOnCategory insufficient condition",{isEnable:i,pageViewInfo:e,categoryInfo:n})},t.viewProduct=function(e){var n=(0,t.checkIsEnable)();if(n&&e){var i=e.id;window.ScarabQueue=window.ScarabQueue||[],window.ScarabQueue.push(["view",null==i?void 0:i.toString()]),window.ScarabQueue.push(["go"]),(0,o.debugLog)(a.TRACKING_MODULE_TYPE.EMARSYS,"viewProduct success",{productInfo:e})}else(0,o.debugLog)(a.TRACKING_MODULE_TYPE.EMARSYS,"viewProduct insufficient condition",{isEnable:n,productInfo:e})},t.purchase=function(e,n){var i=(0,t.checkIsEnable)();if(i&&e&&n&&!(n.length<=0)){var r={items:n.map((function(e){var t=e.id,n=e.quantity,i=e.price;return{item:null==t?void 0:t.toString(),quantity:n,price:n?i*n:i}})),orderId:e.orderId};window.ScarabQueue=window.ScarabQueue||[],window.ScarabQueue.push(["purchase",r]),window.ScarabQueue.push(["go"]),(0,o.debugLog)(a.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"purchase success",{eventData:r,purchaseInfo:e,productList:n})}else(0,o.debugLog)(a.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"purchase failed",{isEnable:i,purchaseInfo:e,productList:n})}},8103:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCartItems=t.setCustomerId=t.getCategoryBreadcrumb=void 0;var i=n(2955),o=n(2586);t.getCategoryBreadcrumb=function(e){var t=e||{},n=[t.categoryNameLevel1,t.categoryNameLevel2,t.categoryNameLevel3,t.categoryNameLevel4].filter((function(e){return e}));return n&&n.length>0?["首頁",n[n.length-1]].join(" > "):"首頁"},t.setCustomerId=function(e){var t=e||{},n=t.vipMemberOuterId,a=void 0===n?"":n,r=t.isLogin,c=t.phoneHashed,s=void 0===c?"":c,d=t.contactFieldIdType,u=t.shopId;if(r){var l;switch(d){case o.CONTACT_FIELD_TYPE.PHONE_HASHED:l=s;break;case o.CONTACT_FIELD_TYPE.OUID:l=(null==a?void 0:a.toString())||(0,i.getOuterMemberId)(u);break;case o.CONTACT_FIELD_TYPE.MEMBER_ID:l=(0,i.getMemberId)()}l&&window.ScarabQueue.push(["setCustomerId",l])}},t.setCartItems=function(e){var t=JSON.parse(window.localStorage.cartItems||"[]"),n=e||t||[];!n||n.length<=0?window.ScarabQueue.push(["cart",[]]):(e&&(window.localStorage.cartItems=JSON.stringify(e||[])),window.ScarabQueue.push(["cart",n.map((function(e){var t;return{item:null===(t=e.id)||void 0===t?void 0:t.toString(),price:e.quantity?e.price*e.quantity:e.price,quantity:e.quantity}}))]))}},9635:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enableAdvancedFacebookPixelConfig=void 0;var n=[10185,10416,10462,10520,10800,1093,1098,11,11185,1184,1194,1194,123,12382,12557,1257,13087,1317,1327,1351,139,14,1426,14267,1429,1436,1451,1459,1465,1554,156,1649,16525,1659,1670,1671,1677,16951,1708,1718,1720,1724,1731,1759,17865,18120,1823,1849,18793,1947,1950,1956,19572,1962,1987,2012,2053,2069,208,2085,2100,2103,2131,2131,2157,2164,21871,2190,2202,2224,2248,2261,2315,2318,2320,2332,2345,2351,2362,2374,2376,2431,2454,24587,25221,25245,257,25804,26332,268,27117,272,27289,30422,31928,32014,32511,3303,334,337,34185,34187,348,35686,357,35785,35895,360,36011,36244,36305,36426,36430,36731,37223,37245,374,37462,37470,37585,37676,37836,37868,3791,38001,38115,38125,38145,38164,38253,3833,38367,38459,38473,38566,38670,38774,38775,38861,38880,38911,38985,39212,39255,39336,39353,39356,39385,39457,39507,39622,39623,39681,39703,3975,39777,39785,39811,39824,39856,39858,39863,39888,39898,39929,39941,39953,39974,39978,39979,39981,39983,39996,400,4e4,40015,40027,40050,40064,40070,40078,40089,40097,40099,401,40103,40108,40127,40144,40156,40167,40167,40171,40174,40183,40185,40187,40188,40193,40200,40241,40257,40259,40281,40286,40287,40314,40316,40326,40332,40358,40522,40553,40562,40569,40572,40628,40631,40644,40654,40655,40673,40682,40707,40717,40722,40757,40785,40801,40804,40809,40810,40820,40840,40842,40862,40889,40891,40894,40907,40908,40909,40916,40917,40919,40921,40966,40973,40976,40996,410,41017,41036,41040,41047,41051,41051,41053,41072,41084,41113,41120,41134,42,443,4475,4494,451,4679,4800,4800,488,49,537,5633,576,576,588,6164,618,62,6300,6467,671,688,706,7108,711,718,7378,7385,740,770,7756,778,815,8375,850,855,88,907,9076,9643,975,9820,9865];t.enableAdvancedFacebookPixelConfig={"91app":{dev:{tw:[225,232,235]},qa:{tw:[225,232,235,11970]},stage:{tw:n},prod:{tw:n}}}},3841:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsEnableAdvancedPixel=t.lead=t.purchase=t.checkoutOnConfirmPayment=t.checkoutOnPaymentAndShipping=t.viewProductPage=t.searchKeyword=t.addToWishlist=t.addToCart=t.thirdPartyRegister=t.register=t.pageView=t.initialize=t.checkIsEnableFbPixel=t.getFbPixelSetting=t.setFbPixelSetting=void 0;var o,a=n(2955),r=n(4256),c=n(2037),s=n(925);t.setFbPixelSetting=function(e){o=e},t.getFbPixelSetting=function(){var e="product";return e="product_group"===o.productGranularity?"product_group":"product",o&&i(i({},o),{productGranularity:e})},t.checkIsEnableFbPixel=function(){var e=((0,t.getFbPixelSetting)()||{}).config||{},n=e.allSiteFbPixelId,i=e.customAudiencesPixelIds,o=!!n||i&&i.length>0;return(0,a.checkIsClientRender)()&&void 0!==window.fbq&&o},t.initialize=function(e){(0,r.debugLog)(c.TRACKING_MODULE_TYPE.FACEBOOK_PIXEL,"initialize event start",{setting:e}),(0,t.setFbPixelSetting)(e)};var d=!1,u=function(e,n,i){void 0===n&&(n=20),void 0===i&&(i=600),(0,t.checkIsEnableFbPixel)()&&(!d&&n>0?setTimeout((function(){u(e,n-1)}),i):e())};t.pageView=function(e,n){var i=(0,t.checkIsEnableFbPixel)();if(i&&e&&n){var o=(0,t.getFbPixelSetting)(),s=o.config,u=o.isEnableAdvancedFacebookPixel,l=(o.isDisableAllSiteFacebookPixel,o.isEnableDmpSetting),g=(s.allSiteFbPixelId,s.customAudiencesPixelIds),p=e.memberHashed,E=e.emailHashed,_=e.phoneHashed,f={},v=(0,a.getMemberId)();if(v)f.external_id=v;else if(l){var T=(0,a.getClientId)();f.external_id=T}u&&((null==p?void 0:p.phoneHashed)||_)&&(f.ph=(null==p?void 0:p.phoneHashed)||_),u&&((null==p?void 0:p.emailHashed)||E)&&(f.em=(null==p?void 0:p.emailHashed)||E),g&&g.forEach((function(e){window.fbq("init",e,f,{agent:"pl91app"})})),window.fbq("track","PageView",{},{eventID:n}),d=!0}else(0,r.warnLog)(c.TRACKING_MODULE_TYPE.FACEBOOK_PIXEL,"pageView insufficient condition",{isEnable:i,pageViewInfo:e,eventId:n})},t.register=function(e,n){var i=(0,t.checkIsEnableFbPixel)();if(i&&e&&n){var o=(0,t.getFbPixelSetting)().currency,a="";switch(e.registerMethod){case c.REGISTER_METHOD.FACEBOOK:a="Facebook註冊";break;case c.REGISTER_METHOD.PHONE:a="手機註冊";break;case c.REGISTER_METHOD.SHOP_ACCOUNT:a="ThirdParty註冊"}var s={status:!0,content_name:a,currency:o,value:0};u((function(){window.fbq("track","CompleteRegistration",s,{eventID:n})}))}else(0,r.warnLog)(c.TRACKING_MODULE_TYPE.FACEBOOK_PIXEL,"register insufficient condition",{isEnable:i,registInfo:e,eventId:n})},t.thirdPartyRegister=function(e){var n=(0,t.checkIsEnableFbPixel)();if(n){var i={content_name:"第三方註冊",currency:(0,t.getFbPixelSetting)().currency,status:!0,value:0};u((function(){window.fbq("track","CompleteRegistration",i,{eventID:e})}))}else(0,r.warnLog)(c.TRACKING_MODULE_TYPE.FACEBOOK_PIXEL,"thirdPartyRegister insufficient condition",{isEnable:n,eventId:e})},t.addToCart=function(e,n){var i=(0,t.checkIsEnableFbPixel)();if(i&&e&&n){var o=(0,t.getFbPixelSetting)()||{},a=o.currency,s=o.productGranularity,d=e.id,l=e.price,g=e.name,p=e.categoryName,E=e.categoryId,_=e.quantity,f=void 0===_?1:_,v={content_type:s,content_ids:[d.toString()],value:l,content_name:g,currency:a,contents:[{id:d.toString(),quantity:f,item_price:l}],content_category:"".concat(p,"(").concat(E,")")};u((function(){window.fbq("track","AddToCart",v,{eventID:n})}))}else(0,r.warnLog)(c.TRACKING_MODULE_TYPE.FACEBOOK_PIXEL,"addToCart insufficient condition",{isEnable:i,productInfo:e,eventId:n})},t.addToWishlist=function(e,n){var i=(0,t.checkIsEnableFbPixel)();if(i&&e&&n){var o=(0,t.getFbPixelSetting)()||{},a=o.currency,s=o.productGranularity,d=e.id,l=e.price,g=e.name,p=e.categoryName,E=e.categoryId,_={content_type:s,content_ids:[d.toString()],value:l,content_name:g,currency:a,contents:[{id:d.toString(),quantity:1,item_price:l}],content_category:"".concat(p,"(").concat(E,")")};u((function(){window.fbq("track","AddToWishlist",_,{eventID:n})}))}else(0,r.warnLog)(c.TRACKING_MODULE_TYPE.FACEBOOK_PIXEL,"addToWishlist insufficient condition",{isEnable:i,productInfo:e,eventId:n})},t.searchKeyword=function(e,n){var i=(0,t.checkIsEnableFbPixel)();if(i&&e&&n){var o={search_string:e};u((function(){window.fbq("track","Search",o,{eventID:n})}))}else(0,r.warnLog)(c.TRACKING_MODULE_TYPE.FACEBOOK_PIXEL,"searchKeyword insufficient condition",{isEnable:i,keyword:e,eventId:n})},t.viewProductPage=function(e,n){var i=(0,t.checkIsEnableFbPixel)();if(i&&e&&e.productInfo&&n){var o=(0,t.getFbPixelSetting)()||{},a=o.currency,s=o.productGranularity,d=e.productInfo,l=d.categoryId,g=d.categoryName,p=d.id,E=d.name,_=d.price,f={content_category:"".concat(g,"(").concat(l,")"),content_ids:[p.toString()],content_name:E,content_type:s,currency:a,contents:[{id:p.toString(),quantity:1,item_price:_}],value:_};u((function(){window.fbq("track","ViewContent",f,{eventID:n})}))}else(0,r.warnLog)(c.TRACKING_MODULE_TYPE.FACEBOOK_PIXEL,"viewProductPage insufficient condition",{isEnable:i,productPageInfo:e,eventId:n})},t.checkoutOnPaymentAndShipping=function(e,n,i){var o=(0,t.checkIsEnableFbPixel)();if(o&&n&&i){var a=(0,t.getFbPixelSetting)()||{},d=a.currency,l=a.productGranularity,g=(0,s.getMappedProductListContent)(n),p=g.concatedContentCategories,E=g.concatedContentNames,_=g.contentIds,f=g.numItems,v=g.totalPrice,T={contents:g.contents,content_category:p,content_ids:_,content_name:E,content_type:l,currency:d,num_items:f,value:v};u((function(){window.fbq("track","InitiateCheckout",T,{eventID:i})}))}else(0,r.warnLog)(c.TRACKING_MODULE_TYPE.FACEBOOK_PIXEL,"checkoutOnPaymentAndShipping insufficient condition",{isEnable:o,productList:n,eventId:i})},t.checkoutOnConfirmPayment=function(e,n,i){var o=(0,t.checkIsEnableFbPixel)();if(o&&e&&n&&i){var a=(0,t.getFbPixelSetting)()||{},d=a.currency,l=a.productGranularity,g=(0,s.getMappedProductListContent)(n),p={content_category:g.concatedContentCategories,content_ids:g.contentIds,content_type:l,contents:g.contents,currency:d,value:g.totalPrice};u((function(){window.fbq("track","AddPaymentInfo",p,{eventID:i})}))}else(0,r.warnLog)(c.TRACKING_MODULE_TYPE.FACEBOOK_PIXEL,"checkoutOnConfirmPayment insufficient condition",{isEnable:o,checkoutInfo:e,productList:n,eventId:i})},t.purchase=function(e,n,i){var o=(0,t.checkIsEnableFbPixel)();if(o&&e&&n&&i){var a=(0,t.getFbPixelSetting)()||{},d=a.currency,l=a.productGranularity,g=e.orderId,p=e.orderTotal,E=(0,s.getMappedProductListContent)(n),_=E.concatedContentNames,f={content_ids:E.contentIds,content_name:_,content_type:l,contents:E.contents,currency:d,num_items:E.numItems,order_id:g,value:p};u((function(){window.fbq("track","Purchase",f,{eventID:i})}))}else(0,r.warnLog)(c.TRACKING_MODULE_TYPE.FACEBOOK_PIXEL,"purchase insufficient condition",{isEnable:o,purchaseInfo:e,productList:n,eventId:i})},t.lead=function(e,n){var i=(0,t.checkIsEnableFbPixel)();if(i&&e&&n){var o={content_category:e.eventCategory,content_name:e.eventName};u((function(){window.fbq("track","Lead",o,{eventID:n})}))}else(0,r.warnLog)(c.TRACKING_MODULE_TYPE.FACEBOOK_PIXEL,"lead insufficient condition",{isEnable:i,leadInfo:e,eventId:n})},t.checkIsEnableAdvancedPixel=function(){return!!((0,t.getFbPixelSetting)()||{isEnableAdvancedFacebookPixel:!1}).isEnableAdvancedFacebookPixel}},925:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMappedProductListContent=void 0,t.getMappedProductListContent=function(e){var t=[],n=[],i="",o="",a=0,r=0;return e.forEach((function(e){var c,s,d=e.quantity||1;t.push({id:null===(c=e.id)||void 0===c?void 0:c.toString(),quantity:d,item_price:e.price}),n.push(null===(s=e.id)||void 0===s?void 0:s.toString()),i="".concat(i,",(").concat(e.id,")").concat(e.name),o="".concat(o,",").concat(e.categoryId),a+=1,r+=e.price*d})),i.startsWith(",")&&(i=i.substring(1)),o.startsWith(",")&&(o=o.substring(1)),{contentIds:n,concatedContentNames:i,concatedContentCategories:o,contents:t,numItems:a,totalPrice:r}}},4293:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsOpenTealiumIQ=t.initialize=t.setGeneralPartnerSetting=t.getGeneralPartnerSetting=void 0;var i,o=n(5124),a=n(2955);t.getGeneralPartnerSetting=function(){return i||{}},t.setGeneralPartnerSetting=function(e){i=e},t.initialize=function(e){(0,t.setGeneralPartnerSetting)(e)},t.checkIsOpenTealiumIQ=function(){var e,n,i=(0,t.getGeneralPartnerSetting)(),r=i.silo,c=i.market,s=i.env,d=i.shopId;return!!(null===(n=null===(e=(0,a.getFeatureSetting)(o.shopExtensionConfig,{silo:r,market:c,env:s,shopId:d}))||void 0===e?void 0:e.tealiumIQ)||void 0===n?void 0:n.isEnable)}},7555:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GOOGLE_REMARKETING_TYPE=t.GOOGLE_CONVERSION_TYPE=void 0,t.GOOGLE_CONVERSION_TYPE={REGISTRATION_COMPLETED:"GoogleConversionForRegistrationCompleted",PAY_FINISH:"GoogleConversionForPayFinish",SHOPPING_CART:"GoogleConversionForShoppingCart"},t.GOOGLE_REMARKETING_TYPE={PAGE_VIEW:"page_view",VIEW_SEARCH_RESULTS:"view_search_results",VIEW_ITEM_LIST:"view_item_list",VIEW_ITEM:"view_item",ADD_TO_CART:"add_to_cart",PURCHASE:"purchase"}},3459:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=t.trackPageView=t.purchase=t.viewSearchResult=t.viewProductList=t.viewProduct=t.addToCart=t.register=t.getMappedProductItems=t.sendRemarketingEvent=t.sendConversionEvent=t.checkIsEnabledGoogleAdsRemarketing=t.checkIsEnabledGoogleAdsConversion=t.getGoogleAdwordsSetting=t.setGoogleAdwordsSetting=void 0;var o,a=n(2037),r=n(7182),c=n(4256),s=n(7555),d=n(2955);t.setGoogleAdwordsSetting=function(e){o=e},t.getGoogleAdwordsSetting=function(){return o},t.checkIsEnabledGoogleAdsConversion=function(){var e=((0,t.getGoogleAdwordsSetting)()||{}).conversionList,n=void 0===e?[]:e;return(0,r.checkIsClientRender)()&&void 0!==window.gtag&&n&&n.length>0},t.checkIsEnabledGoogleAdsRemarketing=function(){var e=((0,t.getGoogleAdwordsSetting)()||{}).remarketingList,n=void 0===e?[]:e;return(0,r.checkIsClientRender)()&&void 0!==window.gtag&&!window.isDisableGoogleAds&&n&&n.length>0},t.sendConversionEvent=function(e,n){if((0,c.debugLog)(a.TRACKING_MODULE_TYPE.GOOGLE_ADWORDS,"sendConversionEvent start",{tagType:e,additionParam:n}),(0,t.checkIsEnabledGoogleAdsConversion)()){var o=(0,t.getGoogleAdwordsSetting)(),r=o.conversionList,s=void 0===r?[]:r,u=o.currency,l=o.userInfo,g=o.isEnableDmpSetting,p=l.memberId,E={};if(p)E={user_id:p};else if(g){var _=(0,d.getClientId)();E={user_id:_}}s.filter((function(t){return t.TagType===e})).forEach((function(e){var t=e.Id,o=e.Label;window.gtag("event","conversion",i(i({send_to:"AW-".concat(t,"/").concat(o),currency:u},E),n)),(0,c.debugLog)(a.TRACKING_MODULE_TYPE.GOOGLE_ADWORDS,"sendConversionEvent success",{data:i(i({send_to:"AW-".concat(t,"/").concat(o),currency:u},E),n)})}))}},t.sendRemarketingEvent=function(e,n){if((0,c.debugLog)(a.TRACKING_MODULE_TYPE.GOOGLE_ADWORDS,"sendRemarketingEvent start",{tagType:e,additionParam:n}),(0,t.checkIsEnabledGoogleAdsRemarketing)()){var o=(0,t.getGoogleAdwordsSetting)(),r=o.remarketingList,s=void 0===r?[]:r,u=o.userInfo,l=o.isEnableDmpSetting,g=u.memberId,p={};if(g)p={user_id:g};else if(l){var E=(0,d.getClientId)();p={user_id:E}}s.forEach((function(t){var o=t.TrackingId;window.gtag("event",e,i(i({send_to:"AW-".concat(o)},p),n)),(0,c.debugLog)(a.TRACKING_MODULE_TYPE.GOOGLE_ADWORDS,"sendConversionEvent success",{tagType:e,data:i(i({send_to:"AW-".concat(o)},p),n)})}))}},t.getMappedProductItems=function(e){return e&&e.length>0?e.map((function(e){return{google_business_vertical:"retail",id:e.id}})):[]},t.register=function(){(0,t.sendConversionEvent)(s.GOOGLE_CONVERSION_TYPE.REGISTRATION_COMPLETED)},t.addToCart=function(e){var n=e.id,i=e.price;(0,t.sendConversionEvent)(s.GOOGLE_CONVERSION_TYPE.SHOPPING_CART,{value:i,transaction_id:n}),(0,t.sendRemarketingEvent)(s.GOOGLE_REMARKETING_TYPE.ADD_TO_CART,{items:(0,t.getMappedProductItems)([e]),ecomm_pagetype:"cart",ecomm_totalvalue:i,value:i})},t.viewProduct=function(e){var n=e.price;(0,t.sendRemarketingEvent)(s.GOOGLE_REMARKETING_TYPE.VIEW_ITEM,{items:(0,t.getMappedProductItems)([e]),ecomm_pagetype:"product",ecomm_totalvalue:n,value:n})},t.viewProductList=function(e){(0,t.sendRemarketingEvent)(s.GOOGLE_REMARKETING_TYPE.VIEW_ITEM_LIST,{items:(0,t.getMappedProductItems)(e)})},t.viewSearchResult=function(){(0,t.sendRemarketingEvent)(s.GOOGLE_REMARKETING_TYPE.VIEW_SEARCH_RESULTS)},t.purchase=function(e,n,i){var o=e.orderId,a=e.orderTotal,r=i||{},c=r.email,d=r.phone;window.gtag("set","user_data",{email:c,phone_number:d}),(0,t.sendConversionEvent)(s.GOOGLE_CONVERSION_TYPE.PAY_FINISH,{value:a,transaction_id:o}),(0,t.sendRemarketingEvent)(s.GOOGLE_REMARKETING_TYPE.PURCHASE,{items:(0,t.getMappedProductItems)(n),ecomm_pagetype:"purchase",ecomm_totalvalue:a,value:a})},t.trackPageView=function(){(0,t.sendRemarketingEvent)(s.GOOGLE_REMARKETING_TYPE.PAGE_VIEW)},t.initialize=function(e){(0,c.debugLog)(a.TRACKING_MODULE_TYPE.GOOGLE_ADWORDS,"initialize event start",{setting:e}),(0,t.setGoogleAdwordsSetting)(e);var n=(0,t.getGoogleAdwordsSetting)(),o=n.conversionList,r=void 0===o?[]:o,s=n.userInfo,u=n.isEnableDmpSetting,l=s.memberId,g={};if(l)g={user_id:l};else if(u){var p=(0,d.getClientId)();g={user_id:p}}if((0,t.checkIsEnabledGoogleAdsConversion)()?(r.forEach((function(e){window.gtag("config","AW-".concat(e.Id),i({cookie_domain:document.location.hostname,allow_enhanced_conversions:!0},g))})),(0,c.debugLog)(a.TRACKING_MODULE_TYPE.GOOGLE_ADWORDS,"initialize success",{data:i({conversionList:r,cookie_domain:document.location.hostname,allow_enhanced_conversions:!0},g)})):(0,c.debugLog)(a.TRACKING_MODULE_TYPE.GOOGLE_ADWORDS,"initialize checkIsEnabledGoogleAdsConversion insufficient condition",{}),(0,t.checkIsEnabledGoogleAdsRemarketing)()){var E=(0,t.getGoogleAdwordsSetting)(),_=E.remarketingList,f=void 0===_?[]:_,v=E.isSendRemarketingFromSSR;void 0!==v&&v||(f.forEach((function(e){window.gtag("config","AW-".concat(e.TrackingId),i({cookie_domain:document.location.hostname,allow_enhanced_conversions:!0},g))})),(0,c.debugLog)(a.TRACKING_MODULE_TYPE.GOOGLE_ADWORDS,"initialize success",{data:i({remarketingList:f,cookie_domain:document.location.hostname,allow_enhanced_conversions:!0},g)}))}else(0,c.debugLog)(a.TRACKING_MODULE_TYPE.GOOGLE_ADWORDS,"initialize checkIsEnabledGoogleAdsRemarketing insufficient condition",{})}},1112:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkRefundAndCancelOrderIsEnable=t.cancelOrder=t.refund=t.videoProgress=t.videoComplete=t.videoStart=t.thirdPartyRegisterOrLogin=t.sortProducts=t.selectContent=t.searchKeyword=t.searchFilter=t.login=t.register=t.purchase=t.selectShippingMethod=t.selectPaymentMethod=t.checkoutOnPaymentAndShipping=t.checkoutOnCart=t.removeFromWishlist=t.addToWishlist=t.removeFromCart=t.addToCart=t.customEvent=t.viewProduct=t.pageView=t.initialize=t.checkIsEnable=t.setGaFourSetting=t.getGaFourSetting=void 0;var i,o=n(3131),a=n(2955),r=n(2037),c=n(4256),s=n(1632),d=n(5124),u=n(1632);t.getGaFourSetting=function(){return i||{}},t.setGaFourSetting=function(e){i=e,(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"setGaFourSetting success ",{setting:e})},t.checkIsEnable=function(){var e,n=(0,t.getGaFourSetting)()||{};return!!((0,a.checkIsClientRender)()&&void 0!==window.gtag&&(null==n?void 0:n.config)&&(null===(e=null==n?void 0:n.config)||void 0===e?void 0:e.googleAnalyticsFourGTagId))},t.initialize=function(e){var n,i;(0,t.setGaFourSetting)(e);var o=(0,t.checkIsEnable)();if(o){var u=(0,t.getGaFourSetting)()||{},l=u.config,g=u.shopId,p=u.silo,E=u.market,_=u.env,f=(l||{}).googleAnalyticsFourGTagId,v=(0,s.getUserId)();(0,s.setTrackingProperty)(f,v);var T=null===(i=null===(n=(0,a.getFeatureSetting)(d.shopExtensionConfig,{silo:p,market:E,env:_,shopId:g}))||void 0===n?void 0:n.googleAnalyticsFour)||void 0===i?void 0:i.additionalTagId;T&&(0,s.setTrackingProperty)(T,v),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"initialize success",{config:l})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"initialize failed ",{isEnable:o,setting:e})},t.pageView=function(e){var n=(0,t.checkIsEnable)(),i=(0,t.getGaFourSetting)(),s=i.pageType,d=i.viewType,u=i.pageTitle;if(n&&s!==o.PAGE_TYPE.SALEPAGE){var l=(0,t.getGaFourSetting)().shopId,g=s===o.PAGE_TYPE.CUSTOM||s===o.PAGE_TYPE.HIDDEN||s===o.PAGE_TYPE.ACTIVITY?(0,a.getPageViewId)(l):e.viewId,p={view_type:(null==e?void 0:e.viewType)||d,view_title:(null==e?void 0:e.pageTitle)||u||(0,a.getPageTitle)(),view_id:g||void 0,view_from:(0,a.getViewFrom)(),content_source:null==e?void 0:e.contentSource};window.gtag("event","view",p);var E=(0,a.getUtmInfo)();(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"pageView success",{pageType:s,isEnable:n,eventData:p,utmInfo:E})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"pageView failed",{pageType:s,isEnable:n})},t.viewProduct=function(e){var n=(0,t.checkIsEnable)();if(n){var i=e||{},o=i.productInfo,s=i.viewItemType,d=(0,t.getGaFourSetting)(),u=d.currency,l=d.viewType,g=o.id,p=o.name,E=o.price,_={currency:u,items:[{item_id:"".concat(g),item_name:p,quantity:1,price:E}],type:s,view_from:(0,a.getViewFrom)(),view_type:l};window.gtag("event","view_item",_),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"viewItem success",{eventData:_})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"viewItem failed",{viewProductInfo:e,isEnable:n})},t.customEvent=function(e,n){var i=(0,t.checkIsEnable)();i?(window.gtag("event",e,n),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"customEvent success",{eventName:e,eventValue:n})):(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"customEvent failed",{eventName:e,eventValue:n,isEnable:i})},t.addToCart=function(e,n){var i=(0,t.checkIsEnable)();if(i){var o=(0,t.getGaFourSetting)(),a=o.currency,s=o.viewType,d=e.id,u=e.name,l=e.price,g=e.quantity,p=e.skuId,E=e.skuName,_={items:[{item_id:"".concat(d),item_name:u,quantity:g,price:l,sku_id:p,sku_name:E}],currency:a,view_id:null==n?void 0:n.viewId,view_title:null==n?void 0:n.viewTitle,view_detail:null==n?void 0:n.viewDetail,view_type:(null==n?void 0:n.viewType)||s,external_id:null==n?void 0:n.externalId};window.gtag("event","add_to_cart",_),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"add_to_cart success",{productInfo:e,eventData:_})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"addToCart failed",{productInfo:e,isEnable:i})},t.removeFromCart=function(e){var n=(0,t.checkIsEnable)();if(n){var i=(0,t.getGaFourSetting)().currency,o=e.id,a=e.name,s=e.price,d=e.skuId,u=e.skuName,l={items:[{item_id:"".concat(o),item_name:a,quantity:1,price:s,sku_id:d,sku_name:u}],currency:i};window.gtag("event","remove_from_cart",l),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"removeFromCart success",{productInfo:e,eventData:l})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"removeFromCart failed",{productInfo:e,isEnable:n})},t.addToWishlist=function(e,n){var i=(0,t.checkIsEnable)();if(i){var o=(0,t.getGaFourSetting)(),a=o.currency,s=o.viewType,d=e.id,u=e.name,l=e.price,g=e.skuId,p=e.skuName,E={items:[{item_id:"".concat(d),item_name:u,quantity:1,price:l,sku_id:g,sku_name:p}],currency:a,view_id:null==n?void 0:n.viewId,view_title:null==n?void 0:n.viewTitle,view_detail:null==n?void 0:n.viewDetail,view_type:(null==n?void 0:n.viewType)||s};window.gtag("event","add_to_wishlist",E),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"addToWishlist success",{productInfo:e,eventData:E})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"addToWishlist failed",{productInfo:e,isEnable:i})},t.removeFromWishlist=function(e){var n=(0,t.checkIsEnable)();if(n){var i=(0,t.getGaFourSetting)().currency,o=e.id,a=e.name,s=e.price,d={items:[{item_id:"".concat(o),item_name:a,quantity:1,price:s}],price:s,currency:i};window.gtag("event","remove_from_wishlist",d),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"removeFromWishlist success",{productInfo:e,eventData:d})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"removeFromWishlist failed",{productInfo:e,isEnable:n})},t.checkoutOnCart=function(e){var n=(0,t.checkIsEnable)();if(n){var i=(0,t.getGaFourSetting)().viewType,o={checkout_step:r.CHECKOUT_STEP.CART,checkout_step_title:"view_cart",view_type:i,ver:e};window.gtag("event","checkout_progress",o),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"checkoutOnCart success",{eventData:o})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"checkoutOnCart failed",{isEnable:n})},t.checkoutOnPaymentAndShipping=function(e,n){var i=(0,t.checkIsEnable)();if(i){var o=(0,t.getGaFourSetting)().currency,a=e.map((function(e){var t=e.id,n=e.name,i=(e.skuId,e.skuName,e.quantity),a=e.price;return{id:"".concat(t),name:n,quantity:i,price:a,currency:o}})),s=(0,t.getGaFourSetting)().viewType,d=(0,u.getTotalPrice)(a),l={items:a,currency:o,value:d,view_type:s,ver:n};window.gtag("event","begin_checkout",l),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"checkoutOnPaymentAndShipping success",{eventName:"begin_checkout",eventData:l})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"checkoutOnPaymentAndShipping failed",{isEnable:i,productList:e})},t.selectPaymentMethod=function(e){var n=(0,t.checkIsEnable)();if(n&&e){var i={payment:e};window.gtag("event","payment_method",i),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"selectPaymentMethod success",{eventData:i})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"selectPaymentMethod failed",{isEnable:n,paymentMethod:e})},t.selectShippingMethod=function(e){var n=(0,t.checkIsEnable)();if(n&&e){var i={shipping:e};window.gtag("event","shipping_method",i),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"selectShippingMethod success",{eventData:i})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"selectShippingMethod failed",{isEnable:n,shippingMethod:e})},t.purchase=function(e,n,i){var o=e.orderId,a=e.orderTotal,s=e.shipping,d=e.eCouponCode,u=e.totalDiscount,l=e.shippingMethod,g=e.paymentMethod,p=(0,t.checkIsEnable)();if(p){var E=(0,t.getGaFourSetting)(),_=E.currency,f=E.viewType,v=n.map((function(e){var t=e.id,n=e.name,i=e.skuId,o=(e.skuName,e.quantity);return{item_id:t,item_name:n,coupon:null,discount:null,affiliation:null,item_brand:null,item_category:null,item_variant:i,price:e.price,currency:_,quantity:o}})),T={affiliation:null,coupon:d,currency:_,items:v,transaction_id:o,shipping:s,value:a,tax:null,view_type:f,ver:i,discount:u};(0,t.selectPaymentMethod)(g),(0,t.selectShippingMethod)(l),window.gtag("event","purchase",T),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"purchase success",{eventData:T})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"purchase failed",{isEnable:p})},t.register=function(e){var n=(0,t.checkIsEnable)();if(n){var i={method:e.registerMethod,status:e.registerStatus};window.gtag("event","sign_up",i),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"register success",{eventData:i})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"register failed",{registerInfo:e,isEnable:n})},t.login=function(e){var n=(0,t.checkIsEnable)();if(n){var i=e.loginStatus,o=e.loginMethod;window.gtag("event","login",{method:o,status:i}),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"login success",{loginInfo:e})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"login failed",{loginInfo:e,isEnable:n})},t.searchFilter=function(e){var n=(0,t.checkIsEnable)();if(n){var i={payment:e.payment,shipping:e.shipping,min_value:e.minPrice,max_value:e.maxPrice,item_category:e.category,search:t.searchFilter};window.gtag("event","search_filter",i),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"searchFilter success",{eventData:i})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"searchFilter failed",{isEnable:n})},t.searchKeyword=function(e){var n=(0,t.checkIsEnable)();if(n){var i=e.searchTerm,o=e.searchType,a={search_term:i,number_of_result:e.resultCount,search_type:o};window.gtag("event","search",a),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"searchKeyword success",{eventData:a})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"searchKeyword failed",{isEnable:n})},t.selectContent=function(e){var n=(0,t.checkIsEnable)();if(n){var i=(0,t.getGaFourSetting)().viewType,o=e.id,a=e.name,s=e.contentType,d=e.linkUrl,u=e.viewId,l=e.viewTitle,g=e.viewType,p=e.viewDetail,E=e.itemListId,_=e.contentSource,f={view_id:u,view_title:l,view_type:g||i,view_detail:p,content_type:s,item_id:o,item_name:a,content_link:decodeURIComponent(d),item_list_id:E,content_source:_};window.gtag("event","select_content",f),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"searchKeyword success",{eventData:f})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"selectContent failed",{isEnable:n})},t.sortProducts=function(e){var n=(0,t.checkIsEnable)();if(n){var i={view_type:(0,t.getGaFourSetting)().viewType,method:e};window.gtag("event","sort",i),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"searchKeyword success",{eventData:i})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"sortProducts failed",{isEnable:n})},t.thirdPartyRegisterOrLogin=function(e){var n=(0,t.checkIsEnable)();n?(e?(0,t.register)({registerMethod:r.REGISTER_METHOD.SHOP_ACCOUNT,registerStatus:r.REGISTER_STAUS.FINISH}):(0,t.login)({loginMethod:r.LOGIN_METHOD.SHOP_ACCOUNT,loginStatus:r.LOGIN_STAUS.FINISH}),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"thirdPartyRegisterOrLogin success",{isThirdPartyNewRegistered:e})):(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"thirdPartyRegisterOrLogin insufficient condition",{isEnable:n,isThirdPartyNewRegistered:e})},t.videoStart=function(e){var n=(0,t.checkIsEnable)();if(n){var i={video_duration:e.duration,video_title:e.title,video_url:e.url};window.gtag("event","video_start",i),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"videoStart success",{eventData:i})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"videoStart failed",{isEnable:n})},t.videoComplete=function(e){var n=(0,t.checkIsEnable)();if(n){var i={video_duration:e.duration,video_title:e.title,video_url:e.url};window.gtag("event","video_complete",i),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"videoComplete success",{eventData:i})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"videoComplete failed",{isEnable:n})},t.videoProgress=function(e){var n=(0,t.checkIsEnable)();if(n){var i={video_duration:e.duration,video_title:e.title,video_url:e.url,video_percent:e.percent};window.gtag("event","video_progress",i),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"videoProgress success",{eventData:i})}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"videoProgress failed",{isEnable:n})},t.refund=function(e,n,i){var o=(0,t.checkIsEnable)();if(o&&e&&!(e.length<=0)&&n){if(!1!==(0,t.checkRefundAndCancelOrderIsEnable)()){var a=(0,t.getGaFourSetting)().currency,s=e.map((function(e){var t=e.id,n=e.name,i=e.quantity,o=e.price;return{id:"".concat(t),name:n,quantity:i,price:o,currency:a}})),d={items:s,currency:a,value:null!=i?i:(0,u.getTotalPrice)(s),transaction_id:n};window.gtag("event","refund",d),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"refund success",{productList:e,orderId:n,eventData:d})}}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"refund failed",{productList:e,orderId:n,isEnable:o,value:i})},t.cancelOrder=function(e,n,i){var o=(0,t.checkIsEnable)();if(o&&e&&!(e.length<=0)&&n){if(!1!==(0,t.checkRefundAndCancelOrderIsEnable)()){var a=(0,t.getGaFourSetting)().currency,s=e.map((function(e){var t=e.id,n=e.name,i=e.quantity,o=e.price;return{id:"".concat(t),name:n,quantity:i,price:o,currency:a}})),d={items:s,currency:a,value:null!=i?i:(0,u.getTotalPrice)(s),transaction_id:n};window.gtag("event","cancel_order",d),(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"cancelOrder success",{productList:e,orderId:n,eventData:d})}}else(0,c.debugLog)(r.TRACKING_MODULE_TYPE.GOOGLE_ANALYTICS_FOUR,"cancelOrder failed",{productList:e,orderId:n,isEnable:o,value:i})},t.checkRefundAndCancelOrderIsEnable=function(e,n,i){var o=(0,t.getGaFourSetting)(),a=i||o.env,r=e||o.market,c=n||o.shopId;if("dev"===a||"qa"===a){var s=[225,226,10230];return!("tw"!==r||!s.includes(c))}return("prod"===a||"stage"===a)&&(s=[8,38517,41591,41571,2053,2320],!("tw"!==r||!s.includes(c)))}},1632:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTotalPrice=t.setTrackingProperty=t.getUserId=void 0;var i=n(9475);t.getUserId=function(){return(0,i.getCookie)("MID")},t.setTrackingProperty=function(e,t){var n=document.location.hostname,i=t?{user_id:t,uid:t,send_page_view:!1,cookie_domain:n}:{cookie_domain:n};window.gtag("config",e,i)},t.getTotalPrice=function(e){return(null==e?void 0:e.length)>0==0?0:e.map((function(e){return e.price*(e.quantity||1)})).reduce((function(e,t){return e+t}),0)}},0:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.beginCheckout=t.viewCart=t.purchase=t.login=t.register=t.productClick=t.thirdPartyRegisterOrLogin=t.removeFromWishlist=t.addToWishlist=t.removeFromCart=t.addToCart=t.viewProduct=t.pageView=t.checkIsEnableGtm=t.initialize=t.getGtmSetting=t.setGtmSetting=void 0;var i,o=n(2037),a=n(2955),r=n(4256);t.setGtmSetting=function(e){i=e},t.getGtmSetting=function(){return i||{}},t.initialize=function(e){(0,t.setGtmSetting)(e)},t.checkIsEnableGtm=function(){return(0,a.checkIsClientRender)()&&(0,t.getGtmSetting)()&&!(0,a.checkIsUndefined)(window.google_tag_manager)},t.pageView=function(e,n){if((0,t.checkIsEnableGtm)()&&e){var i=(0,t.getGtmSetting)(),a=i.shopId,s=i.clientId,d=i.memberId,u=e.isLogin,l=e.memberHashed,g=n||{},p=g.searchResults,E=g.productList,_=(p||{}).searchTerm,f={memberId:d,clientId:s,isLogin:u,shopId:a,memberHashed:l};if(_&&E&&E.length>0){var v=E.map((function(e){return{id:e.id,name:e.name}})).slice(0,5);c({searchTerm:_,products:v})}window.dataLayer.push({event:"91app.Pageview","91app_PageView":f}),(0,r.debugLog)(o.TRACKING_MODULE_TYPE.GOOGLE_TAG_MANAGER,"pageView success",{datalayerPayload:f})}},t.viewProduct=function(e){if((0,t.checkIsEnableGtm)()&&e&&e.productInfo){var n=(0,t.getGtmSetting)().currency,i=e.productInfo,o=e.productMainImage,a=e.productDesc,r=e.categoryInfo,c=e.productOuterId,s=i.id,d=i.name,u=i.categoryId,l=i.categoryName,g=i.suggestPrice,p=i.price;window.dataLayer.push({event:"91app.ProductDetail","91app_productDetail":{id:s,name:d,salePageUrl:window.location.href,imageUrl:o,desc:a,categoryName:l,categoryId:u,suggestPrice:g,price:p,categoryInfo:r,currency:n,productOuterId:c}})}},t.addToCart=function(e){if((0,t.checkIsEnableGtm)()&&e){var n=e.id,i=e.name,o=e.categoryName,a=e.price,r=e.quantity,c=e.categoryId,s=e.productOuterId,d={id:n,name:i,category:o,price:a,quantity:r};window.dataLayer.push({event:"gtmAddToCartTrigger",gtmAddToCartProduct:d,google_tag_params_addtocart:{dynx_itemid:n,dynx_quantity:r,dynx_price:a}}),window.dataLayer.push({event:"91app.AddToCart","91app_addToCart":{categoryId:c,categoryName:o,id:n,name:i,price:a,quantity:r,productOuterId:s}})}},t.removeFromCart=function(e){if((0,t.checkIsEnableGtm)()&&e){var n=e.id,i=e.name,o=e.price,a=e.categoryId,r=e.categoryName,c={id:n,name:i,price:o,quantity:1};window.dataLayer.push({event:"gtmRemoveFromCartTrigger",gtmRemoveFromCartProduct:c}),window.dataLayer.push({event:"91app.RemoveFromCart","91app_removeFromCart":{categoryId:a,categoryName:r,id:n,name:i,price:o,quantity:1}})}},t.addToWishlist=function(e){if((0,t.checkIsEnableGtm)()&&e){var n=e.id,i=e.name,o=e.price,a=e.categoryId,r=e.categoryName,c=e.productOuterId,s={id:n,price:o,name:i};window.dataLayer.push({event:"gtmAddToWishlistTrigger",gtmAddToWishlistProduct:s}),window.dataLayer.push({event:"91app.AddToWishList","91app_addToWhishList":{categoryId:a,categoryName:r,id:n,name:i,price:o,productOuterId:c}})}},t.removeFromWishlist=function(e){if((0,t.checkIsEnableGtm)()&&e){var n=e.id,i=e.name,o=e.price,a=e.categoryId,r=e.categoryName;window.dataLayer.push({event:"91app.RemoveFromWishList","91app_removeFromWishList":{categoryId:a,categoryName:r,id:n,name:i,price:o}})}},t.thirdPartyRegisterOrLogin=function(e){var n=(0,t.checkIsEnableGtm)();if(n){var i=e?{event:"91app.ThirdPartyNewRegistered","91app_isThirdPartyNewRegistered":"true"}:{event:"91app.ThirdPartyLogin","91app_isThirdPartyLogin":"true"};window.dataLayer.push(i),(0,r.debugLog)(o.TRACKING_MODULE_TYPE.GOOGLE_TAG_MANAGER,"thirdPartyRegisterOrLogin success",{eventData:i})}else(0,r.debugLog)(o.TRACKING_MODULE_TYPE.GOOGLE_TAG_MANAGER,"thirdPartyRegisterOrLogin insufficient condition",{isEnable:n,isThirdPartyNewRegistered:e})},t.productClick=function(e){if((0,t.checkIsEnableGtm)()&&e){var n=e.id,i=e.name,o=e.categoryName,a=e.price,r=e.quantity,c=e.categoryId;window.dataLayer.push({event:"91app.ProductClick","91app_productClick":{categoryId:c,categoryName:o,id:n,name:i,price:a,quantity:r}})}},t.register=function(){(0,t.checkIsEnableGtm)()&&window.dataLayer.push({event:"91app.NewRegistered","91app_isNewRegistered":!0})},t.login=function(){(0,t.checkIsEnableGtm)()&&window.dataLayer.push({event:"91app.Login","91app_isLoginSuccess":!0})},t.purchase=function(e,n){if((0,t.checkIsEnableGtm)()){var i=(0,t.getGtmSetting)().currency,o=e.orderId,a=e.eCouponCode,r=e.orderTotal,c=e.paymentMethod,s=e.shippingMethod,d=e.totalDiscount,u=e.shipping;window.dataLayer.push({event:"gtm.gaEnhance.purchase",ecommerce:{purchase:{actionField:{id:o},products:n}}},{event:"91app.Purchase","91app_purchase":{currency:i,eCouponCode:a,paymentMethod:c,shipping:u,shippingMethod:s,totalDiscount:d,totalPrice:r,orderId:o,products:n.map((function(e){return{id:e.id,name:e.name,categoryId:e.categoryId,price:e.price,quantity:e.quantity,transactionId:o}}))}})}};var c=function(e){if((0,t.checkIsEnableGtm)()&&e){var n=e.searchTerm,i=e.products;window.dataLayer.push({event:"91app.SearchResult","91app_SearchResult":{searchTerm:n,products:i}}),(0,r.debugLog)(o.TRACKING_MODULE_TYPE.GOOGLE_TAG_MANAGER,"searchResult success",{searchTerm:n,products:i})}};t.viewCart=function(e,n,i){var a=(0,t.checkIsEnableGtm)(),c=(0,t.getGtmSetting)().currency;a&&e&&e.length&&n&&i&&c?(window.dataLayer.push({event:"91app.ViewCart","91app_ViewCart":{checkoutStep:n,ver:i,currency:c,products:e.map((function(e){return{id:e.id,name:e.name,price:e.price,quantity:e.quantity}}))}}),(0,r.debugLog)(o.TRACKING_MODULE_TYPE.GOOGLE_TAG_MANAGER,"View Cart success",{isEnable:a,productList:e,step:n,version:i})):(0,r.debugLog)(o.TRACKING_MODULE_TYPE.GOOGLE_TAG_MANAGER,"View Cart insufficient condition",{isEnable:a,productList:e,step:n,version:i,currency:c})},t.beginCheckout=function(e,n,i){var a=(0,t.checkIsEnableGtm)(),c=(0,t.getGtmSetting)().currency;if(a&&e&&e.length&&n&&i&&c){var s=e.map((function(e){return{id:e.id,name:e.name,price:e.price,quantity:e.quantity}})),d=s.reduce((function(e,t){var n=t.price,i=t.quantity;return e+n*(void 0===i?0:i)}),0);window.dataLayer.push({event:"91app.BeginCheckout","91app_BeginCheckout":{checkoutStep:n,ver:i,currency:c,value:d,products:s}}),(0,r.debugLog)(o.TRACKING_MODULE_TYPE.GOOGLE_TAG_MANAGER,"Begin Checkout success",{isEnable:a,productList:e,step:n,version:i,currency:c})}else(0,r.debugLog)(o.TRACKING_MODULE_TYPE.GOOGLE_TAG_MANAGER,"Begin Checkout insufficient condition",{isEnable:a,productList:e,step:n,version:i,currency:c})}},2815:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.generalPartner=t.nineOne=t.yahooDotTag=t.googleTagManager=t.googleAnalyticsFour=t.googleAdwords=t.facebookPixel=t.adobeAnalytics=void 0;var r=a(n(9925));t.adobeAnalytics=r;var c=a(n(3841));t.facebookPixel=c;var s=a(n(3459));t.googleAdwords=s;var d=a(n(1112));t.googleAnalyticsFour=d;var u=a(n(0));t.googleTagManager=u;var l=a(n(3618));t.yahooDotTag=l;var g=a(n(6909));t.nineOne=g;var p=a(n(4293));t.generalPartner=p},5908:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LINE_EVENT_CODE=void 0,t.LINE_EVENT_CODE={REGISTRATION:"Registration",ADD_TO_CART:"AddToCart",VIEW_CONTENT:"ViewContent",FINISH:"Finish",CONVERSION:"Conversion",PURCHASE:"Purchase"}},5955:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,o=0,a=t.length;o<a;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.purchase=t.thirdPartyRegister=t.viewProduct=t.addToCart=t.register=t.pageView=t.initialize=t.checkIsEnable=void 0;var a=n(4256),r=n(2037),c=n(5908),s=n(6933),d={isEnableLineAd:!1,tagEventSet:[],currency:"",isEnableLineCAPISetting:!1,deduplicationKey:"",externalId:""},u=function(){return d};t.checkIsEnable=function(){var e=u()||{},t=e.tagEventSet,n=e.isEnableLineAd;return window._lt&&(null==t?void 0:t.length)>0&&n},t.initialize=function(e){!function(e){d.isEnableLineAd=e.isEnableLineAd||!1,d.tagEventSet=e.tagEventSet||[],d.currency=e.currency,d.isEnableLineCAPISetting=e.isEnableLineCAPISetting,d.deduplicationKey=e.deduplicationKey,d.externalId=e.externalId}(e);var n=(0,t.checkIsEnable)();if(n){var o=(u()||{}).tagEventSet,c=(void 0===o?[]:o).map((function(e){return e.LineTagIdCode}))||[];c.forEach((function(t){window._lt("init",i({customerType:"lap",tagId:t},e.isEnableLineCAPISetting&&{deduplicationKey:e.deduplicationKey,externalId:e.externalId}))})),(0,a.debugLog)(r.TRACKING_MODULE_TYPE.LINE_ADS,"initialize success",{initTagList:c})}else(0,a.warnLog)(r.TRACKING_MODULE_TYPE.LINE_ADS,"initialize insufficient condition",{isEnable:n})},t.pageView=function(){var e=(0,t.checkIsEnable)();if(e){var n=u()||{},i=n.tagEventSet,c=void 0===i?[]:i,s=n.isEnableLineCAPISetting,d=n.deduplicationKey,l=n.externalId,g=c.map((function(e){return e.LineTagIdCode}))||[];window._lt.apply(window,o(["send","pv",g],s?[{deduplicationKey:d,externalId:l}]:[],!1)),(0,a.debugLog)(r.TRACKING_MODULE_TYPE.LINE_ADS,"pageView success",{initTagList:g,isEnableLineCAPISetting:s})}else(0,a.warnLog)(r.TRACKING_MODULE_TYPE.LINE_ADS,"pageView insufficient condition",{isEnable:e})},t.register=function(){var e=(0,t.checkIsEnable)();if(e){var n=(u()||{}).tagEventSet,i=void 0===n?[]:n,o=c.LINE_EVENT_CODE.REGISTRATION,d=(0,s.filterTagIdListByEventCode)(i,o)||[];d.length>0&&(0,s.sendCustomEvent)({tagIdList:d,type:o}),(0,a.debugLog)(r.TRACKING_MODULE_TYPE.LINE_ADS,"registration success",{registrationTagIdList:d})}else(0,a.warnLog)(r.TRACKING_MODULE_TYPE.LINE_ADS,"registration insufficient condition",{isEnable:e})},t.addToCart=function(){var e=(0,t.checkIsEnable)();if(e){var n=(u()||{}).tagEventSet,i=void 0===n?[]:n,o=c.LINE_EVENT_CODE.ADD_TO_CART,d=(0,s.filterTagIdListByEventCode)(i,o)||[];d.length>0&&(0,s.sendCustomEvent)({tagIdList:d,type:o}),(0,a.debugLog)(r.TRACKING_MODULE_TYPE.LINE_ADS,"addToCart success",{isEnable:e,addToCartTagIdList:d})}else(0,a.warnLog)(r.TRACKING_MODULE_TYPE.LINE_ADS,"addToCart insufficient condition",{isEnable:e})},t.viewProduct=function(){var e=(0,t.checkIsEnable)();if(e){var n=u()||{},i=n.tagEventSet,o=void 0===i?[]:i,d=n.isEnableLineCAPISetting,l=n.deduplicationKey,g=n.externalId,p=c.LINE_EVENT_CODE.VIEW_CONTENT,E=(0,s.filterTagIdListByEventCode)(o,p)||[];E.length>0&&(0,s.sendCustomEvent)({tagIdList:E,type:p,isEnableLineCAPISetting:d,deduplicationKey:l,externalId:g}),(0,a.debugLog)(r.TRACKING_MODULE_TYPE.LINE_ADS,"viewProduct success",{isEnable:e,viewContentTagIdList:E,isEnableLineCAPISetting:d})}else(0,a.warnLog)(r.TRACKING_MODULE_TYPE.LINE_ADS,"viewProduct insufficient condition",{isEnable:e})},t.thirdPartyRegister=function(){var e=(u()||{}).tagEventSet,t=void 0===e?[]:e,n=window._lt&&(null==t?void 0:t.length)>0;if(n){var i=c.LINE_EVENT_CODE.REGISTRATION,o=(0,s.filterTagIdListByEventCode)(t,i)||[];o.length>0&&(0,s.sendCustomEvent)({tagIdList:o,type:i}),(0,a.debugLog)(r.TRACKING_MODULE_TYPE.LINE_ADS,"thirdPartyRegister success",{registrationTagIdList:o})}else(0,a.warnLog)(r.TRACKING_MODULE_TYPE.LINE_ADS,"thirdPartyRegister insufficient condition",{isEnable:n})},t.purchase=function(e){var n=(0,t.checkIsEnable)();if(n){var i=u()||{},o=i.tagEventSet,d=void 0===o?[]:o,l=i.currency,g=i.isEnableLineCAPISetting,p=i.deduplicationKey,E=i.externalId,_=(0,s.filterTagIdListByEventCode)(d,c.LINE_EVENT_CODE.FINISH)||[],f=e.orderTotal;(0,s.sendCustomEvent)({type:c.LINE_EVENT_CODE.PURCHASE,tagIdList:_,currency:l,value:f,isEnableLineCAPISetting:g,deduplicationKey:p,externalId:E}),_.length>0&&(0,s.sendCustomEvent)({tagIdList:_,type:c.LINE_EVENT_CODE.CONVERSION}),(0,a.debugLog)(r.TRACKING_MODULE_TYPE.LINE_ADS,"purchase success",{isEnable:n,conversionTagIdList:_,currency:l,value:f,isEnableLineCAPISetting:g})}else(0,a.warnLog)(r.TRACKING_MODULE_TYPE.LINE_ADS,"purchase insufficient condition",{isEnable:n})}},6933:function(e,t,n){"use strict";var i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,o=0,a=t.length;o<a;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.sendCustomEvent=t.filterTagIdListByEventCode=void 0;var o=n(2037),a=n(4256);t.filterTagIdListByEventCode=function(e,t){return e.filter((function(e){return e.LineTrackingEvent.includes(t)})).map((function(e){return e.LineTagIdCode}))},t.sendCustomEvent=function(e){var t=e.tagIdList,n=e.type,r=e.currency,c=e.value,s=e.isEnableLineCAPISetting,d=e.deduplicationKey,u=e.externalId;window._lt.apply(window,i(["send","cv",{type:n,currency:r,value:c},t],s?[{deduplicationKey:d,externalId:u}]:[],!1)),(0,a.debugLog)(o.TRACKING_MODULE_TYPE.LINE_ADS,"sendCustomEvent success",{tagIdList:t,type:n,currency:r,value:c})}},254:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staffboardEntityLocalStorageKey=t.floatTypeKeys=t.intergerTypeKeys=t.stringValue=t.floatValue=t.intergerValue=t.apiHostList=void 0,t.apiHostList={dev:"https://track.qa.91dev.tw/",qa:"https://track.qa.91dev.tw/",qa3:"https://track.qa.91dev.tw/",stage:"https://track.pp.91dev.tw/",prod:"https://track.91app.io/"},t.intergerValue="evtvi",t.floatValue="evtvd",t.stringValue="evtvs",t.intergerTypeKeys=["search_number_of_result","search_filter_item_category","add_to_cart_quantity","remove_from_cart_quantity","checkout_progress_checkout_step","ecommerce_purchase_discount","video_start_video_duration","video_complete_video_duration","video_progress_video_duration","video_progress_video_percent"],t.floatTypeKeys=["add_to_cart_price","remove_from_cart_price","add_to_wishlist_price","remove_from_wishlist_price","view_item_price","search_filter_min_value","search_filter_max_value","ecommerce_purchase_value","ecommerce_purchase_shipping"],t.staffboardEntityLocalStorageKey={attributionEntityViaMedia:"attributionEntityViaMedia",lastVisitAttributionEntity:"lastVisitAttributionEntity",profileEntityViaMedia:"profileEntityViaMedia"}},6909:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.viewItemListV3=t.viewItemListV2=t.viewItemList=t.cancelOrder=t.refund=t.videoProgress=t.videoComplete=t.videoStart=t.sortProducts=t.searchFilter=t.staffboardStaffSales=t.calculateStaffboardAttributionEntity=t.clearAllStaffboardEntity=t.purchase=t.checkoutOnConfirmPayment=t.checkoutOnPaymentAndShipping=t.checkoutProgress=t.searchKeyword=t.productImpression=t.productClick=t.viewProduct=t.selectContent=t.removeFromWishlist=t.addToWishlist=t.removeFromCart=t.addToCart=t.thirdPartyRegister=t.login=t.register=t.thirdPartyRegisterOrLogin=t.pageViewOnStaffboard=t.getStaffboardProfileEntityViaMediaCache=t.getStaffboardLastVisitAttributionEntityCache=t.getStaffboardAttributionEntityViaMediaCache=t.generateStaffboardEntity=t.pageViewOnSalePage=t.pageViewOnPaymentAndShipping=t.pageViewOnGeneral=t.appendNineOneCookieMatchingPixelForAd2=t.trackEvent=t.initialize=t.setSessionToken=t.checkIsEnable=t.setNineOnePageSetting=t.setNineOneInitialSetting=t.generateCommonData=t.getNineOnePageSetting=t.getNineOneInitialSetting=void 0;var o,a,r=n(3131),c=n(2955),s=n(2037),d=n(4256),u=n(4169),l=n(2352),g=n(1154),p=n(254);t.getNineOneInitialSetting=function(){return o||{}},t.getNineOnePageSetting=function(){return a||{}},t.generateCommonData=function(e){var n=(0,t.getNineOneInitialSetting)(),i=n.countryName,o=n.locale,a=n.shopId,r=n.trackingId,c=n.market,s=n.silo,d=n.viewType,l=n.customOuidDimensionName,g=n.clientId,p=(0,t.getNineOnePageSetting)(),E=p.preferredCurrency,_={countryName:i,locale:o,shopId:a,trackingId:r,market:c,silo:s,viewType:d,customOuidDimensionName:l,eventId:e,isLogin:p.isLogin,preferredCurrency:E,emailHashed:p.emailHashed,phoneHashed:p.phoneHashed,vipMemberOuterId:p.vipMemberOuterId,viewId:p.viewId,clientId:g};return(0,u.mapCommonData)(_)},t.setNineOneInitialSetting=function(e){o=e},t.setNineOnePageSetting=function(e){a=e},t.checkIsEnable=function(){return(0,c.checkIsClientRender)()},t.setSessionToken=function(){var e=sessionStorage.getItem("sessionToken");e?(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"set session token early return",{sessionToken:e}):(e=(0,l.generateUUID)(),sessionStorage.setItem("sessionToken",e),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"set session token success",{sessionToken:e}))},t.initialize=function(e){(0,t.setSessionToken)(),(0,t.setNineOneInitialSetting)(e),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"initialize success",{setting:e})},t.trackEvent=function(e){var n=e.nineOneEventData,o=e.eventName,a=e.eventId,r=e.productListData,c=e.otherCustomDimension,l=(0,t.getNineOneInitialSetting)().env,g=(0,t.generateCommonData)(a),p=(0,u.mapEventData)(n,o);(0,u.sendEventToTrackServer)(i(i(i(i({},g),p),r),c),l).then((function(){(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"send event to track server success",{})})).catch((function(e){(0,d.warnLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"send event to track server fail",{error:e})}))};t.appendNineOneCookieMatchingPixelForAd2=function(e){if(e){var n="prod"===e?"prod":"qa";!function(e,n,o){var a=function(e){var n=(0,t.generateCommonData)(e),o=(0,u.mapEventData)({},"userInfo");return(0,u.transformEventPayloadToQueryString)(i(i({},n),o))}(n);o&&(a+="&".concat(o)),(0,g.appendCookieMatchingPixel)(e,a)}("ad2iction_tw",(0,l.generateUUID)(),"nineyi_env=".concat(n))}else(0,d.warnLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"appendNineOneCookieMatchingPixelForAd2 fail, evn not found",{env:e})},t.pageViewOnGeneral=function(e){var n=(0,t.checkIsEnable)(),i=e.eventId,o=e.originalClientId,a=e.pageViewInfo,u=e.pageTitle,l=e.preferredCurrency,g=a.isLogin,p=a.vipMemberOuterId,E=a.memberHashed,_=a.emailHashed,f=a.phoneHashed,v=a.viewType,T=(0,t.getNineOneInitialSetting)(),I=T.shopId,h=T.viewType,y=T.deduplicationKey;if(n){var m=(0,c.getPageType)(),P=m===r.PAGE_TYPE.CUSTOM||m===r.PAGE_TYPE.HIDDEN||m===r.PAGE_TYPE.ACTIVITY?(0,c.getPageViewId)(I):a.viewId;(0,t.setNineOnePageSetting)({isLogin:g,vipMemberOuterId:p,originalClientId:o,viewId:P,emailHashed:(null==E?void 0:E.emailHashed)||_,phoneHashed:(null==E?void 0:E.phoneHashed)||f,preferredCurrency:l,pageTitle:u});var O="view",A={content_source:a.contentSource,view_type:v||h,view_title:encodeURIComponent(u||(0,c.getPageTitle)()),view_id:P||void 0,view_from:(0,c.getViewFrom)(),view_detail:window.location.pathname,event_id:y};(0,t.trackEvent)({nineOneEventData:A,eventName:O,eventId:i}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"pageViewOnGeneral success",{nineOnePageViewData:e,nineOneEventData:A,eventName:O,eventId:i})}else(0,d.warnLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"pageViewOnGeneral insufficient condition",{isEnable:n})},t.pageViewOnPaymentAndShipping=function(){var e=(0,t.checkIsEnable)();if(e){var n=(0,t.getNineOnePageSetting)(),i=n.viewId,o=n.pageTitle,a=(0,t.getNineOneInitialSetting)(),r=a.viewType,u=a.deduplicationKey,l="view",g={view_type:r,view_title:encodeURIComponent(o||(0,c.getPageTitle)()),view_id:i||void 0,view_from:(0,c.getViewFrom)(),view_detail:window.location.pathname,event_id:u};(0,t.trackEvent)({nineOneEventData:g,eventName:l}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"pageViewOnPaymentAndShipping success",{nineOneEventData:g,eventName:l})}else(0,d.warnLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"pageViewOnPaymentAndShipping insufficient condition",{isEnable:e})},t.pageViewOnSalePage=function(e){var n=(0,t.checkIsEnable)(),i=e.originalClientId,o=e.pageViewInfo,a=e.preferredCurrency,r=o.isLogin,c=o.vipMemberOuterId,u=o.viewId,l=o.memberHashed;n?((0,t.setNineOnePageSetting)({isLogin:r,vipMemberOuterId:c,originalClientId:i,viewId:u,emailHashed:null==l?void 0:l.emailHashed,phoneHashed:null==l?void 0:l.phoneHashed,preferredCurrency:a}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"pageViewOnSalePage success",{nineOnePageViewData:e})):(0,d.warnLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"pageViewOnSalePage insufficient condition",{isEnable:n})};var E=function(e){switch(e){case"SBStylingList":case"SBStylingDetail":return"styling";case"SBProfileDetail":case"SBProfileList":return"profile";case"SBVideoDetail":case"SBVideoList":return"video";default:return}};t.generateStaffboardEntity=function(e,t){if(null!=e&&null!=t){var n=(0,c.getUtmInfo)(),i=n.source,o=n.medium;return{entityId:"string"==typeof e?Number(e):e,entityType:E(t),utmSource:i||"",utmMedium:o||""}}},t.getStaffboardAttributionEntityViaMediaCache=function(){var e=window.localStorage.getItem(p.staffboardEntityLocalStorageKey.attributionEntityViaMedia),t=e&&JSON.parse(e);if(t&&t.data&&t.data.entityId&&t.data.entityType&&t.data.utmSource&&t.data.utmMedium&&t.expired&&(new Date).getTime()<=t.expired)return t.data},t.getStaffboardLastVisitAttributionEntityCache=function(){var e=window.localStorage.getItem(p.staffboardEntityLocalStorageKey.lastVisitAttributionEntity),t=e&&JSON.parse(e);if(t&&t.data&&t.data.entityId&&t.data.entityType&&t.expired&&(new Date).getTime()<=t.expired)return t.data},t.getStaffboardProfileEntityViaMediaCache=function(){var e=window.localStorage.getItem(p.staffboardEntityLocalStorageKey.profileEntityViaMedia),t=e&&JSON.parse(e);if(t&&t.data&&t.data.entityId&&t.data.entityType&&t.data.utmSource&&t.data.utmMedium&&t.expired&&(new Date).getTime()<=t.expired)return t.data},t.pageViewOnStaffboard=function(e){try{(0,t.pageViewOnGeneral)(e)}catch(e){}var n=(0,t.getNineOneInitialSetting)().staffBoardConfig;if(!0===(null==n?void 0:n.isEnable)){var o=e.pageViewInfo,a=o.viewId,r=o.viewType,c=(0,t.getStaffboardAttributionEntityViaMediaCache)(),s=(new Date).getTime()+6048e5,d=(0,t.generateStaffboardEntity)(a,r),u=window.nineyi.trackingSdk._SIDE_EFFECTS_||{};if(c)try{window.nineyi.trackingSdk._SIDE_EFFECTS_.staffboard=i(i({},(null==u?void 0:u.staffboard)||{}),{attributionViaMedia:c}),window.localStorage.setItem(p.staffboardEntityLocalStorageKey.attributionEntityViaMedia,JSON.stringify({data:c,expired:s}))}catch(e){}else{if(void 0===d)return;var l=d.utmMedium,g=d.utmSource;if(l&&g)if("SBProfileDetail"===r){var E=(0,t.getStaffboardProfileEntityViaMediaCache)()||d;window.nineyi.trackingSdk._SIDE_EFFECTS_.staffboard=i(i({},(null==u?void 0:u.staffboard)||{}),{profileEntityViaMedia:E}),window.localStorage.setItem(p.staffboardEntityLocalStorageKey.profileEntityViaMedia,JSON.stringify({data:E,expired:s}))}else"SBStylingDetail"!==r&&"SBVideoDetail"!==r||(window.nineyi.trackingSdk._SIDE_EFFECTS_.staffboard=i(i({},(null==u?void 0:u.staffboard)||{}),{attributionViaMedia:d}),window.localStorage.setItem(p.staffboardEntityLocalStorageKey.attributionEntityViaMedia,JSON.stringify({data:d,expired:s})))}if("SBStylingDetail"===r||"SBVideoDetail"===r){if(void 0===d)return;window.nineyi.trackingSdk._SIDE_EFFECTS_.staffboard=i(i({},(null==u?void 0:u.staffboard)||{}),{lastVisitAttributionEntityCache:d}),window.localStorage.setItem(p.staffboardEntityLocalStorageKey.lastVisitAttributionEntity,JSON.stringify({data:d,expired:s}))}var _=(0,t.getStaffboardProfileEntityViaMediaCache)();_&&window.localStorage.setItem(p.staffboardEntityLocalStorageKey.profileEntityViaMedia,JSON.stringify({data:_,expired:s}))}},t.thirdPartyRegisterOrLogin=function(e,n){var i=(0,t.checkIsEnable)();if(i){var o=e?"sign_up":"login",a={method:s.REGISTER_METHOD.SHOP_ACCOUNT,status:s.REGISTER_STAUS.FINISH};(0,t.trackEvent)({nineOneEventData:a,eventName:o,eventId:n})}else(0,d.warnLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"thirdPartyRegisterOrLogin insufficient condition",{isEnable:i})},t.register=function(e,n){var i=(0,t.checkIsEnable)();if(i&&e){var o="sign_up",a={method:e.registerMethod,status:e.registerStatus};(0,t.trackEvent)({nineOneEventData:a,eventName:o,eventId:n}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"register success",{nineOneEventData:a,eventName:o,eventId:n})}else(0,d.warnLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"register insufficient condition",{isEnable:i,registerInfo:e})},t.login=function(e){var n=(0,t.checkIsEnable)();if(n&&e){var i="login",o={method:e.loginMethod,status:e.loginStatus};(0,t.trackEvent)({nineOneEventData:o,eventName:i}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"login success",{nineOneEventData:o,eventName:i})}else(0,d.warnLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"login insufficient condition",{isEnable:n,loginInfo:e})},t.thirdPartyRegister=function(e){var n=(0,t.checkIsEnable)();n?(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"thirdPartyRegister success",{}):(0,d.warnLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"thirdPartyRegister insufficient condition",{isEnable:n,isThirdPartyNewRegistered:e})},t.addToCart=function(e,n,i){var o=(0,t.checkIsEnable)();if(o){var a="add_to_cart",r=e.quantity,c=e.id,u=e.name,l=e.skuId,g=e.skuName,p=e.price,E=e.skuOuterId,_=(0,t.getNineOneInitialSetting)()||{},f=_.viewType,v=_.currency,T={quantity:r,item_id:c,item_name:encodeURIComponent(u),price:p,currency:v,sku_id:l,sku_name:g,sku_outer_id:E,view_id:null==i?void 0:i.viewId,view_title:null==i?void 0:i.viewTitle,view_detail:null==i?void 0:i.viewDetail,view_type:(null==i?void 0:i.viewType)||f,external_id:null==i?void 0:i.externalId};(0,t.trackEvent)({nineOneEventData:T,eventName:a,eventId:n}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"addToCart success",{nineOneEventData:T,eventName:a,eventId:n})}else(0,d.warnLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"addToCart insufficient condition",{isEnable:o,productInfo:e})},t.removeFromCart=function(e){var n=(0,t.checkIsEnable)();if(n){var i=e.quantity,o=e.id,a=e.name,r=e.price,c=e.skuId,u=e.skuName,l=e.skuOuterId,g=(0,t.getNineOneInitialSetting)().currency,p={quantity:i,item_id:o,item_name:encodeURIComponent(a),price:r,currency:g,sku_id:c,sku_name:u,sku_outer_id:l};(0,t.trackEvent)({nineOneEventData:p,eventName:"remove_from_cart"}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"removeFromCart success",{})}else(0,d.warnLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"removeFromCart insufficient condition",{isEnable:n,productInfo:e})},t.addToWishlist=function(e,n,i){var o=(0,t.checkIsEnable)();if(o){var a="add_to_wishlist",r=e.id,c=e.name,u=e.price,l=(0,t.getNineOneInitialSetting)()||{},g=l.viewType,p=l.currency,E={item_id:r,item_name:encodeURIComponent(c),price:u,currency:p,view_id:null==i?void 0:i.viewId,view_title:null==i?void 0:i.viewTitle,view_detail:null==i?void 0:i.viewDetail,view_type:(null==i?void 0:i.viewType)||g};(0,t.trackEvent)({nineOneEventData:E,eventName:a,eventId:n}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"addToWishlist success",{nineOneEventData:E,eventName:a,eventId:n})}else(0,d.warnLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"addToWishlist insufficient condition",{isEnable:o,productInfo:e})},t.removeFromWishlist=function(e){var n=(0,t.checkIsEnable)();if(n){var i=e.id,o=e.name,a=e.price,r=(0,t.getNineOneInitialSetting)().currency,c={item_id:i,item_name:encodeURIComponent(o),price:a,currency:r};(0,t.trackEvent)({nineOneEventData:c,eventName:"remove_from_wishlist"}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"removeFromWishlist success",{})}else(0,d.warnLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"removeFromWishlist insufficient condition",{isEnable:n,productInfo:e})},t.selectContent=function(e){var n=(0,t.checkIsEnable)();if(n&&e){var i="select_content",o=e.contentType,a=e.id,r=e.linkUrl,c=e.name,u=e.viewId,l=e.viewTitle,g=e.viewType,p=e.viewDetail,E=e.itemListId,_=e.contentSource,f=((0,t.getNineOneInitialSetting)()||{}).viewType,v={view_id:u,view_title:l,view_type:g||f,view_detail:p,content_type:o,item_id:a,item_name:encodeURIComponent(c),content_link:r,item_list_id:E,content_source:_};(0,t.trackEvent)({nineOneEventData:v,eventName:i}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"selectContent success",{nineOneEventData:v,eventName:i})}else(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"selectContent failed",{isEnable:n})},t.viewProduct=function(e,n,i){var o=(0,t.checkIsEnable)();if(o){var a="view_item",r=e.id,u=e.name,l=e.price,g=(0,t.getNineOneInitialSetting)(),p=g.viewType,E=g.currency,_=g.deduplicationKey,f={item_name:encodeURIComponent(u),item_id:r,currency:E,price:l,type:i,view_from:(0,c.getViewFrom)(),view_type:p,event_id:_},v={cd5:r};(0,t.trackEvent)({nineOneEventData:f,eventName:a,eventId:n,otherCustomDimension:v}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"viewProduct success",{nineOneEventData:f,eventName:a,eventId:n,otherCustomDimension:v})}else(0,d.warnLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"viewProduct insufficient condition",{isEnable:o,productInfo:e})},t.productClick=function(e){var n=(0,t.checkIsEnable)();n?(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"productClick success",{}):(0,d.warnLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"productClick insufficient condition",{isEnable:n,productInfo:e})},t.productImpression=function(e,n){var i=(0,t.checkIsEnable)();!i||!e||e.length<=0?(0,d.warnLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"productImpression insufficient condition",{isEnable:i,productList:e,listName:n}):(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"productImpression success",{})},t.searchKeyword=function(e,n){var i=(0,t.checkIsEnable)();if(i&&e){var o="search",a=e.resultCount,r={search_term:e.searchTerm,number_of_result:a,search_type:e.searchType};(0,t.trackEvent)({nineOneEventData:r,eventName:o,eventId:n}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"searchKeyword success",{nineOneEventData:r,eventName:o,eventId:n})}else(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"searchKeyword failed",{isEnable:i,searchKeywordInfo:e})},t.checkoutProgress=function(e,n){var i=(0,t.checkIsEnable)();if(i){var o="checkout_progress",a=(0,t.getNineOneInitialSetting)().viewType,r=(0,t.getNineOnePageSetting)().pageTitle,u={checkout_step:e,checkout_step_title:encodeURIComponent(r||(0,c.getPageTitle)()),view_type:a,ver:n};(0,t.trackEvent)({nineOneEventData:u,eventName:o}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"checkoutOnCart success",{nineOneEventData:u,eventName:o})}else(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"checkoutOnCart failed",{isEnable:i})},t.checkoutOnPaymentAndShipping=function(e,n,o){var a=(0,t.checkIsEnable)();if(a){var r=(0,t.getNineOneInitialSetting)(),c=r.viewType,u="begin_checkout",l={currency:r.currency,view_type:c,ver:n},g={};e.forEach((function(e,t){var n,o=e.id,a=e.name,r=e.skuId,c=e.skuName,s=e.quantity,d=e.price,u=e.skuOuterId,l=t+1;g=i(i({},g),((n={})["item_id_".concat(l)]=o,n["item_name_".concat(l)]=encodeURIComponent(a),n["sku_id_".concat(l)]=r,n["sku_name_".concat(l)]=c,n["sku_outer_id_".concat(l)]=u,n["price_".concat(l)]=d,n["quantity_".concat(l)]=s,n))})),(0,t.trackEvent)({nineOneEventData:l,eventName:u,eventId:o,productListData:g}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"checkoutOnPaymentAndShipping success",{nineOneEventData:l,eventName:u,productList:e,productListData:g,eventId:o})}else(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"checkoutOnPaymentAndShipping failed",{isEnable:a,productList:e})};var _=function(e,n){var i=(0,t.checkIsEnable)();if(i){var o="payment_method",a={payment:e};(0,t.trackEvent)({nineOneEventData:a,eventName:o,eventId:n}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"selectPaymentMethod success",{nineOneEventData:a,eventName:o,eventId:n})}else(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"selectPaymentMethod failed",{isEnable:i})},f=function(e,n){var i=(0,t.checkIsEnable)();if(i){var o="shipping_method",a={shipping:e};(0,t.trackEvent)({nineOneEventData:a,eventName:o,eventId:n}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"selectShippingMethod success",{nineOneEventData:a,eventName:o,eventId:n})}else(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"selectShippingMethod failed",{isEnable:i})};t.checkoutOnConfirmPayment=function(e,n){var i=(0,t.checkIsEnable)(),o=e.option;if(i&&o&&-1!==o.indexOf("(")){var a=o.split("("),r=a[0],c=a[1].slice(0,a[1].length-1);_(r,n),f(c,n),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"checkoutOnConfirmPayment success",{})}else(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"checkoutOnConfirmPayment failed",{isEnable:i,option:o})},t.purchase=function(e,n,o,a){var r=(0,t.checkIsEnable)();if(r&&e&&n){var c="ecommerce_purchase",u=(0,t.getNineOneInitialSetting)(),l=u.viewType,g=u.currency,p=u.deduplicationKey,E=e.orderId,v=e.orderTotal,T=e.shipping,I=e.eCouponCode,h=e.totalDiscount,y=e.paymentMethod,m=e.shippingMethod,P={coupon:I,discount:h,currency:g,value:v,transaction_id:E,view_type:l,shipping:T,session_id:sessionStorage.getItem("sessionToken"),ver:a,event_id:p},O={};n.forEach((function(e,t){var n,o=e.id,a=e.name,r=e.skuId,c=e.skuName,s=e.quantity,d=e.price,u=e.skuOuterId,l=t+1;O=i(i({},O),((n={})["item_id_".concat(l)]=o,n["item_name_".concat(l)]=encodeURIComponent(a),n["sku_id_".concat(l)]=r,n["sku_name_".concat(l)]=c,n["sku_outer_id_".concat(l)]=u,n["price_".concat(l)]=d,n["quantity_".concat(l)]=s,n))})),_(y,o),f(m,o),(0,t.trackEvent)({nineOneEventData:P,eventName:c,eventId:o,productListData:O}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"purchase success",{nineOneEventData:P,eventName:c,eventId:o})}else(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"purchase failed",{isEnable:r,purchaseInfo:e,productList:n})},t.clearAllStaffboardEntity=function(){[p.staffboardEntityLocalStorageKey.attributionEntityViaMedia,p.staffboardEntityLocalStorageKey.lastVisitAttributionEntity,p.staffboardEntityLocalStorageKey.profileEntityViaMedia].forEach((function(e){window.localStorage.removeItem(e)})),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"clearAllStaffboardEntity success",{})},t.calculateStaffboardAttributionEntity=function(e,t,n){var i=void 0,o="",a=void 0,r="",c="",u="";if(e||t){if(n)i=n.entityId,o=n.entityType,c=n.utmSource,u=n.utmMedium,a=t.entityId,r=t.entityType;else if(e)i=e.entityId,o=e.entityType,c=e.utmSource,u=e.utmMedium;else{var l=t;i=l.entityId,o=l.entityType}return{refEntityId:i,refEntityType:o,lastVisitRefEntityId:a,lastVisitRefEntityType:r,utmSource:c,utmMedium:u}}(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"staffboardStaffSales skip due to no staffboard entities to attribute",{attributionEntityViaMedia:e})},t.staffboardStaffSales=function(e,n,o,a){var r=(0,t.checkIsEnable)();if(r&&e&&n){var c=(0,t.getNineOneInitialSetting)().staffBoardConfig;if(!0===(null==c?void 0:c.isEnable)){var u=(0,t.getStaffboardAttributionEntityViaMediaCache)(),l=(0,t.getStaffboardLastVisitAttributionEntityCache)(),g=(0,t.getStaffboardProfileEntityViaMediaCache)(),p=(0,t.calculateStaffboardAttributionEntity)(u,l,g);if((0,t.clearAllStaffboardEntity)(),p){var E=p.refEntityId,v=p.refEntityType,T=p.lastVisitRefEntityId,I=p.lastVisitRefEntityType,h=p.utmSource,y=p.utmMedium,m="staffboard_staff_sales",P=(0,t.getNineOneInitialSetting)(),O=P.viewType,A=P.currency,b=P.deduplicationKey,L=e.orderId,C=e.orderTotal,S=e.shipping,N=e.eCouponCode,w=e.totalDiscount,D=e.paymentMethod,G=e.shippingMethod,M={coupon:N,discount:w,currency:A,value:C,transaction_id:L,view_type:O,shipping:S,session_id:sessionStorage.getItem("sessionToken"),ver:a,event_id:b,ref_entity_type:v,ref_entity_id:E,last_visited_entity_id:T,last_visited_entity_type:I,utm_source:h,utm_medium:y},R={};n.forEach((function(e,t){var n,o=e.id,a=e.name,r=e.skuId,c=e.skuName,s=e.quantity,d=e.price,u=e.skuOuterId,l=t+1;R=i(i({},R),((n={})["item_id_".concat(l)]=o,n["item_name_".concat(l)]=encodeURIComponent(a),n["sku_id_".concat(l)]=r,n["sku_name_".concat(l)]=c,n["sku_outer_id_".concat(l)]=u,n["price_".concat(l)]=d,n["quantity_".concat(l)]=s,n))})),_(D,o),f(G,o),(0,t.trackEvent)({nineOneEventData:M,eventName:m,eventId:o,productListData:R}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"staffboardStaffSales success",{nineOneEventData:M,eventName:m,eventId:o})}}}else(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"staffboardStaffSales failed",{isEnable:r,purchaseInfo:e,productList:n})},t.searchFilter=function(e){var n=(0,t.checkIsEnable)();if(n){var i="search_filter",o=e.category,a=e.maxPrice,r=e.minPrice,c=e.payment,u=e.searchMethod,l={payment:c,shipping:e.shipping,min_value:a,max_value:r,item_category:o,search:u};(0,t.trackEvent)({nineOneEventData:l,eventName:i}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"searchFilter success",{nineOneEventData:l,eventName:i})}else(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"searchFilter failed",{isEnable:n})},t.sortProducts=function(e){var n=(0,t.checkIsEnable)();if(n){var i="sort",o={view_type:((0,t.getNineOneInitialSetting)()||{}).viewType,method:e};(0,t.trackEvent)({nineOneEventData:o,eventName:i}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"searchFilter success",{nineOneEventData:o,eventName:i})}else(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"searchFilter failed",{isEnable:n})},t.videoStart=function(e){var n=(0,t.checkIsEnable)();if(n){var i={video_duration:e.duration,video_title:e.title,video_url:e.url};(0,t.trackEvent)({nineOneEventData:i,eventName:"video_start"}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"videoStart success",{nineOneEventData:i})}else(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"videoStart failed",{isEnable:n})},t.videoComplete=function(e){var n=(0,t.checkIsEnable)();if(n){var i={video_duration:e.duration,video_title:e.title,video_url:e.url};(0,t.trackEvent)({nineOneEventData:i,eventName:"video_complete"}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"videoComplete success",{nineOneEventData:i})}else(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"videoComplete failed",{isEnable:n})},t.videoProgress=function(e){var n=(0,t.checkIsEnable)();if(n){var i={video_duration:e.duration,video_title:e.title,video_url:e.url,video_percent:e.percent};(0,t.trackEvent)({nineOneEventData:i,eventName:"video_progress"}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"videoProgress success",{nineOneEventData:i})}else(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"videoProgress failed",{isEnable:n})},t.refund=function(e,n,o){var a=(0,t.checkIsEnable)();if(a&&e&&!(e.length<=0)&&n){var r=(0,t.getNineOneInitialSetting)().currency,c="refund",u={},l=0;e.forEach((function(e,t){var n,o=e.id,a=e.name,r=e.skuId,c=e.skuName,s=e.quantity,d=e.price,g=e.skuOuterId,p=t+1;l+=d*(s||1),u=i(i({},u),((n={})["item_id_".concat(p)]=o,n["item_name_".concat(p)]=encodeURIComponent(a),n["sku_id_".concat(p)]=r,n["sku_name_".concat(p)]=c,n["sku_outer_id_".concat(p)]=g,n["price_".concat(p)]=d,n["quantity_".concat(p)]=s,n))}));var g={currency:r,value:null!=o?o:l,transaction_id:n};(0,t.trackEvent)({nineOneEventData:g,eventName:c,productListData:u}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"refund success",{nineOneEventData:g,eventName:c,productList:e,productListData:u})}else(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"refund failed",{isEnable:a,productList:e,orderId:n,value:o})},t.cancelOrder=function(e,n,o){var a=(0,t.checkIsEnable)();if(a&&e&&!(e.length<=0)&&n){var r=(0,t.getNineOneInitialSetting)().currency,c="cancel_order",u={},l=0;e.forEach((function(e,t){var n,o=e.id,a=e.name,r=e.skuId,c=e.skuName,s=e.quantity,d=e.price,g=e.skuOuterId,p=t+1;l+=d*(s||1),u=i(i({},u),((n={})["item_id_".concat(p)]=o,n["item_name_".concat(p)]=encodeURIComponent(a),n["sku_id_".concat(p)]=r,n["sku_name_".concat(p)]=c,n["sku_outer_id_".concat(p)]=g,n["price_".concat(p)]=d,n["quantity_".concat(p)]=s,n))}));var g={currency:r,value:null!=o?o:l,transaction_id:n};(0,t.trackEvent)({nineOneEventData:g,eventName:c,productListData:u}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"cancelOrder success",{nineOneEventData:g,eventName:c,productList:e,productListData:u})}else(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"cancelOrder failed",{isEnable:a,productList:e,orderId:n,value:o})},t.viewItemList=function(e){var n=(0,t.checkIsEnable)();if(n&&e){var i=(0,t.getNineOneInitialSetting)()||{},o=i.viewType,a=i.currency,r=e.itemListId,c=e.itemListName,u=e.contentType,l=e.contentSource,g=e.viewId,p=e.viewTitle,E=e.itemList,_="view_item_list",f={item_list_id:r,item_list_name:c,content_type:u,content_source:l,view_type:o,view_id:g,view_title:p,currency:a},v={};E.forEach((function(e,t){var n=e.id,i=e.name,o=e.price,a=e.fallbackType,r=t+1;v["item_id_".concat(r)]=n,v["item_name_".concat(r)]=encodeURIComponent(i),v["price_".concat(r)]=o,v["fallback_type_".concat(r)]=a})),(0,t.trackEvent)({nineOneEventData:f,eventName:_,productListData:v}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"viewItemList success",{nineOneEventData:f,eventName:_})}else(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"viewItemList failed",{isEnable:n,viewItemListInfo:e})},t.viewItemListV2=function(e){var n=(0,t.checkIsEnable)();if(n&&e){var i=(0,t.getNineOneInitialSetting)()||{},o=i.viewType,a=i.currency,r=e.itemListId,c=e.itemListName,u=e.contentType,l=e.contentSource,g=e.viewId,p=e.viewTitle,E="view_item_list",_=e.itemList.map((function(e){return{item_id:e.id,item_name:e.name,price:e.price,affiliation:e.affiliation}})),f={item_list_id:r,item_list_name:c,content_type:u,content_source:l,view_type:o,view_id:g,view_title:p,currency:a,items:encodeURIComponent(JSON.stringify(_))};(0,t.trackEvent)({nineOneEventData:f,eventName:E}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"viewItemListV2 success",{nineOneEventData:f,eventName:E})}else(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"viewItemListV2 failed",{isEnable:n,viewItemListInfo:e})},t.viewItemListV3=function(e){var n=(0,t.checkIsEnable)();if(n&&e){var i=(0,t.getNineOneInitialSetting)()||{},o=i.viewType,a=i.currency,r=e.itemListId,c=e.itemListName,u=e.contentType,l=e.contentSource,g=e.viewId,p=e.viewTitle,E=e.viewType,_=e.itemList.map((function(e){return{item_id:e.itemId,item_name:e.itemName,price:e.price,affiliation:e.affiliation}})),f="view_item_list",v={item_list_id:r,item_list_name:c,content_type:u,content_source:l,view_type:E||o,view_id:g,view_title:p,currency:a,items:encodeURIComponent(JSON.stringify(_))};(0,t.trackEvent)({nineOneEventData:v,eventName:f}),(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"viewItemListV3 success",{nineOneEventData:v,eventName:f})}else(0,d.debugLog)(s.TRACKING_MODULE_TYPE.NINE_ONE,"viewItemListV3 failed",{isEnable:n,viewItemListInfo:e})}},4169:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{s(i.next(e))}catch(e){a(e)}}function c(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((i=i.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(e){c=[6,e],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.sendEventToTrackServer=t.getApiHost=t.transformEventPayloadToQueryString=t.mapEventData=t.generateBasicEventData=t.mapCommonData=void 0;var r=n(9475),c=n(4256),s=n(8279),d=n(2037),u=n(254),l=n(8905);function g(e){return{evtn:e}}t.mapCommonData=function(e){var t,n,o,a,c=e.shopId,d=(e.silo,e.market),u=e.trackingId,g=e.locale,p=e.eventId,E=e.vipMemberOuterId,_=e.originalClientId,f=e.isLogin,v=e.viewId,T=e.countryName,I=e.emailHashed,h=e.phoneHashed,y=e.preferredCurrency,m=e.customOuidDimensionName,P=e.clientId,O=(0,r.getCookie)("MID")||P,A=(0,r.getCookie)("MID")?"MID":"gaClientId",b=window.localStorage.getItem("line_userid")||"",L=_?{cd41:_}:{},C=m?((t={})[m]=E,t):{cd10:E},S={v:3,dl:encodeURIComponent(window.location.href),dp:encodeURIComponent("".concat(window.location.pathname).concat(window.location.search)),ch:"web",sr:"".concat(window.screen.width,"x").concat(window.screen.height),ssid:sessionStorage.getItem("sessionToken"),dr:encodeURIComponent(window.document.referrer),ul:window.navigator.language,ht:(new Date).getTime(),uid:(0,r.getCookie)("MID"),tid:u,ld:g?g.toLowerCase():"",ccode:d,evtid:p,ouid:(0,l.getOuterMemberId)(c),fbp:(0,r.getCookie)("_fbp"),fbc:(0,r.getCookie)("_fbc"),shopid:c,cd1:O,cd2:A,cd3:f,cd4:encodeURIComponent("".concat(O||"","//").concat(A,"//").concat(f?f.toString():"")),cd5:v,cd6:T?T.toLowerCase():"",cd7:c?c.toString():"",cd8:g?g.toLowerCase():"",cd9:y,em:I,ph:h,fpids:null!==(n=(0,s.transformToTrackServerSpec)((0,l.getFingerprintId)()))&&void 0!==n?n:"",ad2id:null!==(o=(0,l.getAd2Udid)())&&void 0!==o?o:"",did:null!==(a=(0,l.getStaticDid)())&&void 0!==a?a:""};return P&&(S.cid=P),b&&(S.line_userid=b),i(i(i({},S),L),C)},t.generateBasicEventData=g,t.mapEventData=function(e,t){var n=g(t);return Object.keys(e).filter((function(t){return e[t]||0===e[t]||!1===e[t]})).forEach((function(i,o){var a,r=o+1;a=u.intergerTypeKeys.includes("".concat(t,"_").concat(i))?u.intergerValue:u.floatTypeKeys.includes("".concat(t,"_").concat(i))?u.floatValue:u.stringValue,n["evtk".concat(r)]=i,n["".concat(a).concat(r)]=e[i]})),n},t.transformEventPayloadToQueryString=function(e){var t="";return Object.keys(e).forEach((function(n){(e[n]||0===e[n]||!1===e[n])&&(t+="&".concat(n,"=").concat(e[n]))})),t=t.slice(1)},t.getApiHost=function(e){var t=u.apiHostList[e];if(t)return t;(0,c.warnLog)(d.TRACKING_MODULE_TYPE.NINE_ONE,"API host setting has not existed",{env:e})},t.sendEventToTrackServer=function(e,n){return o(void 0,void 0,void 0,(function(){var i,o,r,s,u;return a(this,(function(a){if((0,c.debugLog)(d.TRACKING_MODULE_TYPE.NINE_ONE,"send event to track server start",{payload:e}),"login"===(i=e.evtn)||"sign_up"===i)null==e||delete e.uid,(0,c.debugLog)(d.TRACKING_MODULE_TYPE.NINE_ONE,"remove uid in login, sign_up event",{payload:e});else if("view"===i&&(o=e.dl))try{new URL(decodeURIComponent(o)).pathname.includes("/V2/Login/")&&(null==e||delete e.uid,(0,c.debugLog)(d.TRACKING_MODULE_TYPE.NINE_ONE,"remove uid in view event when pathname includes /V2/Login/",{payload:e}))}catch(e){(0,c.warnLog)(d.TRACKING_MODULE_TYPE.NINE_ONE,"try to parse dl to URL failed",{dl:o})}return r=(0,t.transformEventPayloadToQueryString)(e),(s=(0,t.getApiHost)(n))?(u="".concat(s).concat("v2/collect","?").concat(r),fetch(u,{method:"GET",mode:"cors",credentials:"include"}),[2]):[2]}))}))}},3618:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.purchase=t.viewProduct=t.addToCart=t.checkIsEnableYahooDotTag=t.initialize=t.getYahooDotTagSetting=t.setYahooDotTagSetting=void 0;var i,o=n(4256),a=n(2037),r=n(2955);t.setYahooDotTagSetting=function(e){i=e},t.getYahooDotTagSetting=function(){return i},t.initialize=function(e){(0,t.setYahooDotTagSetting)(e)},t.checkIsEnableYahooDotTag=function(){var e=((0,t.getYahooDotTagSetting)()||{}).yahooGeminiTrackingInfoList;return!(!((0,r.checkIsClientRender)()&&(null==e?void 0:e.length)>0)||(0,r.checkIsUndefined)(window.dotq))},t.addToCart=function(e){var n=(0,t.checkIsEnableYahooDotTag)();if(n&&e){var i=((0,t.getYahooDotTagSetting)()||{}).yahooGeminiTrackingInfoList,r=void 0===i?[]:i,c=e.id,s=e.price;r.forEach((function(e){var t={projectId:e.projectId,properties:{pixelId:e.pixelId,qstrings:{et:"custom",ea:"AddToCart",gv:s,product_id:c}}};window.dotq.push(t)})),(0,o.debugLog)(a.TRACKING_MODULE_TYPE.YAHOO_DOT_TAG,"addToCart success",{productInfo:e})}else(0,o.debugLog)(a.TRACKING_MODULE_TYPE.YAHOO_DOT_TAG,"addToCart insufficient condition",{isEnable:n})},t.viewProduct=function(e){var n=(0,t.checkIsEnableYahooDotTag)();if(n&&e){var i=((0,t.getYahooDotTagSetting)()||{}).yahooGeminiTrackingInfoList,r=void 0===i?[]:i,c=e.id;r.forEach((function(e){var t={projectId:e.projectId,properties:{pixelId:e.pixelId,qstrings:{et:"custom",ea:"ViewProduct",product_id:c}}};window.dotq.push(t)})),(0,o.debugLog)(a.TRACKING_MODULE_TYPE.YAHOO_DOT_TAG,"viewProduct success",{productInfo:e})}else(0,o.debugLog)(a.TRACKING_MODULE_TYPE.YAHOO_DOT_TAG,"viewProduct insufficient condition",{isEnable:n})},t.purchase=function(e,n){var i=(0,t.checkIsEnableYahooDotTag)();if(i&&e){var r=((0,t.getYahooDotTagSetting)()||{}).yahooGeminiTrackingInfoList;(void 0===r?[]:r).forEach((function(e){var t=e.projectId,i=e.pixelId;n.forEach((function(e){var n=e.id,o=e.price,a={projectId:t,properties:{pixelId:i,qstrings:{et:"custom",ea:"Purchase",gv:o,product_id:n}}};window.dotq.push(a)}))})),(0,o.debugLog)(a.TRACKING_MODULE_TYPE.YAHOO_DOT_TAG,"purchase success",{purchaseInfo:e})}else(0,o.debugLog)(a.TRACKING_MODULE_TYPE.YAHOO_DOT_TAG,"purchase insufficient condition",{isEnable:i})}},9930:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{s(i.next(e))}catch(e){a(e)}}function c(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(e){c=[6,e],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=void 0;var a=n(7201),r=n(4256),c=n(6909);t.initialize=function(e){return new Promise((function(t,n){r.innerLogger.debug("[providers/ad2udid.provider] start to initialize"),(0,a.loadScript)("https://content.ad2iction.com/fj/ad2fp.min.js",(function(){return i(void 0,void 0,void 0,(function(){var n;return o(this,(function(i){switch(i.label){case 0:return[4,window.Ad2fp.getAd2udid()];case 1:return n=i.sent(),(0,c.appendNineOneCookieMatchingPixelForAd2)(e),r.innerLogger.debug("[providers/ad2udid.provider] initialize success",{ad2udid:n}),t(),[2]}}))}))}),(function(e){r.innerLogger.error("[providers/ad2udid.provider] initialize fail",{detail:e}),n()}))}))}},969:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=void 0;var i=n(7201),o=n(4256),a=n(5373);t.initialize=function(e,t){return new Promise((function(n,r){o.innerLogger.debug("[providers/clickForce.provider] start to initialize");var c="".concat((0,a.getCdnPath)(t,e),"/sdk/clickforce.js");(0,i.loadScript)(c,(function(){o.innerLogger.debug("[providers/clickForce.provider] initialize success"),n()}),(function(e){o.innerLogger.error("[providers/clickForce.provider] initialize fail",{detail:e}),r()}))}))}},567:function(e,t,n){"use strict";var i,o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{s(i.next(e))}catch(e){a(e)}}function c(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((i=i.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(e){c=[6,e],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,o=0,a=t.length;o<a;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=t.isInLoadScriptWhiteList=t.isScriptParamsExist=t.toEnabledAgencyNameList=t.getAgenciesConfig=void 0;var c=n(5373),s=n(9930),d=n(969),u=n(4256),l=((i={}).ad2={script:{entryPoint:s.initialize,params:[]}},i.clickforce={script:{entryPoint:d.initialize,params:[]}},i);t.getAgenciesConfig=function(e,t,n){return o(void 0,void 0,void 0,(function(){var i;return a(this,(function(o){switch(o.label){case 0:i=(0,c.getCdnPath)(t,n),o.label=1;case 1:return o.trys.push([1,4,,5]),[4,fetch("".concat(i,"/shop-agency-config/").concat(e,".json"))];case 2:return[4,o.sent().json()];case 3:return[2,o.sent()];case 4:return o.sent(),[2,{agencies:{}}];case 5:return[2]}}))}))},t.toEnabledAgencyNameList=function(e){var t,n=e.agencies,i=[];for(var o in n){var a=o;(null===(t=n[a])||void 0===t?void 0:t.enable)&&i.push(a)}return i},t.isScriptParamsExist=function(e,t){var n,i=null===(n=t[e])||void 0===n?void 0:n.script;return"object"==typeof i&&null!==i&&"function"==typeof i.entryPoint&&Array.isArray(i.params)},t.isInLoadScriptWhiteList=function(e,t,n,i){var o,a,r,c,s=null===(a=null===(o=null==e?void 0:e[n])||void 0===o?void 0:o[i])||void 0===a?void 0:a.shopId;return!!s&&(!!(null===(r=null==s?void 0:s.has)||void 0===r?void 0:r.call(s,t))||1===(null==s?void 0:s.size)&&!!(null===(c=null==s?void 0:s.has)||void 0===c?void 0:c.call(s,"*")))},t.initialize=function(e,n,i){return o(void 0,void 0,void 0,(function(){var o,s,d,g,p,E,_;return a(this,(function(a){switch(a.label){case 0:return"number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&void 0===(null==e?void 0:e.length)?[2]:(0,t.isInLoadScriptWhiteList)(c.loadScriptWhitelist,Number(e),i,n)?[4,(0,t.getAgenciesConfig)(e,n,i)]:[2];case 1:for(o=a.sent(),(0,u.debugLog)("customScript.provider","pulledAgenciesConfig: "+JSON.stringify(o)),s=(0,t.toEnabledAgencyNameList)(o),(0,u.debugLog)("customScript.provider","enabledAgencies: "+JSON.stringify(s)),d=[],g=function(e){if(!(0,t.isScriptParamsExist)(e,l))return"continue";var o=new Promise((function(t,o){var a=l[e].script,c=a.params;a.entryPoint.apply(void 0,r([i,n],c,!1)).then((function(){return t(e)})).catch((function(){return o("".concat(e," script execution failed"))}))}));d.push(o)},p=0,E=s;p<E.length;p++)_=E[p],g(_);return[4,Promise.allSettled(d)];case 2:return a.sent().forEach((function(e){"rejected"===e.status?(0,u.debugLog)("customScript.provider","custom script failed to load, reason:".concat(e.reason)):(0,u.debugLog)("customScript.provider","custom script for agency ".concat(e.value," load successfully"))})),[2]}}))}))}},8279:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{s(i.next(e))}catch(e){a(e)}}function c(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(e){c=[6,e],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.transformToTrackServerSpec=t.initFingerPrint=t.FINGER_PRINT_KEY=void 0;var r=a(n(4529)),c=n(9475),s=n(4256),d=n(2955),u="3.4.1";t.FINGER_PRINT_KEY="91_FPID_v"+u.replace(/\./g,"_"),t.initFingerPrint=function(e,n){return i(void 0,void 0,void 0,(function(){return o(this,(function(i){switch(i.label){case 0:return(0,d.getFingerprintId)()?[2]:[4,r.default.load().then((function(i){var o=null===window||void 0===window?void 0:window.performance.now();i.get().then((function(i){var a=null===window||void 0===window?void 0:window.performance.now(),r=i.visitorId,d=a-o,l="fingerprint ".concat(u," generate fpid ").concat(r," cost ").concat(d," ms"),g={fpid:r,mid:e,gaClientId:n,cost:d};(0,c.addCookie)(t.FINGER_PRINT_KEY,r,1),(0,s.debugLog)("fingerprint.provider",l,g)}))})).catch((function(){return null}))];case 1:return i.sent(),[2]}}))}))},t.transformToTrackServerSpec=function(e){return e?encodeURIComponent(JSON.stringify([{version:u,id:e}])):""}},4256:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.warnLog=t.errorLog=t.debugLog=t.innerLogger=void 0;var o=i(n(8159)),a=n(9475),r=n(2955),c=new o.default({projectId:"dae-application-prod",logName:"nineyi.utility.tracking"}),s=function(){function e(){}return e.prototype.generateEntries=function(e,t,n){return[{message:"[trackingSdk/innerLogger] ".concat(t),customPayload:n,severity:e}]},e.prototype.updateClientInfo=function(e){c.updateClientInfo(e)},e.prototype.debug=function(e,t){!0===d&&console.debug({message:"[trackingSdk/innerLogger] ".concat(e),customPayload:t})},e.prototype.warn=function(e,t){c.sendLogs(this.generateEntries("WARNING",e,t))},e.prototype.error=function(e,t){c.sendLogs(this.generateEntries("ERROR",e,t))},e}();t.innerLogger=new s;var d=(0,r.checkIsClientRender)()&&(!!(0,r.getQueryString)("isDebug")||"isDebug"===(0,a.getCookie)("trackingsdk"));t.debugLog=function(e,t,n){d&&console.debug("[trackingSdk/".concat(e,"] ").concat(t)+(n?", params:".concat(JSON.stringify(n)):""))},t.errorLog=function(e,t,n,i){var o="";i instanceof Error?o=i.message:"string"==typeof i&&(o=i),console.error("[trackingSdk/".concat(e,"] ").concat(t,", params:").concat(JSON.stringify(n),", reason:").concat(o))},t.warnLog=function(e,t,n){console.warn("[trackingSdk/".concat(e,"] ").concat(t,", params:").concat(JSON.stringify(n)))}},2446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getViewFrom=t.getPreviousPagePathName=t.getPageTitle=void 0;var i=n(3131),o=n(7182);t.getPageTitle=function(){return(0,o.checkIsClientRender)()?null===document||void 0===document?void 0:document.title:""},t.getPreviousPagePathName=function(){var e,t,n=document.referrer;return null===(t=null===(e=null==n?void 0:n.split)||void 0===e?void 0:e.call(n,window.location.hostname))||void 0===t?void 0:t[1]},t.getViewFrom=function(){if(!(0,o.checkIsClientRender)())return null;var e=(0,t.getPreviousPagePathName)(),n=((0,i.getPageInfoByPathRegex)(e)||{}).viewType;return void 0===n?null:n}},1453:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFeatureSetting=t.checkPermission=void 0,t.checkPermission=function(e,t){var n,i,o=t.silo,a=t.market,r=t.shopId,c=t.env;if(!(e&&a&&o&&r&&c))return!1;var s=a.toLowerCase(),d=c.toLowerCase(),u=o.toLowerCase(),l=null===(i=null===(n=null==e?void 0:e[u])||void 0===n?void 0:n[d])||void 0===i?void 0:i[s];return!!(null==l?void 0:l.includes(+r))},t.getFeatureSetting=function(e,t){var n,i,o,a=t.silo,r=t.env,c=t.market,s=t.shopId;if(!(e&&c&&a&&s&&r))return null;var d=c.toLowerCase(),u=r.toLowerCase(),l=a.toLowerCase();return(null===(o=null===(i=null===(n=null==e?void 0:e[l])||void 0===n?void 0:n[u])||void 0===i?void 0:i[d])||void 0===o?void 0:o[s])||null}},2955:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(2446),t),o(n(7182),t),o(n(2576),t),o(n(2352),t),o(n(1453),t),o(n(8905),t),o(n(7984),t)},7984:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPageTypeTitle=t.getPageViewId=t.getPageType=void 0;var i=n(3131),o=n(2446);t.getPageType=function(){var e=(0,i.getPageInfoByPathRegex)(window.location.pathname);return(null==e?void 0:e.pageType)||i.PAGE_TYPE.UNKNOWN},t.getPageViewId=function(e){var t,n,o=window.location.pathname,a=(0,i.getPageInfoByPathRegex)(o),r=null===(t=null==a?void 0:a.routerPathFunc)||void 0===t?void 0:t.call(a,{id:"",shopId:e});return(null===(n=o.split(r||"")[1])||void 0===n?void 0:n.split("/")[0])||""},t.getPageTypeTitle=function(){var e=(0,t.getPageType)();return((0,i.getPageInfoByPageType)(e)||{}).pageTitle||(0,o.getPageTitle)()}},7182:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsClientRender=void 0,t.checkIsClientRender=function(){return"undefined"!=typeof window}},7201:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadScript=void 0,t.loadScript=function(e,t,n){var i,o;try{var a=document.createElement("script");a.type="text/javascript",a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,t())}:a.onload=function(){t()},a.src=e,null===(o=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])||void 0===o||o.appendChild(a)}catch(e){if(!n)return;"string"==typeof e?n(e.toUpperCase()):e instanceof Error&&n(e.message)}}},2576:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getReferrerInfo=t.getUtmInfo=t.getQueryString=void 0;var i=n(7182);t.getQueryString=function(e,t){try{var n=RegExp("[?&]".concat(e,"=([^&]*)")).exec(t||window.document.location.search);return n&&decodeURIComponent(decodeURIComponent(n[1].replace(/\+/g," ")))}catch(e){return null}},t.getUtmInfo=function(){return{source:(0,t.getQueryString)("utm_source"),medium:(0,t.getQueryString)("utm_medium"),campaign:(0,t.getQueryString)("utm_campaign"),term:(0,t.getQueryString)("utm_term"),content:(0,t.getQueryString)("utm_content"),campaignCode:(0,t.getQueryString)("utm_id")||(0,t.getQueryString)("RID"),aclid:(0,t.getQueryString)("gclId")||(0,t.getQueryString)("Click_ID"),tripId:(0,t.getQueryString)("tripId")}},t.getReferrerInfo=function(){if(!(0,i.checkIsClientRender)()||!document||!document.referrer)return null;var e=document.referrer.split("://")[1].split("/");return{protocol:document.referrer.split("://")[0],host:e[0],pathName:e.slice(1).join("/")}}},8905:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{s(i.next(e))}catch(e){a(e)}}function c(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(e){c=[6,e],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getStaticDid=t.getDid=t.getAd2Udid=t.getFingerprintId=t.getClientId=t.getOuterMemberId=t.getMemberId=void 0;var a=n(9475),r=n(8279),c=n(2352),s=n(4169),d=n(4256),u=n(2037);t.getMemberId=function(){return(0,a.getCookie)("MID")},t.getOuterMemberId=function(e){return(0,a.getCookie)("".concat(e,":vipMemberOuterId"))},t.getClientId=function(){var e=(0,a.getCookie)("gaClientId");return e||(e=(0,c.generateUUID)(),(0,a.addCookie)("gaClientId",e,731)),e},t.getFingerprintId=function(){return(0,a.getCookie)(r.FINGER_PRINT_KEY)},t.getAd2Udid=function(){return(0,a.getCookie)("ad2udid")},t.getDid=function(e){return i(void 0,void 0,void 0,(function(){var t,n,i,r,c;return o(this,(function(o){switch(o.label){case 0:if(t=(0,a.getCookie)("deviceid"))return[3,5];n=(0,s.getApiHost)(e),i="v2/did",o.label=1;case 1:return o.trys.push([1,4,,5]),[4,fetch("".concat(n).concat(i),{method:"GET",mode:"cors",credentials:"include"})];case 2:return[4,o.sent().json()];case 3:return r=o.sent().did,t=r,(0,a.addCookie)("deviceid",t,731),[3,5];case 4:return c=o.sent(),(0,d.debugLog)(u.TRACKING_MODULE_TYPE.NINE_ONE,"getDid error",{error:c}),[3,5];case 5:return[2,t]}}))}))},t.getStaticDid=function(){return(0,a.getCookie)("deviceid")}},2352:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateDeduplicationKey=t.generateUUID=t.checkIsUndefined=void 0,t.checkIsUndefined=function(e){return null==e},t.generateUUID=function(){var e=Date.now();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))},t.generateDeduplicationKey=function(){return"".concat((0,t.generateUUID)(),"_").concat((new Date).getTime())}},2e3:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8159:e=>{"use strict";e.exports=class{constructor({projectId:e,logName:t,labels:n,credential:i,clientInfo:o,onSuccess:a,onError:r}){this.projectId=e,this.logName=t,this.labels=n,this.credential=i,this.clientInfo=o,this.onSuccess=a,this.onError=r}sendLogs(e){fetch("https://agatha-log-service-kk33tpavpa-de.a.run.app/v1/log",{headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:this.projectId,logName:this.logName,labels:this.labels,credential:this.credential,clientInfo:this.clientInfo,entries:e}),method:"POST"}).then((()=>{this.onSuccess&&this.onSuccess(e)})).catch((t=>{this.onError&&this.onError(t,e)}))}updateClientInfo(e){this.clientInfo=Object.assign(Object.assign({},this.clientInfo),e)}}}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(3607)})();